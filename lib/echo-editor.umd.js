(function(W,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],i):(W=typeof globalThis<"u"?globalThis:W||self,i(W.EchoEditor={},W.vue))})(this,function(W,i){"use strict";var Hq=Object.defineProperty;var jq=(W,i,Fe)=>i in W?Hq(W,i,{enumerable:!0,configurable:!0,writable:!0,value:Fe}):W[i]=Fe;var Ja=(W,i,Fe)=>(jq(W,typeof i!="symbol"?i+"":i,Fe),Fe);function Fe(t){this.content=t}Fe.prototype={constructor:Fe,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var o=n&&n!=t?this.remove(n):this,r=o.find(t),s=o.content.slice();return r==-1?s.push(n||t,e):(s[r+1]=e,n&&(s[r]=n)),new Fe(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Fe(n)},addToStart:function(t,e){return new Fe([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Fe(n)},addBefore:function(t,e,n){var o=this.remove(e),r=o.content.slice(),s=o.find(t);return r.splice(s==-1?r.length:s,0,e,n),new Fe(r)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Fe.from(t),t.size?new Fe(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Fe.from(t),t.size?new Fe(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Fe.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}},Fe.from=function(t){if(t instanceof Fe)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Fe(e)};function xg(t,e,n){for(let o=0;;o++){if(o==t.childCount||o==e.childCount)return t.childCount==e.childCount?null:n;let r=t.child(o),s=e.child(o);if(r==s){n+=r.nodeSize;continue}if(!r.sameMarkup(s))return n;if(r.isText&&r.text!=s.text){for(let a=0;r.text[a]==s.text[a];a++)n++;return n}if(r.content.size||s.content.size){let a=xg(r.content,s.content,n+1);if(a!=null)return a}n+=r.nodeSize}}function kg(t,e,n,o){for(let r=t.childCount,s=e.childCount;;){if(r==0||s==0)return r==s?null:{a:n,b:o};let a=t.child(--r),l=e.child(--s),c=a.nodeSize;if(a==l){n-=c,o-=c;continue}if(!a.sameMarkup(l))return{a:n,b:o};if(a.isText&&a.text!=l.text){let d=0,u=Math.min(a.text.length,l.text.length);for(;d<u&&a.text[a.text.length-d-1]==l.text[l.text.length-d-1];)d++,n--,o--;return{a:n,b:o}}if(a.content.size||l.content.size){let d=kg(a.content,l.content,n-1,o-1);if(d)return d}n-=c,o-=c}}class I{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let o=0;o<e.length;o++)this.size+=e[o].nodeSize}nodesBetween(e,n,o,r=0,s){for(let a=0,l=0;l<n;a++){let c=this.content[a],d=l+c.nodeSize;if(d>e&&o(c,r+l,s||null,a)!==!1&&c.content.size){let u=l+1;c.nodesBetween(Math.max(0,e-u),Math.min(c.content.size,n-u),o,r+u)}l=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,o,r){let s="",a=!0;return this.nodesBetween(e,n,(l,c)=>{let d=l.isText?l.text.slice(Math.max(e,c)-c,n-c):l.isLeaf?r?typeof r=="function"?r(l):r:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&d||l.isTextblock)&&o&&(a?a=!1:s+=o),s+=d},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,o=e.firstChild,r=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(o)&&(r[r.length-1]=n.withText(n.text+o.text),s=1);s<e.content.length;s++)r.push(e.content[s]);return new I(r,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let o=[],r=0;if(n>e)for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;c>e&&((a<e||c>n)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,n-a-1))),o.push(l),r+=l.nodeSize),a=c}return new I(o,r)}cutByIndex(e,n){return e==n?I.empty:e==0&&n==this.content.length?this:new I(this.content.slice(e,n))}replaceChild(e,n){let o=this.content[e];if(o==n)return this;let r=this.content.slice(),s=this.size+n.nodeSize-o.nodeSize;return r[e]=n,new I(r,s)}addToStart(e){return new I([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new I(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,o=0;n<this.content.length;n++){let r=this.content[n];e(r,o,n),o+=r.nodeSize}}findDiffStart(e,n=0){return xg(this,e,n)}findDiffEnd(e,n=this.size,o=e.size){return kg(this,e,n,o)}findIndex(e,n=-1){if(e==0)return Ya(0,e);if(e==this.size)return Ya(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let o=0,r=0;;o++){let s=this.child(o),a=r+s.nodeSize;if(a>=e)return a==e||n>0?Ya(o+1,a):Ya(o,r);r=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return I.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new I(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return I.empty;let n,o=0;for(let r=0;r<e.length;r++){let s=e[r];o+=s.nodeSize,r&&s.isText&&e[r-1].sameMarkup(s)?(n||(n=e.slice(0,r)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new I(n||e,o)}static from(e){if(!e)return I.empty;if(e instanceof I)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new I([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}I.empty=new I([],0);const mu={index:0,offset:0};function Ya(t,e){return mu.index=t,mu.offset=e,mu}function Xa(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let o=0;o<t.length;o++)if(!Xa(t[o],e[o]))return!1}else{for(let o in t)if(!(o in e)||!Xa(t[o],e[o]))return!1;for(let o in e)if(!(o in t))return!1}return!0}let Te=class mg{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,o=!1;for(let r=0;r<e.length;r++){let s=e[r];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,r));else{if(s.type.excludes(this.type))return e;!o&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,r)),n.push(this),o=!0),n&&n.push(s)}}return n||(n=e.slice()),o||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Xa(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let o=e.marks[n.type];if(!o)throw new RangeError(`There is no mark type ${n.type} in this schema`);let r=o.create(n.attrs);return o.checkAttrs(r.attrs),r}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let o=0;o<e.length;o++)if(!e[o].eq(n[o]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return mg.none;if(e instanceof mg)return[e];let n=e.slice();return n.sort((o,r)=>o.type.rank-r.type.rank),n}};Te.none=[];class Za extends Error{}class H{constructor(e,n,o){this.content=e,this.openStart=n,this.openEnd=o}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let o=Sg(this.content,e+this.openStart,n);return o&&new H(o,this.openStart,this.openEnd)}removeBetween(e,n){return new H(Cg(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return H.empty;let o=n.openStart||0,r=n.openEnd||0;if(typeof o!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new H(I.fromJSON(e,n.content),o,r)}static maxOpen(e,n=!0){let o=0,r=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)o++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)r++;return new H(e,o,r)}}H.empty=new H(I.empty,0,0);function Cg(t,e,n){let{index:o,offset:r}=t.findIndex(e),s=t.maybeChild(o),{index:a,offset:l}=t.findIndex(n);if(r==e||s.isText){if(l!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(o,s.copy(Cg(s.content,e-r-1,n-r-1)))}function Sg(t,e,n,o){let{index:r,offset:s}=t.findIndex(e),a=t.maybeChild(r);if(s==e||a.isText)return t.cut(0,e).append(n).append(t.cut(e));let l=Sg(a.content,e-s-1,n);return l&&t.replaceChild(r,a.copy(l))}function t3(t,e,n){if(n.openStart>t.depth)throw new Za("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Za("Inconsistent open depths");return Eg(t,e,n,0)}function Eg(t,e,n,o){let r=t.index(o),s=t.node(o);if(r==e.index(o)&&o<t.depth-n.openStart){let a=Eg(t,e,n,o+1);return s.copy(s.content.replaceChild(r,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==o&&e.depth==o){let a=t.parent,l=a.content;return ur(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:a,end:l}=n3(n,t);return ur(s,Ag(t,a,l,e,o))}else return ur(s,Qa(t,e,o))}function vg(t,e){if(!e.type.compatibleContent(t.type))throw new Za("Cannot join "+e.type.name+" onto "+t.type.name)}function gu(t,e,n){let o=t.node(n);return vg(o,e.node(n)),o}function dr(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function ls(t,e,n,o){let r=(e||t).node(n),s=0,a=e?e.index(n):r.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(dr(t.nodeAfter,o),s++));for(let l=s;l<a;l++)dr(r.child(l),o);e&&e.depth==n&&e.textOffset&&dr(e.nodeBefore,o)}function ur(t,e){return t.type.checkContent(e),t.copy(e)}function Ag(t,e,n,o,r){let s=t.depth>r&&gu(t,e,r+1),a=o.depth>r&&gu(n,o,r+1),l=[];return ls(null,t,r,l),s&&a&&e.index(r)==n.index(r)?(vg(s,a),dr(ur(s,Ag(t,e,n,o,r+1)),l)):(s&&dr(ur(s,Qa(t,e,r+1)),l),ls(e,n,r,l),a&&dr(ur(a,Qa(n,o,r+1)),l)),ls(o,null,r,l),new I(l)}function Qa(t,e,n){let o=[];if(ls(null,t,n,o),t.depth>n){let r=gu(t,e,n+1);dr(ur(r,Qa(t,e,n+1)),o)}return ls(e,null,n,o),new I(o)}function n3(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)r=e.node(s).copy(I.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class cs{constructor(e,n,o){this.pos=e,this.path=n,this.parentOffset=o,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let o=this.pos-this.path[this.path.length-1],r=e.child(n);return o?e.child(n).cut(o):r}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let o=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)r+=o.child(s).nodeSize;return r}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Te.none;if(this.textOffset)return e.child(n).marks;let o=e.maybeChild(n-1),r=e.maybeChild(n);if(!o){let l=o;o=r,r=l}let s=o.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!r||!s[a].isInSet(r.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let o=n.marks,r=e.parent.maybeChild(e.index());for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!r||!o[s].isInSet(r.marks))&&(o=o[s--].removeFromSet(o));return o}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let o=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);o>=0;o--)if(e.pos<=this.end(o)&&(!n||n(this.node(o))))return new ds(this,e,o);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let o=[],r=0,s=n;for(let a=e;;){let{index:l,offset:c}=a.content.findIndex(s),d=s-c;if(o.push(a,l,r+c),!d||(a=a.child(l),a.isText))break;s=d-1,r+=c+1}return new cs(n,o,s)}static resolveCached(e,n){let o=Mg.get(e);if(o)for(let s=0;s<o.elts.length;s++){let a=o.elts[s];if(a.pos==n)return a}else Mg.set(e,o=new o3);let r=o.elts[o.i]=cs.resolve(e,n);return o.i=(o.i+1)%r3,r}}class o3{constructor(){this.elts=[],this.i=0}}const r3=12,Mg=new WeakMap;class ds{constructor(e,n,o){this.$from=e,this.$to=n,this.depth=o}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const i3=Object.create(null);let yo=class gg{constructor(e,n,o,r=Te.none){this.type=e,this.attrs=n,this.marks=r,this.content=o||I.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,o,r=0){this.content.nodesBetween(e,n,o,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,o,r){return this.content.textBetween(e,n,o,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,o){return this.type==e&&Xa(this.attrs,n||e.defaultAttrs||i3)&&Te.sameSet(this.marks,o||Te.none)}copy(e=null){return e==this.content?this:new gg(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new gg(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,o=!1){if(e==n)return H.empty;let r=this.resolve(e),s=this.resolve(n),a=o?0:r.sharedDepth(n),l=r.start(a),d=r.node(a).content.cut(r.pos-l,s.pos-l);return new H(d,r.depth-a,s.depth-a)}replace(e,n,o){return t3(this.resolve(e),this.resolve(n),o)}nodeAt(e){for(let n=this;;){let{index:o,offset:r}=n.content.findIndex(e);if(n=n.maybeChild(o),!n)return null;if(r==e||n.isText)return n;e-=r+1}}childAfter(e){let{index:n,offset:o}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:o}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:o}=this.content.findIndex(e);if(o<e)return{node:this.content.child(n),index:n,offset:o};let r=this.content.child(n-1);return{node:r,index:n-1,offset:o-r.nodeSize}}resolve(e){return cs.resolveCached(this,e)}resolveNoCache(e){return cs.resolve(this,e)}rangeHasMark(e,n,o){let r=!1;return n>e&&this.nodesBetween(e,n,s=>(o.isInSet(s.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),_g(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,o=I.empty,r=0,s=o.childCount){let a=this.contentMatchAt(e).matchFragment(o,r,s),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let c=r;c<s;c++)if(!this.type.allowsMarks(o.child(c).marks))return!1;return!0}canReplaceWith(e,n,o,r){if(r&&!this.type.allowsMarks(r))return!1;let s=this.contentMatchAt(e).matchType(o),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Te.none;for(let n=0;n<this.marks.length;n++){let o=this.marks[n];o.type.checkAttrs(o.attrs),e=o.addToSet(e)}if(!Te.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let o;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");o=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,o)}let r=I.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,r,o);return s.type.checkAttrs(s.attrs),s}};yo.prototype.text=void 0;class el extends yo{constructor(e,n,o,r){if(super(e,n,null,r),!o)throw new RangeError("Empty text nodes are not allowed");this.text=o}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):_g(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new el(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new el(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function _g(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class fr{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let o=new s3(e,n);if(o.next==null)return fr.empty;let r=Tg(o);o.next&&o.err("Unexpected trailing text");let s=p3(f3(r));return h3(s,o),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,o=e.childCount){let r=this;for(let s=n;r&&s<o;s++)r=r.matchType(e.child(s).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let o=0;o<e.next.length;o++)if(this.next[n].type==e.next[o].type)return!0;return!1}fillBefore(e,n=!1,o=0){let r=[this];function s(a,l){let c=a.matchFragment(e,o);if(c&&(!n||c.validEnd))return I.from(l.map(d=>d.createAndFill()));for(let d=0;d<a.next.length;d++){let{type:u,next:f}=a.next[d];if(!(u.isText||u.hasRequiredAttrs())&&r.indexOf(f)==-1){r.push(f);let p=s(f,l.concat(u));if(p)return p}}return null}return s(this,[])}findWrapping(e){for(let o=0;o<this.wrapCache.length;o+=2)if(this.wrapCache[o]==e)return this.wrapCache[o+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),o=[{match:this,type:null,via:null}];for(;o.length;){let r=o.shift(),s=r.match;if(s.matchType(e)){let a=[];for(let l=r;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:l,next:c}=s.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!r.type||c.validEnd)&&(o.push({match:l.contentMatch,type:l,via:r}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(o){e.push(o);for(let r=0;r<o.next.length;r++)e.indexOf(o.next[r].next)==-1&&n(o.next[r].next)}return n(this),e.map((o,r)=>{let s=r+(o.validEnd?"*":" ")+" ";for(let a=0;a<o.next.length;a++)s+=(a?", ":"")+o.next[a].type.name+"->"+e.indexOf(o.next[a].next);return s}).join(`
`)}}fr.empty=new fr(!0);class s3{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Tg(t){let e=[];do e.push(a3(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function a3(t){let e=[];do e.push(l3(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function l3(t){let e=u3(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=c3(t,e);else break;return e}function Bg(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function c3(t,e){let n=Bg(t),o=n;return t.eat(",")&&(t.next!="}"?o=Bg(t):o=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:o,expr:e}}function d3(t,e){let n=t.nodeTypes,o=n[e];if(o)return[o];let r=[];for(let s in n){let a=n[s];a.isInGroup(e)&&r.push(a)}return r.length==0&&t.err("No node type or group '"+e+"' found"),r}function u3(t){if(t.eat("(")){let e=Tg(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=d3(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function f3(t){let e=[[]];return r(s(t,0),n()),e;function n(){return e.push([])-1}function o(a,l,c){let d={term:c,to:l};return e[a].push(d),d}function r(a,l){a.forEach(c=>c.to=l)}function s(a,l){if(a.type=="choice")return a.exprs.reduce((c,d)=>c.concat(s(d,l)),[]);if(a.type=="seq")for(let c=0;;c++){let d=s(a.exprs[c],l);if(c==a.exprs.length-1)return d;r(d,l=n())}else if(a.type=="star"){let c=n();return o(l,c),r(s(a.expr,c),c),[o(c)]}else if(a.type=="plus"){let c=n();return r(s(a.expr,l),c),r(s(a.expr,c),c),[o(c)]}else{if(a.type=="opt")return[o(l)].concat(s(a.expr,l));if(a.type=="range"){let c=l;for(let d=0;d<a.min;d++){let u=n();r(s(a.expr,c),u),c=u}if(a.max==-1)r(s(a.expr,c),c);else for(let d=a.min;d<a.max;d++){let u=n();o(c,u),r(s(a.expr,c),u),c=u}return[o(c)]}else{if(a.type=="name")return[o(l,void 0,a.value)];throw new Error("Unknown expr type")}}}}function Og(t,e){return e-t}function Ng(t,e){let n=[];return o(e),n.sort(Og);function o(r){let s=t[r];if(s.length==1&&!s[0].term)return o(s[0].to);n.push(r);for(let a=0;a<s.length;a++){let{term:l,to:c}=s[a];!l&&n.indexOf(c)==-1&&o(c)}}}function p3(t){let e=Object.create(null);return n(Ng(t,0));function n(o){let r=[];o.forEach(a=>{t[a].forEach(({term:l,to:c})=>{if(!l)return;let d;for(let u=0;u<r.length;u++)r[u][0]==l&&(d=r[u][1]);Ng(t,c).forEach(u=>{d||r.push([l,d=[]]),d.indexOf(u)==-1&&d.push(u)})})});let s=e[o.join(",")]=new fr(o.indexOf(t.length-1)>-1);for(let a=0;a<r.length;a++){let l=r[a][1].sort(Og);s.next.push({type:r[a][0],next:e[l.join(",")]||n(l)})}return s}}function h3(t,e){for(let n=0,o=[t];n<o.length;n++){let r=o[n],s=!r.validEnd,a=[];for(let l=0;l<r.next.length;l++){let{type:c,next:d}=r.next[l];a.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),o.indexOf(d)==-1&&o.push(d)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Pg(t){let e=Object.create(null);for(let n in t){let o=t[n];if(!o.hasDefault)return null;e[n]=o.default}return e}function Ig(t,e){let n=Object.create(null);for(let o in t){let r=e&&e[o];if(r===void 0){let s=t[o];if(s.hasDefault)r=s.default;else throw new RangeError("No value supplied for attribute "+o)}n[o]=r}return n}function Dg(t,e,n,o){for(let r in e)if(!(r in t))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in t){let s=t[r];s.validate&&s.validate(e[r])}}function Rg(t,e){let n=Object.create(null);if(e)for(let o in e)n[o]=new g3(t,o,e[o]);return n}let Lg=class Q4{constructor(e,n,o){this.name=e,this.schema=n,this.spec=o,this.markSet=null,this.groups=o.group?o.group.split(" "):[],this.attrs=Rg(e,o.attrs),this.defaultAttrs=Pg(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(o.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==fr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Ig(this.attrs,e)}create(e=null,n,o){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new yo(this,this.computeAttrs(e),I.from(n),Te.setFrom(o))}createChecked(e=null,n,o){return n=I.from(n),this.checkContent(n),new yo(this,this.computeAttrs(e),n,Te.setFrom(o))}createAndFill(e=null,n,o){if(e=this.computeAttrs(e),n=I.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let r=this.contentMatch.matchFragment(n),s=r&&r.fillBefore(I.empty,!0);return s?new yo(this,e,n.append(s),Te.setFrom(o)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let o=0;o<e.childCount;o++)if(!this.allowsMarks(e.child(o).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Dg(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let o=0;o<e.length;o++)this.allowsMarkType(e[o].type)?n&&n.push(e[o]):n||(n=e.slice(0,o));return n?n.length?n:Te.none:e}static compile(e,n){let o=Object.create(null);e.forEach((s,a)=>o[s]=new Q4(s,n,a));let r=n.spec.topNode||"doc";if(!o[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!o.text)throw new RangeError("Every schema needs a 'text' type");for(let s in o.text.attrs)throw new RangeError("The text node type should not have attributes");return o}};function m3(t,e,n){let o=n.split("|");return r=>{let s=r===null?"null":typeof r;if(o.indexOf(s)<0)throw new RangeError(`Expected value of type ${o} for attribute ${e} on type ${t}, got ${s}`)}}class g3{constructor(e,n,o){this.hasDefault=Object.prototype.hasOwnProperty.call(o,"default"),this.default=o.default,this.validate=typeof o.validate=="string"?m3(e,n,o.validate):o.validate}get isRequired(){return!this.hasDefault}}class tl{constructor(e,n,o,r){this.name=e,this.rank=n,this.schema=o,this.spec=r,this.attrs=Rg(e,r.attrs),this.excluded=null;let s=Pg(this.attrs);this.instance=s?new Te(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Te(this,Ig(this.attrs,e))}static compile(e,n){let o=Object.create(null),r=0;return e.forEach((s,a)=>o[s]=new tl(s,r++,n,a)),o}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){Dg(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class $g{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in e)n[r]=e[r];n.nodes=Fe.from(e.nodes),n.marks=Fe.from(e.marks||{}),this.nodes=Lg.compile(this.spec.nodes,this),this.marks=tl.compile(this.spec.marks,this);let o=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let s=this.nodes[r],a=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=o[a]||(o[a]=fr.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?Vg(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let r in this.marks){let s=this.marks[r],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:Vg(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,o,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Lg){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,o,r)}text(e,n){let o=this.nodes.text;return new el(o,o.defaultAttrs,e,Te.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return yo.fromJSON(this,e)}markFromJSON(e){return Te.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Vg(t,e){let n=[];for(let o=0;o<e.length;o++){let r=e[o],s=t.marks[r],a=s;if(s)n.push(s);else for(let l in t.marks){let c=t.marks[l];(r=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(r)>-1)&&n.push(a=c)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[o]+"'")}return n}function y3(t){return t.tag!=null}function b3(t){return t.style!=null}let us=class yg{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let o=this.matchedStyles=[];n.forEach(r=>{if(y3(r))this.tags.push(r);else if(b3(r)){let s=/[^=]*/.exec(r.style)[0];o.indexOf(s)<0&&o.push(s),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=e.nodes[r.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let o=new jg(this,n,!1);return o.addAll(e,Te.none,n.from,n.to),o.finish()}parseSlice(e,n={}){let o=new jg(this,n,!0);return o.addAll(e,Te.none,n.from,n.to),H.maxOpen(o.finish())}matchTag(e,n,o){for(let r=o?this.tags.indexOf(o)+1:0;r<this.tags.length;r++){let s=this.tags[r];if(k3(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,n,o,r){for(let s=r?this.styles.indexOf(r)+1:0;s<this.styles.length;s++){let a=this.styles[s],l=a.style;if(!(l.indexOf(e)!=0||a.context&&!o.matchesContext(a.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(a.getAttrs){let c=a.getAttrs(n);if(c===!1)continue;a.attrs=c||void 0}return a}}}static schemaRules(e){let n=[];function o(r){let s=r.priority==null?50:r.priority,a=0;for(;a<n.length;a++){let l=n[a];if((l.priority==null?50:l.priority)<s)break}n.splice(a,0,r)}for(let r in e.marks){let s=e.marks[r].spec.parseDOM;s&&s.forEach(a=>{o(a=Ug(a)),a.mark||a.ignore||a.clearMark||(a.mark=r)})}for(let r in e.nodes){let s=e.nodes[r].spec.parseDOM;s&&s.forEach(a=>{o(a=Ug(a)),a.node||a.ignore||a.mark||(a.node=r)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new yg(e,yg.schemaRules(e)))}};const zg={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},w3={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Fg={ol:!0,ul:!0},fs=1,yu=2,ps=4;function Hg(t,e,n){return e!=null?(e?fs:0)|(e==="full"?yu:0):t&&t.whitespace=="pre"?fs|yu:n&~ps}class nl{constructor(e,n,o,r,s,a){this.type=e,this.attrs=n,this.marks=o,this.solid=r,this.options=a,this.content=[],this.activeMarks=Te.none,this.match=s||(a&ps?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(I.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let o=this.type.contentMatch,r;return(r=o.findWrapping(e.type))?(this.match=o,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&fs)){let o=this.content[this.content.length-1],r;if(o&&o.isText&&(r=/[ \t\r\n\u000c]+$/.exec(o.text))){let s=o;o.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-r[0].length))}}let n=I.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(I.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!zg.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class jg{constructor(e,n,o){this.parser=e,this.options=n,this.isOpen=o,this.open=0,this.localPreserveWS=!1;let r=n.topNode,s,a=Hg(null,n.preserveWhitespace,0)|(o?ps:0);r?s=new nl(r.type,r.attrs,Te.none,!0,n.topMatch||r.type.contentMatch,a):o?s=new nl(null,null,Te.none,!0,null,a):s=new nl(e.schema.topNodeType,null,Te.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let o=e.nodeValue,r=this.top,s=r.options&yu?"full":this.localPreserveWS||(r.options&fs)>0;if(s==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(o)){if(s)s!=="full"?o=o.replace(/\r?\n|\r/g," "):o=o.replace(/\r\n?/g,`
`);else if(o=o.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(o)&&this.open==this.nodes.length-1){let a=r.content[r.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(o=o.slice(1))}o&&this.insertNode(this.parser.schema.text(o),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,o){let r=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),l;Fg.hasOwnProperty(a)&&this.parser.normalizeLists&&x3(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,o));e:if(c?c.ignore:w3.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let d,u=this.needsBlock;if(zg.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),d=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let f=c&&c.skip?n:this.readStyles(e,n);f&&this.addAll(e,f),d&&this.sync(s),this.needsBlock=u}else{let d=this.readStyles(e,n);d&&this.addElementByRule(e,c,d,c.consuming===!1?l:void 0)}this.localPreserveWS=r}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let o=e.style;if(o&&o.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let s=this.parser.matchedStyles[r],a=o.getPropertyValue(s);if(a)for(let l=void 0;;){let c=this.parser.matchStyle(s,a,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(d=>!c.clearMark(d)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return n}addElementByRule(e,n,o,r){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),o)||this.leafFallback(e,o);else{let c=this.enter(a,n.attrs||null,o,n.preserveWhitespace);c&&(s=!0,o=c)}else{let c=this.parser.schema.marks[n.mark];o=o.concat(c.create(n.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(r)this.addElement(e,o,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,o));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c,o),this.findAround(e,c,!1)}s&&this.sync(l)&&this.open--}addAll(e,n,o,r){let s=o||0;for(let a=o?e.childNodes[o]:e.firstChild,l=r==null?null:e.childNodes[r];a!=l;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,n);this.findAtPoint(e,s)}findPlace(e,n){let o,r;for(let s=this.open;s>=0;s--){let a=this.nodes[s],l=a.findWrapping(e);if(l&&(!o||o.length>l.length)&&(o=l,r=a,!l.length)||a.solid)break}if(!o)return null;this.sync(r);for(let s=0;s<o.length;s++)n=this.enterInner(o[s],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&(n=this.enterInner(r,null,n))}let o=this.findPlace(e,n);if(o){this.closeExtra();let r=this.top;r.match&&(r.match=r.match.matchType(e.type));let s=Te.none;for(let a of o.concat(e.marks))(r.type?r.type.allowsMarkType(a.type):Wg(a.type,e.type))&&(s=a.addToSet(s));return r.content.push(e.mark(s)),!0}return!1}enter(e,n,o,r){let s=this.findPlace(e.create(n),o);return s&&(s=this.enterInner(e,n,o,!0,r)),s}enterInner(e,n,o,r=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let l=Hg(e,s,a.options);a.options&ps&&a.content.length==0&&(l|=ps);let c=Te.none;return o=o.filter(d=>(a.type?a.type.allowsMarkType(d.type):Wg(d.type,e))?(c=d.addToSet(c),!1):!0),this.nodes.push(new nl(e,n,c,r,null,l)),this.open++,o}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=fs)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let o=this.nodes[n].content;for(let r=o.length-1;r>=0;r--)e+=o[r].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let o=0;o<this.find.length;o++)this.find[o].node==e&&this.find[o].offset==n&&(this.find[o].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,o){if(e!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(o?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),o=this.options.context,r=!this.isOpen&&(!o||o.parent.type==this.nodes[0].type),s=-(o?o.depth+1:0)+(r?0:1),a=(l,c)=>{for(;l>=0;l--){let d=n[l];if(d==""){if(l==n.length-1||l==0)continue;for(;c>=s;c--)if(a(l-1,c))return!0;return!1}else{let u=c>0||c==0&&r?this.nodes[c].type:o&&c>=s?o.node(c-s).type:null;if(!u||u.name!=d&&!u.isInGroup(d))return!1;c--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let o=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(o&&o.isTextblock&&o.defaultAttrs)return o}for(let n in this.parser.schema.nodes){let o=this.parser.schema.nodes[n];if(o.isTextblock&&o.defaultAttrs)return o}}}function x3(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let o=e.nodeType==1?e.nodeName.toLowerCase():null;o&&Fg.hasOwnProperty(o)&&n?(n.appendChild(e),e=n):o=="li"?n=e:o&&(n=null)}}function k3(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Ug(t){let e={};for(let n in t)e[n]=t[n];return e}function Wg(t,e){let n=e.schema.nodes;for(let o in n){let r=n[o];if(!r.allowsMarkType(t))continue;let s=[],a=l=>{s.push(l);for(let c=0;c<l.edgeCount;c++){let{type:d,next:u}=l.edge(c);if(d==e||s.indexOf(u)<0&&a(u))return!0}};if(a(r.contentMatch))return!0}}class bo{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},o){o||(o=bu(n).createDocumentFragment());let r=o,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let l=0,c=0;for(;l<s.length&&c<a.marks.length;){let d=a.marks[c];if(!this.marks[d.type.name]){c++;continue}if(!d.eq(s[l][0])||d.type.spec.spanning===!1)break;l++,c++}for(;l<s.length;)r=s.pop()[1];for(;c<a.marks.length;){let d=a.marks[c++],u=this.serializeMark(d,a.isInline,n);u&&(s.push([d,r]),r.appendChild(u.dom),r=u.contentDOM||u.dom)}}r.appendChild(this.serializeNodeInner(a,n))}),o}serializeNodeInner(e,n){let{dom:o,contentDOM:r}=ol(bu(n),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,r)}return o}serializeNode(e,n={}){let o=this.serializeNodeInner(e,n);for(let r=e.marks.length-1;r>=0;r--){let s=this.serializeMark(e.marks[r],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(o),o=s.dom)}return o}serializeMark(e,n,o={}){let r=this.marks[e.type.name];return r&&ol(bu(o),r(e,n),null,e.attrs)}static renderSpec(e,n,o=null,r){return ol(e,n,o,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new bo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Kg(e.nodes);return n.text||(n.text=o=>o.text),n}static marksFromSchema(e){return Kg(e.marks)}}function Kg(t){let e={};for(let n in t){let o=t[n].spec.toDOM;o&&(e[n]=o)}return e}function bu(t){return t.document||window.document}const qg=new WeakMap;function C3(t){let e=qg.get(t);return e===void 0&&qg.set(t,e=S3(t)),e}function S3(t){let e=null;function n(o){if(o&&typeof o=="object")if(Array.isArray(o))if(typeof o[0]=="string")e||(e=[]),e.push(o);else for(let r=0;r<o.length;r++)n(o[r]);else for(let r in o)n(o[r])}return n(t),e}function ol(t,e,n,o){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],s;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(o&&(s=C3(o))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=r.indexOf(" ");a>0&&(n=r.slice(0,a),r=r.slice(a+1));let l,c=n?t.createElementNS(n,r):t.createElement(r),d=e[1],u=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){u=2;for(let f in d)if(d[f]!=null){let p=f.indexOf(" ");p>0?c.setAttributeNS(f.slice(0,p),f.slice(p+1),d[f]):c.setAttribute(f,d[f])}}for(let f=u;f<e.length;f++){let p=e[f];if(p===0){if(f<e.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:h,contentDOM:m}=ol(t,p,n,o);if(c.appendChild(h),m){if(l)throw new RangeError("Multiple content holes");l=m}}}return{dom:c,contentDOM:l}}const Gg=65535,Jg=Math.pow(2,16);function E3(t,e){return t+e*Jg}function Yg(t){return t&Gg}function v3(t){return(t-(t&Gg))/Jg}const Xg=1,Zg=2,rl=4,Qg=8;class wu{constructor(e,n,o){this.pos=e,this.delInfo=n,this.recover=o}get deleted(){return(this.delInfo&Qg)>0}get deletedBefore(){return(this.delInfo&(Xg|rl))>0}get deletedAfter(){return(this.delInfo&(Zg|rl))>0}get deletedAcross(){return(this.delInfo&rl)>0}}class _t{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&_t.empty)return _t.empty}recover(e){let n=0,o=Yg(e);if(!this.inverted)for(let r=0;r<o;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[o*3]+n+v3(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,o){let r=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>e)break;let d=this.ranges[l+s],u=this.ranges[l+a],f=c+d;if(e<=f){let p=d?e==c?-1:e==f?1:n:n,h=c+r+(p<0?0:u);if(o)return h;let m=e==(n<0?c:f)?null:E3(l/3,e-c),g=e==c?Zg:e==f?Xg:rl;return(n<0?e!=c:e!=f)&&(g|=Qg),new wu(h,g,m)}r+=u-d}return o?e+r:new wu(e+r,0,null)}touches(e,n){let o=0,r=Yg(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?o:0);if(c>e)break;let d=this.ranges[l+s],u=c+d;if(e<=u&&l==r*3)return!0;o+=this.ranges[l+a]-d}return!1}forEach(e){let n=this.inverted?2:1,o=this.inverted?1:2;for(let r=0,s=0;r<this.ranges.length;r+=3){let a=this.ranges[r],l=a-(this.inverted?s:0),c=a+(this.inverted?0:s),d=this.ranges[r+n],u=this.ranges[r+o];e(l,l+d,c,c+u),s+=u-d}}invert(){return new _t(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?_t.empty:new _t(e<0?[0,-e,0]:[0,0,e])}}_t.empty=new _t([]);class Zr{constructor(e=[],n,o=0,r=e.length){this.maps=e,this.mirror=n,this.from=o,this.to=r}slice(e=0,n=this.maps.length){return new Zr(this.maps,this.mirror,e,n)}copy(){return new Zr(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,o=this.maps.length;n<e.maps.length;n++){let r=e.getMirror(n);this.appendMap(e.maps[n],r!=null&&r<n?o+r:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,o=this.maps.length+e.maps.length;n>=0;n--){let r=e.getMirror(n);this.appendMap(e.maps[n].invert(),r!=null&&r>n?o-r-1:void 0)}}invert(){let e=new Zr;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let o=this.from;o<this.to;o++)e=this.maps[o].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,o){let r=0;for(let s=this.from;s<this.to;s++){let a=this.maps[s],l=a.mapResult(e,n);if(l.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,e=this.maps[c].recover(l.recover);continue}}r|=l.delInfo,e=l.pos}return o?e:new wu(e,r,null)}}const xu=Object.create(null);class dt{getMap(){return _t.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let o=xu[n.stepType];if(!o)throw new RangeError(`No step type ${n.stepType} defined`);return o.fromJSON(e,n)}static jsonID(e,n){if(e in xu)throw new RangeError("Duplicate use of step JSON ID "+e);return xu[e]=n,n.prototype.jsonID=e,n}}class qe{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new qe(e,null)}static fail(e){return new qe(null,e)}static fromReplace(e,n,o,r){try{return qe.ok(e.replace(n,o,r))}catch(s){if(s instanceof Za)return qe.fail(s.message);throw s}}}function ku(t,e,n){let o=[];for(let r=0;r<t.childCount;r++){let s=t.child(r);s.content.size&&(s=s.copy(ku(s.content,e,s))),s.isInline&&(s=e(s,n,r)),o.push(s)}return I.fromArray(o)}class wo extends dt{constructor(e,n,o){super(),this.from=e,this.to=n,this.mark=o}apply(e){let n=e.slice(this.from,this.to),o=e.resolve(this.from),r=o.node(o.sharedDepth(this.to)),s=new H(ku(n.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),r),n.openStart,n.openEnd);return qe.fromReplace(e,this.from,this.to,s)}invert(){return new fn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new wo(n.pos,o.pos,this.mark)}merge(e){return e instanceof wo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new wo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new wo(n.from,n.to,e.markFromJSON(n.mark))}}dt.jsonID("addMark",wo);class fn extends dt{constructor(e,n,o){super(),this.from=e,this.to=n,this.mark=o}apply(e){let n=e.slice(this.from,this.to),o=new H(ku(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),n.openStart,n.openEnd);return qe.fromReplace(e,this.from,this.to,o)}invert(){return new wo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new fn(n.pos,o.pos,this.mark)}merge(e){return e instanceof fn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new fn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new fn(n.from,n.to,e.markFromJSON(n.mark))}}dt.jsonID("removeMark",fn);class xo extends dt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return qe.fail("No node at mark step's position");let o=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return qe.fromReplace(e,this.pos,this.pos+1,new H(I.from(o),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let o=this.mark.addToSet(n.marks);if(o.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(o))return new xo(this.pos,n.marks[r]);return new xo(this.pos,this.mark)}}return new Qr(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new xo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new xo(n.pos,e.markFromJSON(n.mark))}}dt.jsonID("addNodeMark",xo);class Qr extends dt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return qe.fail("No node at mark step's position");let o=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return qe.fromReplace(e,this.pos,this.pos+1,new H(I.from(o),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new xo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Qr(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Qr(n.pos,e.markFromJSON(n.mark))}}dt.jsonID("removeNodeMark",Qr);class Je extends dt{constructor(e,n,o,r=!1){super(),this.from=e,this.to=n,this.slice=o,this.structure=r}apply(e){return this.structure&&Cu(e,this.from,this.to)?qe.fail("Structure replace would overwrite content"):qe.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new _t([this.from,this.to-this.from,this.slice.size])}invert(e){return new Je(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deletedAcross&&o.deletedAcross?null:new Je(n.pos,Math.max(n.pos,o.pos),this.slice)}merge(e){if(!(e instanceof Je)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?H.empty:new H(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Je(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?H.empty:new H(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Je(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Je(n.from,n.to,H.fromJSON(e,n.slice),!!n.structure)}}dt.jsonID("replace",Je);class Ye extends dt{constructor(e,n,o,r,s,a,l=!1){super(),this.from=e,this.to=n,this.gapFrom=o,this.gapTo=r,this.slice=s,this.insert=a,this.structure=l}apply(e){if(this.structure&&(Cu(e,this.from,this.gapFrom)||Cu(e,this.gapTo,this.to)))return qe.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return qe.fail("Gap is not a flat range");let o=this.slice.insertAt(this.insert,n.content);return o?qe.fromReplace(e,this.from,this.to,o):qe.fail("Content does not fit in gap")}getMap(){return new _t([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ye(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1),r=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?o.pos:e.map(this.gapTo,1);return n.deletedAcross&&o.deletedAcross||r<n.pos||s>o.pos?null:new Ye(n.pos,o.pos,r,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ye(n.from,n.to,n.gapFrom,n.gapTo,H.fromJSON(e,n.slice),n.insert,!!n.structure)}}dt.jsonID("replaceAround",Ye);function Cu(t,e,n){let o=t.resolve(e),r=n-e,s=o.depth;for(;r>0&&s>0&&o.indexAfter(s)==o.node(s).childCount;)s--,r--;if(r>0){let a=o.node(s).maybeChild(o.indexAfter(s));for(;r>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,r--}}return!1}function A3(t,e,n,o){let r=[],s=[],a,l;t.doc.nodesBetween(e,n,(c,d,u)=>{if(!c.isInline)return;let f=c.marks;if(!o.isInSet(f)&&u.type.allowsMarkType(o.type)){let p=Math.max(d,e),h=Math.min(d+c.nodeSize,n),m=o.addToSet(f);for(let g=0;g<f.length;g++)f[g].isInSet(m)||(a&&a.to==p&&a.mark.eq(f[g])?a.to=h:r.push(a=new fn(p,h,f[g])));l&&l.to==p?l.to=h:s.push(l=new wo(p,h,o))}}),r.forEach(c=>t.step(c)),s.forEach(c=>t.step(c))}function M3(t,e,n,o){let r=[],s=0;t.doc.nodesBetween(e,n,(a,l)=>{if(!a.isInline)return;s++;let c=null;if(o instanceof tl){let d=a.marks,u;for(;u=o.isInSet(d);)(c||(c=[])).push(u),d=u.removeFromSet(d)}else o?o.isInSet(a.marks)&&(c=[o]):c=a.marks;if(c&&c.length){let d=Math.min(l+a.nodeSize,n);for(let u=0;u<c.length;u++){let f=c[u],p;for(let h=0;h<r.length;h++){let m=r[h];m.step==s-1&&f.eq(r[h].style)&&(p=m)}p?(p.to=d,p.step=s):r.push({style:f,from:Math.max(l,e),to:d,step:s})}}}),r.forEach(a=>t.step(new fn(a.from,a.to,a.style)))}function Su(t,e,n,o=n.contentMatch,r=!0){let s=t.doc.nodeAt(e),a=[],l=e+1;for(let c=0;c<s.childCount;c++){let d=s.child(c),u=l+d.nodeSize,f=o.matchType(d.type);if(!f)a.push(new Je(l,u,H.empty));else{o=f;for(let p=0;p<d.marks.length;p++)n.allowsMarkType(d.marks[p].type)||t.step(new fn(l,u,d.marks[p]));if(r&&d.isText&&n.whitespace!="pre"){let p,h=/\r?\n|\r/g,m;for(;p=h.exec(d.text);)m||(m=new H(I.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),a.push(new Je(l+p.index,l+p.index+p[0].length,m))}}l=u}if(!o.validEnd){let c=o.fillBefore(I.empty,!0);t.replace(l,l,new H(c,0,0))}for(let c=a.length-1;c>=0;c--)t.step(a[c])}function _3(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ei(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let o=t.depth;;--o){let r=t.$from.node(o),s=t.$from.index(o),a=t.$to.indexAfter(o);if(o<t.depth&&r.canReplace(s,a,n))return o;if(o==0||r.type.spec.isolating||!_3(r,s,a))break}return null}function T3(t,e,n){let{$from:o,$to:r,depth:s}=e,a=o.before(s+1),l=r.after(s+1),c=a,d=l,u=I.empty,f=0;for(let m=s,g=!1;m>n;m--)g||o.index(m)>0?(g=!0,u=I.from(o.node(m).copy(u)),f++):c--;let p=I.empty,h=0;for(let m=s,g=!1;m>n;m--)g||r.after(m+1)<r.end(m)?(g=!0,p=I.from(r.node(m).copy(p)),h++):d++;t.step(new Ye(c,d,a,l,new H(u.append(p),f,h),u.size-f,!0))}function Eu(t,e,n=null,o=t){let r=B3(t,e),s=r&&O3(o,e);return s?r.map(e0).concat({type:e,attrs:n}).concat(s.map(e0)):null}function e0(t){return{type:t,attrs:null}}function B3(t,e){let{parent:n,startIndex:o,endIndex:r}=t,s=n.contentMatchAt(o).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return n.canReplaceWith(o,r,a)?s:null}function O3(t,e){let{parent:n,startIndex:o,endIndex:r}=t,s=n.child(o),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let c=(a.length?a[a.length-1]:e).contentMatch;for(let d=o;c&&d<r;d++)c=c.matchType(n.child(d).type);return!c||!c.validEnd?null:a}function N3(t,e,n){let o=I.empty;for(let a=n.length-1;a>=0;a--){if(o.size){let l=n[a].type.contentMatch.matchFragment(o);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}o=I.from(n[a].type.create(n[a].attrs,o))}let r=e.start,s=e.end;t.step(new Ye(r,s,r,s,new H(o,0,0),n.length,!0))}function P3(t,e,n,o,r){if(!o.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(a,l)=>{let c=typeof r=="function"?r(a):r;if(a.isTextblock&&!a.hasMarkup(o,c)&&I3(t.doc,t.mapping.slice(s).map(l),o)){let d=null;if(o.schema.linebreakReplacement){let h=o.whitespace=="pre",m=!!o.contentMatch.matchType(o.schema.linebreakReplacement);h&&!m?d=!1:!h&&m&&(d=!0)}d===!1&&n0(t,a,l,s),Su(t,t.mapping.slice(s).map(l,1),o,void 0,d===null);let u=t.mapping.slice(s),f=u.map(l,1),p=u.map(l+a.nodeSize,1);return t.step(new Ye(f,p,f+1,p-1,new H(I.from(o.create(c,null,a.marks)),0,0),1,!0)),d===!0&&t0(t,a,l,s),!1}})}function t0(t,e,n,o){e.forEach((r,s)=>{if(r.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(r.text);){let c=t.mapping.slice(o).map(n+1+s+a.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function n0(t,e,n,o){e.forEach((r,s)=>{if(r.type==r.type.schema.linebreakReplacement){let a=t.mapping.slice(o).map(n+1+s);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function I3(t,e,n){let o=t.resolve(e),r=o.index();return o.parent.canReplaceWith(r,r+1,n)}function D3(t,e,n,o,r){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(o,null,r||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ye(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new H(I.from(a),0,0),1,!0))}function ti(t,e,n=1,o){let r=t.resolve(e),s=r.depth-n,a=o&&o[o.length-1]||r.parent;if(s<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!a.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let d=r.depth-1,u=n-2;d>s;d--,u--){let f=r.node(d),p=r.index(d);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(p,f.childCount),m=o&&o[u+1];m&&(h=h.replaceChild(0,m.type.create(m.attrs)));let g=o&&o[u]||f;if(!f.canReplace(p+1,f.childCount)||!g.type.validContent(h))return!1}let l=r.indexAfter(s),c=o&&o[0];return r.node(s).canReplaceWith(l,l,c?c.type:r.node(s+1).type)}function R3(t,e,n=1,o){let r=t.doc.resolve(e),s=I.empty,a=I.empty;for(let l=r.depth,c=r.depth-n,d=n-1;l>c;l--,d--){s=I.from(r.node(l).copy(s));let u=o&&o[d];a=I.from(u?u.type.create(u.attrs,a):r.node(l).copy(a))}t.step(new Je(e,e,new H(s.append(a),n,n),!0))}function ko(t,e){let n=t.resolve(e),o=n.index();return o0(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(o,o+1)}function L3(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:o}=t.type.schema;for(let r=0;r<e.childCount;r++){let s=e.child(r),a=s.type==o?t.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function o0(t,e){return!!(t&&e&&!t.isLeaf&&L3(t,e))}function il(t,e,n=-1){let o=t.resolve(e);for(let r=o.depth;;r--){let s,a,l=o.index(r);if(r==o.depth?(s=o.nodeBefore,a=o.nodeAfter):n>0?(s=o.node(r+1),l++,a=o.node(r).maybeChild(l)):(s=o.node(r).maybeChild(l-1),a=o.node(r+1)),s&&!s.isTextblock&&o0(s,a)&&o.node(r).canReplace(l,l+1))return e;if(r==0)break;e=n<0?o.before(r):o.after(r)}}function $3(t,e,n){let o=null,{linebreakReplacement:r}=t.doc.type.schema,s=t.doc.resolve(e-n),a=s.node().type;if(r&&a.inlineContent){let u=a.whitespace=="pre",f=!!a.contentMatch.matchType(r);u&&!f?o=!1:!u&&f&&(o=!0)}let l=t.steps.length;if(o===!1){let u=t.doc.resolve(e+n);n0(t,u.node(),u.before(),l)}a.inlineContent&&Su(t,e+n-1,a,s.node().contentMatchAt(s.index()),o==null);let c=t.mapping.slice(l),d=c.map(e-n);if(t.step(new Je(d,c.map(e+n,-1),H.empty,!0)),o===!0){let u=t.doc.resolve(d);t0(t,u.node(),u.before(),t.steps.length)}return t}function V3(t,e,n){let o=t.resolve(e);if(o.parent.canReplaceWith(o.index(),o.index(),n))return e;if(o.parentOffset==0)for(let r=o.depth-1;r>=0;r--){let s=o.index(r);if(o.node(r).canReplaceWith(s,s,n))return o.before(r+1);if(s>0)return null}if(o.parentOffset==o.parent.content.size)for(let r=o.depth-1;r>=0;r--){let s=o.indexAfter(r);if(o.node(r).canReplaceWith(s,s,n))return o.after(r+1);if(s<o.node(r).childCount)return null}return null}function r0(t,e,n){let o=t.resolve(e);if(!n.content.size)return e;let r=n.content;for(let s=0;s<n.openStart;s++)r=r.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=o.depth;a>=0;a--){let l=a==o.depth?0:o.pos<=(o.start(a+1)+o.end(a+1))/2?-1:1,c=o.index(a)+(l>0?1:0),d=o.node(a),u=!1;if(s==1)u=d.canReplace(c,c,r);else{let f=d.contentMatchAt(c).findWrapping(r.firstChild.type);u=f&&d.canReplaceWith(c,c,f[0])}if(u)return l==0?o.pos:l<0?o.before(a+1):o.after(a+1)}return null}function sl(t,e,n=e,o=H.empty){if(e==n&&!o.size)return null;let r=t.resolve(e),s=t.resolve(n);return i0(r,s,o)?new Je(e,n,o):new z3(r,s,o).fit()}function i0(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class z3{constructor(e,n,o){this.$from=e,this.$to=n,this.unplaced=o,this.frontier=[],this.placed=I.empty;for(let r=0;r<=e.depth;r++){let s=e.node(r);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=I.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,o=this.$from,r=this.close(e<0?this.$to:o.doc.resolve(e));if(!r)return null;let s=this.placed,a=o.depth,l=r.depth;for(;a&&l&&s.childCount==1;)s=s.firstChild.content,a--,l--;let c=new H(s,a,l);return e>-1?new Ye(o.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||o.pos!=this.$to.pos?new Je(o.pos,r.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,o=0,r=this.unplaced.openEnd;o<e;o++){let s=n.firstChild;if(n.childCount>1&&(r=0),s.type.spec.isolating&&r<=o){e=o;break}n=s.content}for(let n=1;n<=2;n++)for(let o=n==1?e:this.unplaced.openStart;o>=0;o--){let r,s=null;o?(s=vu(this.unplaced.content,o-1).firstChild,r=s.content):r=this.unplaced.content;let a=r.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:d}=this.frontier[l],u,f=null;if(n==1&&(a?d.matchType(a.type)||(f=d.fillBefore(I.from(a),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:o,frontierDepth:l,parent:s,inject:f};if(n==2&&a&&(u=d.findWrapping(a.type)))return{sliceDepth:o,frontierDepth:l,parent:s,wrap:u};if(s&&d.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:o}=this.unplaced,r=vu(e,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new H(e,n+1,Math.max(o,r.size+n>=e.size-o?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:o}=this.unplaced,r=vu(e,n);if(r.childCount<=1&&n>0){let s=e.size-n<=n+r.size;this.unplaced=new H(hs(e,n-1,1),n-1,s?n-1:o)}else this.unplaced=new H(hs(e,n,1),n,o)}placeNodes({sliceDepth:e,frontierDepth:n,parent:o,inject:r,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let a=this.unplaced,l=o?o.content:a.content,c=a.openStart-e,d=0,u=[],{match:f,type:p}=this.frontier[n];if(r){for(let g=0;g<r.childCount;g++)u.push(r.child(g));f=f.matchFragment(r)}let h=l.size+e-(a.content.size-a.openEnd);for(;d<l.childCount;){let g=l.child(d),y=f.matchType(g.type);if(!y)break;d++,(d>1||c==0||g.content.size)&&(f=y,u.push(s0(g.mark(p.allowedMarks(g.marks)),d==1?c:0,d==l.childCount?h:-1)))}let m=d==l.childCount;m||(h=-1),this.placed=ms(this.placed,n,I.from(u)),this.frontier[n].match=f,m&&h<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,y=l;g<h;g++){let b=y.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),y=b.content}this.unplaced=m?e==0?H.empty:new H(hs(a.content,e-1,1),e-1,h<0?a.openEnd:e-1):new H(hs(a.content,e,d),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Au(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:o}=this.$to,r=this.$to.after(o);for(;o>1&&r==this.$to.end(--o);)++r;return r}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:o,type:r}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=Au(e,n,r,o,s);if(a){for(let l=n-1;l>=0;l--){let{match:c,type:d}=this.frontier[l],u=Au(e,l,d,c,!0);if(!u||u.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ms(this.placed,n.depth,n.fit)),e=n.move;for(let o=n.depth+1;o<=e.depth;o++){let r=e.node(o),s=r.type.contentMatch.fillBefore(r.content,!0,e.index(o));this.openFrontierNode(r.type,r.attrs,s)}return e}openFrontierNode(e,n=null,o){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=ms(this.placed,this.depth,I.from(e.create(n,o))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(I.empty,!0);n.childCount&&(this.placed=ms(this.placed,this.frontier.length,n))}}function hs(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(hs(t.firstChild.content,e-1,n)))}function ms(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ms(t.lastChild.content,e-1,n)))}function vu(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function s0(t,e,n){if(e<=0)return t;let o=t.content;return e>1&&(o=o.replaceChild(0,s0(o.firstChild,e-1,o.childCount==1?n-1:0))),e>0&&(o=t.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(t.type.contentMatch.matchFragment(o).fillBefore(I.empty,!0)))),t.copy(o)}function Au(t,e,n,o,r){let s=t.node(e),a=r?t.indexAfter(e):t.index(e);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let l=o.fillBefore(s.content,!0,a);return l&&!F3(n,s.content,a)?l:null}function F3(t,e,n){for(let o=n;o<e.childCount;o++)if(!t.allowsMarks(e.child(o).marks))return!0;return!1}function H3(t){return t.spec.defining||t.spec.definingForContent}function j3(t,e,n,o){if(!o.size)return t.deleteRange(e,n);let r=t.doc.resolve(e),s=t.doc.resolve(n);if(i0(r,s,o))return t.step(new Je(e,n,o));let a=l0(r,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let l=-(r.depth+1);a.unshift(l);for(let p=r.depth,h=r.pos-1;p>0;p--,h--){let m=r.node(p).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;a.indexOf(p)>-1?l=p:r.before(p)==h&&a.splice(1,0,-p)}let c=a.indexOf(l),d=[],u=o.openStart;for(let p=o.content,h=0;;h++){let m=p.firstChild;if(d.push(m),h==o.openStart)break;p=m.content}for(let p=u-1;p>=0;p--){let h=d[p],m=H3(h.type);if(m&&!h.sameMarkup(r.node(Math.abs(l)-1)))u=p;else if(m||!h.type.isTextblock)break}for(let p=o.openStart;p>=0;p--){let h=(p+u+1)%(o.openStart+1),m=d[h];if(m)for(let g=0;g<a.length;g++){let y=a[(g+c)%a.length],b=!0;y<0&&(b=!1,y=-y);let x=r.node(y-1),k=r.index(y-1);if(x.canReplaceWith(k,k,m.type,m.marks))return t.replace(r.before(y),b?s.after(y):n,new H(a0(o.content,0,o.openStart,h),h,o.openEnd))}}let f=t.steps.length;for(let p=a.length-1;p>=0&&(t.replace(e,n,o),!(t.steps.length>f));p--){let h=a[p];h<0||(e=r.before(h),n=s.after(h))}}function a0(t,e,n,o,r){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(a0(s.content,e+1,n,o,s)))}if(e>o){let s=r.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(I.empty,!0))}return t}function U3(t,e,n,o){if(!o.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=V3(t.doc,e,o.type);r!=null&&(e=n=r)}t.replaceRange(e,n,new H(I.from(o),0,0))}function W3(t,e,n){let o=t.doc.resolve(e),r=t.doc.resolve(n),s=l0(o,r);for(let a=0;a<s.length;a++){let l=s[a],c=a==s.length-1;if(c&&l==0||o.node(l).type.contentMatch.validEnd)return t.delete(o.start(l),r.end(l));if(l>0&&(c||o.node(l-1).canReplace(o.index(l-1),r.indexAfter(l-1))))return t.delete(o.before(l),r.after(l))}for(let a=1;a<=o.depth&&a<=r.depth;a++)if(e-o.start(a)==o.depth-a&&n>o.end(a)&&r.end(a)-n!=r.depth-a&&o.start(a-1)==r.start(a-1)&&o.node(a-1).canReplace(o.index(a-1),r.index(a-1)))return t.delete(o.before(a),n);t.delete(e,n)}function l0(t,e){let n=[],o=Math.min(t.depth,e.depth);for(let r=o;r>=0;r--){let s=t.start(r);if(s<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(s==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==s-1)&&n.push(r)}return n}class ni extends dt{constructor(e,n,o){super(),this.pos=e,this.attr=n,this.value=o}apply(e){let n=e.nodeAt(this.pos);if(!n)return qe.fail("No node at attribute step's position");let o=Object.create(null);for(let s in n.attrs)o[s]=n.attrs[s];o[this.attr]=this.value;let r=n.type.create(o,null,n.marks);return qe.fromReplace(e,this.pos,this.pos+1,new H(I.from(r),0,n.isLeaf?0:1))}getMap(){return _t.empty}invert(e){return new ni(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ni(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ni(n.pos,n.attr,n.value)}}dt.jsonID("attr",ni);class gs extends dt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let r in e.attrs)n[r]=e.attrs[r];n[this.attr]=this.value;let o=e.type.create(n,e.content,e.marks);return qe.ok(o)}getMap(){return _t.empty}invert(e){return new gs(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new gs(n.attr,n.value)}}dt.jsonID("docAttr",gs);let oi=class extends Error{};oi=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},oi.prototype=Object.create(Error.prototype),oi.prototype.constructor=oi,oi.prototype.name="TransformError";class Mu{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Zr}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new oi(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,o=H.empty){let r=sl(this.doc,e,n,o);return r&&this.step(r),this}replaceWith(e,n,o){return this.replace(e,n,new H(I.from(o),0,0))}delete(e,n){return this.replace(e,n,H.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,o){return j3(this,e,n,o),this}replaceRangeWith(e,n,o){return U3(this,e,n,o),this}deleteRange(e,n){return W3(this,e,n),this}lift(e,n){return T3(this,e,n),this}join(e,n=1){return $3(this,e,n),this}wrap(e,n){return N3(this,e,n),this}setBlockType(e,n=e,o,r=null){return P3(this,e,n,o,r),this}setNodeMarkup(e,n,o=null,r){return D3(this,e,n,o,r),this}setNodeAttribute(e,n,o){return this.step(new ni(e,n,o)),this}setDocAttribute(e,n){return this.step(new gs(e,n)),this}addNodeMark(e,n){return this.step(new xo(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Te)){let o=this.doc.nodeAt(e);if(!o)throw new RangeError("No node at position "+e);if(n=n.isInSet(o.marks),!n)return this}return this.step(new Qr(e,n)),this}split(e,n=1,o){return R3(this,e,n,o),this}addMark(e,n,o){return A3(this,e,n,o),this}removeMark(e,n,o){return M3(this,e,n,o),this}clearIncompatible(e,n,o){return Su(this,e,n,o),this}}const _u=Object.create(null);let ee=class{constructor(e,n,o){this.$anchor=e,this.$head=n,this.ranges=o||[new Tu(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=H.empty){let o=n.content.lastChild,r=null;for(let l=0;l<n.openEnd;l++)r=o,o=o.lastChild;let s=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:c,$to:d}=a[l],u=e.mapping.slice(s);e.replaceRange(u.map(c.pos),u.map(d.pos),l?H.empty:n),l==0&&u0(e,s,(o?o.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,n){let o=e.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){let{$from:a,$to:l}=r[s],c=e.mapping.slice(o),d=c.map(a.pos),u=c.map(l.pos);s?e.deleteRange(d,u):(e.replaceRangeWith(d,u,n),u0(e,o,n.isInline?-1:1))}}static findFrom(e,n,o=!1){let r=e.parent.inlineContent?new Y(e):ri(e.node(0),e.parent,e.pos,e.index(),n,o);if(r)return r;for(let s=e.depth-1;s>=0;s--){let a=n<0?ri(e.node(0),e.node(s),e.before(s+1),e.index(s),n,o):ri(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,o);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new kt(e.node(0))}static atStart(e){return ri(e,e,0,0,1)||new kt(e)}static atEnd(e){return ri(e,e,e.content.size,e.childCount,-1)||new kt(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let o=_u[n.type];if(!o)throw new RangeError(`No selection type ${n.type} defined`);return o.fromJSON(e,n)}static jsonID(e,n){if(e in _u)throw new RangeError("Duplicate use of selection JSON ID "+e);return _u[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Y.between(this.$anchor,this.$head).getBookmark()}};ee.prototype.visible=!0;class Tu{constructor(e,n){this.$from=e,this.$to=n}}let c0=!1;function d0(t){!c0&&!t.parent.inlineContent&&(c0=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Y extends ee{constructor(e,n=e){d0(e),d0(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let o=e.resolve(n.map(this.head));if(!o.parent.inlineContent)return ee.near(o);let r=e.resolve(n.map(this.anchor));return new Y(r.parent.inlineContent?r:o,o)}replace(e,n=H.empty){if(super.replace(e,n),n==H.empty){let o=this.$from.marksAcross(this.$to);o&&e.ensureMarks(o)}}eq(e){return e instanceof Y&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new al(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Y(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,o=n){let r=e.resolve(n);return new this(r,o==n?r:e.resolve(o))}static between(e,n,o){let r=e.pos-n.pos;if((!o||r)&&(o=r>=0?1:-1),!n.parent.inlineContent){let s=ee.findFrom(n,o,!0)||ee.findFrom(n,-o,!0);if(s)n=s.$head;else return ee.near(n,o)}return e.parent.inlineContent||(r==0?e=n:(e=(ee.findFrom(e,-o,!0)||ee.findFrom(e,o,!0)).$anchor,e.pos<n.pos!=r<0&&(e=n))),new Y(e,n)}}ee.jsonID("text",Y);class al{constructor(e,n){this.anchor=e,this.head=n}map(e){return new al(e.map(this.anchor),e.map(this.head))}resolve(e){return Y.between(e.resolve(this.anchor),e.resolve(this.head))}}class X extends ee{constructor(e){let n=e.nodeAfter,o=e.node(0).resolve(e.pos+n.nodeSize);super(e,o),this.node=n}map(e,n){let{deleted:o,pos:r}=n.mapResult(this.anchor),s=e.resolve(r);return o?ee.near(s):new X(s)}content(){return new H(I.from(this.node),0,0)}eq(e){return e instanceof X&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Bu(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new X(e.resolve(n.anchor))}static create(e,n){return new X(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}X.prototype.visible=!1,ee.jsonID("node",X);class Bu{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:o}=e.mapResult(this.anchor);return n?new al(o,o):new Bu(o)}resolve(e){let n=e.resolve(this.anchor),o=n.nodeAfter;return o&&X.isSelectable(o)?new X(n):ee.near(n)}}class kt extends ee{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=H.empty){if(n==H.empty){e.delete(0,e.doc.content.size);let o=ee.atStart(e.doc);o.eq(e.selection)||e.setSelection(o)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new kt(e)}map(e){return new kt(e)}eq(e){return e instanceof kt}getBookmark(){return K3}}ee.jsonID("all",kt);const K3={map(){return this},resolve(t){return new kt(t)}};function ri(t,e,n,o,r,s=!1){if(e.inlineContent)return Y.create(t,n);for(let a=o-(r>0?0:1);r>0?a<e.childCount:a>=0;a+=r){let l=e.child(a);if(l.isAtom){if(!s&&X.isSelectable(l))return X.create(t,n-(r<0?l.nodeSize:0))}else{let c=ri(t,l,n+r,r<0?l.childCount:0,r,s);if(c)return c}n+=l.nodeSize*r}return null}function u0(t,e,n){let o=t.steps.length-1;if(o<e)return;let r=t.steps[o];if(!(r instanceof Je||r instanceof Ye))return;let s=t.mapping.maps[o],a;s.forEach((l,c,d,u)=>{a==null&&(a=u)}),t.setSelection(ee.near(t.doc.resolve(a),n))}const f0=1,ll=2,p0=4;let q3=class extends Mu{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|f0)&~ll,this.storedMarks=null,this}get selectionSet(){return(this.updated&f0)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=ll,this}ensureMarks(e){return Te.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ll)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~ll,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let o=this.selection;return n&&(e=e.mark(this.storedMarks||(o.empty?o.$from.marks():o.$from.marksAcross(o.$to)||Te.none))),o.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,o){let r=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(o==null&&(o=n),o=o??n,!e)return this.deleteRange(n,o);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=o==n?a.marks():a.marksAcross(this.doc.resolve(o))}return this.replaceRangeWith(n,o,r.text(e,s)),this.selection.empty||this.setSelection(ee.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=p0,this}get scrolledIntoView(){return(this.updated&p0)>0}};function h0(t,e){return!e||!t?t:t.bind(e)}class ys{constructor(e,n,o){this.name=e,this.init=h0(n.init,o),this.apply=h0(n.apply,o)}}const G3=[new ys("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new ys("selection",{init(t,e){return t.selection||ee.atStart(e.doc)},apply(t){return t.selection}}),new ys("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,o){return o.selection.$cursor?t.storedMarks:null}}),new ys("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Ou{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=G3.slice(),n&&n.forEach(o=>{if(this.pluginsByKey[o.key])throw new RangeError("Adding different instances of a keyed plugin ("+o.key+")");this.plugins.push(o),this.pluginsByKey[o.key]=o,o.spec.state&&this.fields.push(new ys(o.key,o.spec.state,o))})}}class ii{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let o=0;o<this.config.plugins.length;o++)if(o!=n){let r=this.config.plugins[o];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],o=this.applyInner(e),r=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let c=r?r[a].n:0,d=r?r[a].state:this,u=c<n.length&&l.spec.appendTransaction.call(l,c?n.slice(c):n,d,o);if(u&&o.filterTransaction(u,a)){if(u.setMeta("appendedTransaction",e),!r){r=[];for(let f=0;f<this.config.plugins.length;f++)r.push(f<a?{state:o,n:n.length}:{state:this,n:0})}n.push(u),o=o.applyInner(u),s=!0}r&&(r[a]={state:o,n:n.length})}}if(!s)return{state:o,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ii(this.config),o=this.config.fields;for(let r=0;r<o.length;r++){let s=o[r];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new q3(this)}static create(e){let n=new Ou(e.doc?e.doc.type.schema:e.schema,e.plugins),o=new ii(n);for(let r=0;r<n.fields.length;r++)o[n.fields[r].name]=n.fields[r].init(e,o);return o}reconfigure(e){let n=new Ou(this.schema,e.plugins),o=n.fields,r=new ii(n);for(let s=0;s<o.length;s++){let a=o[s].name;r[a]=this.hasOwnProperty(a)?this[a]:o[s].init(e,r)}return r}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(o=>o.toJSON())),e&&typeof e=="object")for(let o in e){if(o=="doc"||o=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[o],s=r.spec.state;s&&s.toJSON&&(n[o]=s.toJSON.call(r,this[r.key]))}return n}static fromJSON(e,n,o){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new Ou(e.schema,e.plugins),s=new ii(r);return r.fields.forEach(a=>{if(a.name=="doc")s.doc=yo.fromJSON(e.schema,n.doc);else if(a.name=="selection")s.selection=ee.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(o)for(let l in o){let c=o[l],d=c.spec.state;if(c.key==a.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){s[a.name]=d.fromJSON.call(c,e,n[l],s);return}}s[a.name]=a.init(e,s)}}),s}}function m0(t,e,n){for(let o in t){let r=t[o];r instanceof Function?r=r.bind(e):o=="handleDOMEvents"&&(r=m0(r,e,{})),n[o]=r}return n}class ge{constructor(e){this.spec=e,this.props={},e.props&&m0(e.props,this,this.props),this.key=e.key?e.key.key:g0("plugin")}getState(e){return e[this.key]}}const Nu=Object.create(null);function g0(t){return t in Nu?t+"$"+ ++Nu[t]:(Nu[t]=0,t+"$")}class ye{constructor(e="key"){this.key=g0(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const rt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},bs=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Pu=null;const Ln=function(t,e,n){let o=Pu||(Pu=document.createRange());return o.setEnd(t,n??t.nodeValue.length),o.setStart(t,e||0),o},J3=function(){Pu=null},pr=function(t,e,n,o){return n&&(y0(t,e,n,o,-1)||y0(t,e,n,o,1))},Y3=/^(img|br|input|textarea|hr)$/i;function y0(t,e,n,o,r){for(;;){if(t==n&&e==o)return!0;if(e==(r<0?0:Ft(t))){let s=t.parentNode;if(!s||s.nodeType!=1||ws(t)||Y3.test(t.nodeName)||t.contentEditable=="false")return!1;e=rt(t)+(r<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(r<0?-1:0)],t.contentEditable=="false")return!1;e=r<0?Ft(t):0}else return!1}}function Ft(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function X3(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ft(t)}else if(t.parentNode&&!ws(t))e=rt(t),t=t.parentNode;else return null}}function Z3(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!ws(t))e=rt(t)+1,t=t.parentNode;else return null}}function Q3(t,e,n){for(let o=e==0,r=e==Ft(t);o||r;){if(t==n)return!0;let s=rt(t);if(t=t.parentNode,!t)return!1;o=o&&s==0,r=r&&s==Ft(t)}}function ws(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const cl=function(t){return t.focusNode&&pr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function hr(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function e6(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function t6(t,e,n){if(t.caretPositionFromPoint)try{let o=t.caretPositionFromPoint(e,n);if(o)return{node:o.offsetNode,offset:Math.min(Ft(o.offsetNode),o.offset)}}catch{}if(t.caretRangeFromPoint){let o=t.caretRangeFromPoint(e,n);if(o)return{node:o.startContainer,offset:Math.min(Ft(o.startContainer),o.startOffset)}}}const pn=typeof navigator<"u"?navigator:null,b0=typeof document<"u"?document:null,Co=pn&&pn.userAgent||"",Iu=/Edge\/(\d+)/.exec(Co),w0=/MSIE \d/.exec(Co),Du=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Co),Ct=!!(w0||Du||Iu),So=w0?document.documentMode:Du?+Du[1]:Iu?+Iu[1]:0,nn=!Ct&&/gecko\/(\d+)/i.test(Co);nn&&+(/Firefox\/(\d+)/.exec(Co)||[0,0])[1];const Ru=!Ct&&/Chrome\/(\d+)/.exec(Co),ut=!!Ru,x0=Ru?+Ru[1]:0,mt=!Ct&&!!pn&&/Apple Computer/.test(pn.vendor),si=mt&&(/Mobile\/\w+/.test(Co)||!!pn&&pn.maxTouchPoints>2),Ht=si||(pn?/Mac/.test(pn.platform):!1),n6=pn?/Win/.test(pn.platform):!1,$n=/Android \d/.test(Co),xs=!!b0&&"webkitFontSmoothing"in b0.documentElement.style,o6=xs?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function r6(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Vn(t,e){return typeof t=="number"?t:t[e]}function i6(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,o=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*o}}function k0(t,e,n){let o=t.someProp("scrollThreshold")||0,r=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let a=n||t.dom;a;a=bs(a)){if(a.nodeType!=1)continue;let l=a,c=l==s.body,d=c?r6(s):i6(l),u=0,f=0;if(e.top<d.top+Vn(o,"top")?f=-(d.top-e.top+Vn(r,"top")):e.bottom>d.bottom-Vn(o,"bottom")&&(f=e.bottom-e.top>d.bottom-d.top?e.top+Vn(r,"top")-d.top:e.bottom-d.bottom+Vn(r,"bottom")),e.left<d.left+Vn(o,"left")?u=-(d.left-e.left+Vn(r,"left")):e.right>d.right-Vn(o,"right")&&(u=e.right-d.right+Vn(r,"right")),u||f)if(c)s.defaultView.scrollBy(u,f);else{let p=l.scrollLeft,h=l.scrollTop;f&&(l.scrollTop+=f),u&&(l.scrollLeft+=u);let m=l.scrollLeft-p,g=l.scrollTop-h;e={left:e.left-m,top:e.top-g,right:e.right-m,bottom:e.bottom-g}}if(c||/^(fixed|sticky)$/.test(getComputedStyle(a).position))break}}function s6(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),o,r;for(let s=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let l=t.root.elementFromPoint(s,a);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=n-20){o=l,r=c.top;break}}return{refDOM:o,refTop:r,stack:C0(t.dom)}}function C0(t){let e=[],n=t.ownerDocument;for(let o=t;o&&(e.push({dom:o,top:o.scrollTop,left:o.scrollLeft}),t!=n);o=bs(o));return e}function a6({refDOM:t,refTop:e,stack:n}){let o=t?t.getBoundingClientRect().top:0;S0(n,o==0?0:o-e)}function S0(t,e){for(let n=0;n<t.length;n++){let{dom:o,top:r,left:s}=t[n];o.scrollTop!=r+e&&(o.scrollTop=r+e),o.scrollLeft!=s&&(o.scrollLeft=s)}}let ai=null;function l6(t){if(t.setActive)return t.setActive();if(ai)return t.focus(ai);let e=C0(t);t.focus(ai==null?{get preventScroll(){return ai={preventScroll:!0},!0}}:void 0),ai||(ai=!1,S0(e,0))}function E0(t,e){let n,o=2e8,r,s=0,a=e.top,l=e.top,c,d;for(let u=t.firstChild,f=0;u;u=u.nextSibling,f++){let p;if(u.nodeType==1)p=u.getClientRects();else if(u.nodeType==3)p=Ln(u).getClientRects();else continue;for(let h=0;h<p.length;h++){let m=p[h];if(m.top<=a&&m.bottom>=l){a=Math.max(m.bottom,a),l=Math.min(m.top,l);let g=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(g<o){n=u,o=g,r=g&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,u.nodeType==1&&g&&(s=f+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!c&&m.left<=e.left&&m.right>=e.left&&(c=u,d={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(s=f+1)}}return!n&&c&&(n=c,r=d,o=0),n&&n.nodeType==3?c6(n,r):!n||o&&n.nodeType==1?{node:t,offset:s}:E0(n,r)}function c6(t,e){let n=t.nodeValue.length,o=document.createRange();for(let r=0;r<n;r++){o.setEnd(t,r+1),o.setStart(t,r);let s=Eo(o,1);if(s.top!=s.bottom&&Lu(e,s))return{node:t,offset:r+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function Lu(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function d6(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function u6(t,e,n){let{node:o,offset:r}=E0(e,n),s=-1;if(o.nodeType==1&&!o.firstChild){let a=o.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(o,r,s)}function f6(t,e,n,o){let r=-1;for(let s=e,a=!1;s!=t.dom;){let l=t.docView.nearestDesc(s,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&(!a&&c.left>o.left||c.top>o.top?r=l.posBefore:(!a&&c.right<o.left||c.bottom<o.top)&&(r=l.posAfter),a=!0),!l.contentDOM&&r<0&&!l.node.isText))return(l.node.isBlock?o.top<(c.top+c.bottom)/2:o.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return r>-1?r:t.docView.posFromDOM(e,n,-1)}function v0(t,e,n){let o=t.childNodes.length;if(o&&n.top<n.bottom)for(let r=Math.max(0,Math.min(o-1,Math.floor(o*(e.top-n.top)/(n.bottom-n.top))-2)),s=r;;){let a=t.childNodes[s];if(a.nodeType==1){let l=a.getClientRects();for(let c=0;c<l.length;c++){let d=l[c];if(Lu(e,d))return v0(a,e,d)}}if((s=(s+1)%o)==r)break}return t}function p6(t,e){let n=t.dom.ownerDocument,o,r=0,s=t6(n,e.left,e.top);s&&({node:o,offset:r}=s);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let d=t.dom.getBoundingClientRect();if(!Lu(e,d)||(a=v0(t.dom,e,d),!a))return null}if(mt)for(let d=a;o&&d;d=bs(d))d.draggable&&(o=void 0);if(a=d6(a,e),o){if(nn&&o.nodeType==1&&(r=Math.min(r,o.childNodes.length),r<o.childNodes.length)){let u=o.childNodes[r],f;u.nodeName=="IMG"&&(f=u.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&r++}let d;xs&&r&&o.nodeType==1&&(d=o.childNodes[r-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&r--,o==t.dom&&r==o.childNodes.length-1&&o.lastChild.nodeType==1&&e.top>o.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(r==0||o.nodeType!=1||o.childNodes[r-1].nodeName!="BR")&&(l=f6(t,o,r,e))}l==null&&(l=u6(t,a,e));let c=t.docView.nearestDesc(a,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function A0(t){return t.top<t.bottom||t.left<t.right}function Eo(t,e){let n=t.getClientRects();if(n.length){let o=n[e<0?0:n.length-1];if(A0(o))return o}return Array.prototype.find.call(n,A0)||t.getBoundingClientRect()}const h6=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function M0(t,e,n){let{node:o,offset:r,atom:s}=t.docView.domFromPos(e,n<0?-1:1),a=xs||nn;if(o.nodeType==3)if(a&&(h6.test(o.nodeValue)||(n<0?!r:r==o.nodeValue.length))){let c=Eo(Ln(o,r,r),n);if(nn&&r&&/\s/.test(o.nodeValue[r-1])&&r<o.nodeValue.length){let d=Eo(Ln(o,r-1,r-1),-1);if(d.top==c.top){let u=Eo(Ln(o,r,r+1),-1);if(u.top!=c.top)return ks(u,u.left<d.left)}}return c}else{let c=r,d=r,u=n<0?1:-1;return n<0&&!r?(d++,u=-1):n>=0&&r==o.nodeValue.length?(c--,u=1):n<0?c--:d++,ks(Eo(Ln(o,c,d),u),u<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&r&&(n<0||r==Ft(o))){let c=o.childNodes[r-1];if(c.nodeType==1)return $u(c.getBoundingClientRect(),!1)}if(s==null&&r<Ft(o)){let c=o.childNodes[r];if(c.nodeType==1)return $u(c.getBoundingClientRect(),!0)}return $u(o.getBoundingClientRect(),n>=0)}if(s==null&&r&&(n<0||r==Ft(o))){let c=o.childNodes[r-1],d=c.nodeType==3?Ln(c,Ft(c)-(a?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(d)return ks(Eo(d,1),!1)}if(s==null&&r<Ft(o)){let c=o.childNodes[r];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let d=c?c.nodeType==3?Ln(c,0,a?0:1):c.nodeType==1?c:null:null;if(d)return ks(Eo(d,-1),!0)}return ks(Eo(o.nodeType==3?Ln(o):o,-n),n>=0)}function ks(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function $u(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function _0(t,e,n){let o=t.state,r=t.root.activeElement;o!=e&&t.updateState(e),r!=t.dom&&t.focus();try{return n()}finally{o!=e&&t.updateState(o),r!=t.dom&&r&&r.focus()}}function m6(t,e,n){let o=e.selection,r=n=="up"?o.$from:o.$to;return _0(t,e,()=>{let{node:s}=t.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let a=M0(t,r.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=Ln(l,0,l.nodeValue.length).getClientRects();else continue;for(let d=0;d<c.length;d++){let u=c[d];if(u.bottom>u.top+1&&(n=="up"?a.top-u.top>(u.bottom-a.top)*2:u.bottom-a.bottom>(a.bottom-u.top)*2))return!1}}return!0})}const g6=/[\u0590-\u08ac]/;function y6(t,e,n){let{$head:o}=e.selection;if(!o.parent.isTextblock)return!1;let r=o.parentOffset,s=!r,a=r==o.parent.content.size,l=t.domSelection();return l?!g6.test(o.parent.textContent)||!l.modify?n=="left"||n=="backward"?s:a:_0(t,e,()=>{let{focusNode:c,focusOffset:d,anchorNode:u,anchorOffset:f}=t.domSelectionRange(),p=l.caretBidiLevel;l.modify("move",n,"character");let h=o.depth?t.docView.domAfterPos(o.before()):t.dom,{focusNode:m,focusOffset:g}=t.domSelectionRange(),y=m&&!h.contains(m.nodeType==1?m:m.parentNode)||c==m&&d==g;try{l.collapse(u,f),c&&(c!=u||d!=f)&&l.extend&&l.extend(c,d)}catch{}return p!=null&&(l.caretBidiLevel=p),y}):o.pos==o.start()||o.pos==o.end()}let T0=null,B0=null,O0=!1;function b6(t,e,n){return T0==e&&B0==n?O0:(T0=e,B0=n,O0=n=="up"||n=="down"?m6(t,e,n):y6(t,e,n))}const jt=0,N0=1,mr=2,hn=3;class Cs{constructor(e,n,o,r){this.parent=e,this.children=n,this.dom=o,this.contentDOM=r,this.dirty=jt,o.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,o){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,o=this.posAtStart;;n++){let r=this.children[n];if(r==e)return o;o+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,o){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(o<0){let s,a;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=n>rt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!1;break}if(s.previousSibling)break}if(r==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!0;break}if(s.nextSibling)break}}return r??o>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let o=!0,r=e;r;r=r.parentNode){let s=this.getDesc(r),a;if(s&&(!n||s.node))if(o&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))o=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let o=n;o;o=o.parent)if(o==this)return n}posFromDOM(e,n,o){for(let r=e;r;r=r.parentNode){let s=this.getDesc(r);if(s)return s.localPosFromDOM(e,n,o)}return-1}descAt(e){for(let n=0,o=0;n<this.children.length;n++){let r=this.children[n],s=o+r.size;if(o==e&&s!=o){for(;!r.border&&r.children.length;)for(let a=0;a<r.children.length;a++){let l=r.children[a];if(l.size){r=l;break}}return r}if(e<s)return r.descAt(e-o-r.border);o=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let o=0,r=0;for(let s=0;o<this.children.length;o++){let a=this.children[o],l=s+a.size;if(l>e||a instanceof D0){r=e-s;break}s=l}if(r)return this.children[o].domFromPos(r-this.children[o].border,n);for(let s;o&&!(s=this.children[o-1]).size&&s instanceof P0&&s.side>=0;o--);if(n<=0){let s,a=!0;for(;s=o?this.children[o-1]:null,!(!s||s.dom.parentNode==this.contentDOM);o--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?rt(s.dom)+1:0}}else{let s,a=!0;for(;s=o<this.children.length?this.children[o]:null,!(!s||s.dom.parentNode==this.contentDOM);o++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?rt(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,o=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,s=-1;for(let a=o,l=0;;l++){let c=this.children[l],d=a+c.size;if(r==-1&&e<=d){let u=a+c.border;if(e>=u&&n<=d-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,n,u);e=a;for(let f=l;f>0;f--){let p=this.children[f-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){r=rt(p.dom)+1;break}e-=p.size}r==-1&&(r=0)}if(r>-1&&(d>n||l==this.children.length-1)){n=d;for(let u=l+1;u<this.children.length;u++){let f=this.children[u];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){s=rt(f.dom);break}n+=f.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=d}return{node:this.contentDOM,from:e,to:n,fromOffset:r,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:o}=this.domFromPos(e,0);if(n.nodeType!=1||o==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[o]}setSelection(e,n,o,r=!1){let s=Math.min(e,n),a=Math.max(e,n);for(let h=0,m=0;h<this.children.length;h++){let g=this.children[h],y=m+g.size;if(s>m&&a<y)return g.setSelection(e-m-g.border,n-m-g.border,o,r);m=y}let l=this.domFromPos(e,e?-1:1),c=n==e?l:this.domFromPos(n,n?-1:1),d=o.root.getSelection(),u=o.domSelectionRange(),f=!1;if((nn||mt)&&e==n){let{node:h,offset:m}=l;if(h.nodeType==3){if(f=!!(m&&h.nodeValue[m-1]==`
`),f&&m==h.nodeValue.length)for(let g=h,y;g;g=g.parentNode){if(y=g.nextSibling){y.nodeName=="BR"&&(l=c={node:y.parentNode,offset:rt(y)+1});break}let b=g.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let g=h.childNodes[m-1];f=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(nn&&u.focusNode&&u.focusNode!=c.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(r=!0)}if(!(r||f&&mt)&&pr(l.node,l.offset,u.anchorNode,u.anchorOffset)&&pr(c.node,c.offset,u.focusNode,u.focusOffset))return;let p=!1;if((d.extend||e==n)&&!f){d.collapse(l.node,l.offset);try{e!=n&&d.extend(c.node,c.offset),p=!0}catch{}}if(!p){if(e>n){let m=l;l=c,c=m}let h=document.createRange();h.setEnd(c.node,c.offset),h.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let o=0,r=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(o==a?e<=a&&n>=o:e<a&&n>o){let l=o+s.border,c=a-s.border;if(e>=l&&n<=c){this.dirty=e==o||n==a?mr:N0,e==l&&n==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=hn:s.markDirty(e-l,n-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?mr:hn}o=a}this.dirty=mr}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let o=e==1?mr:N0;n.dirty<o&&(n.dirty=o)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class P0 extends Cs{constructor(e,n,o,r){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(o,()=>{if(!s)return r;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==jt&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class w6 extends Cs{constructor(e,n,o,r){super(e,[],n,null),this.textDOM=o,this.text=r}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class gr extends Cs{constructor(e,n,o,r,s){super(e,[],o,r),this.mark=n,this.spec=s}static create(e,n,o,r){let s=r.nodeViews[n.type.name],a=s&&s(n,r,o);return(!a||!a.dom)&&(a=bo.renderSpec(document,n.type.spec.toDOM(n,o),null,n.attrs)),new gr(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&hn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=hn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=jt){let o=this.parent;for(;!o.node;)o=o.parent;o.dirty<this.dirty&&(o.dirty=this.dirty),this.dirty=jt}}slice(e,n,o){let r=gr.create(this.parent,this.mark,!0,o),s=this.children,a=this.size;n<a&&(s=zu(s,n,a,o)),e>0&&(s=zu(s,0,e,o));for(let l=0;l<s.length;l++)s[l].parent=r;return r.children=s,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class vo extends Cs{constructor(e,n,o,r,s,a,l,c,d){super(e,[],s,a),this.node=n,this.outerDeco=o,this.innerDeco=r,this.nodeDOM=l}static create(e,n,o,r,s,a){let l=s.nodeViews[n.type.name],c,d=l&&l(n,s,()=>{if(!c)return a;if(c.parent)return c.parent.posBeforeChild(c)},o,r),u=d&&d.dom,f=d&&d.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:f}=bo.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let p=u;return u=$0(u,o,n),d?c=new x6(e,n,o,r,u,f||null,p,d,s,a+1):n.isText?new dl(e,n,o,r,u,p,s):new vo(e,n,o,r,u,f||null,p,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let o=this.children[n];if(this.dom.contains(o.dom.parentNode)){e.contentElement=o.dom.parentNode;break}}e.contentElement||(e.getContent=()=>I.empty)}return e}matchesNode(e,n,o){return this.dirty==jt&&e.eq(this.node)&&ul(n,this.outerDeco)&&o.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let o=this.node.inlineContent,r=n,s=e.composing?this.localCompositionInfo(e,n):null,a=s&&s.pos>-1?s:null,l=s&&s.pos<0,c=new C6(this,a&&a.node,e);v6(this.node,this.innerDeco,(d,u,f)=>{d.spec.marks?c.syncToMarks(d.spec.marks,o,e):d.type.side>=0&&!f&&c.syncToMarks(u==this.node.childCount?Te.none:this.node.child(u).marks,o,e),c.placeWidget(d,e,r)},(d,u,f,p)=>{c.syncToMarks(d.marks,o,e);let h;c.findNodeMatch(d,u,f,p)||l&&e.state.selection.from>r&&e.state.selection.to<r+d.nodeSize&&(h=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(d,u,f,h,e)||c.updateNextNode(d,u,f,e,p,r)||c.addNode(d,u,f,e,r),r+=d.nodeSize}),c.syncToMarks([],o,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==mr)&&(a&&this.protectLocalComposition(e,a),R0(this.contentDOM,this.children,e),si&&A6(this.dom))}localCompositionInfo(e,n){let{from:o,to:r}=e.state.selection;if(!(e.state.selection instanceof Y)||o<n||r>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=M6(this.node.content,a,o-n,r-n);return l<0?null:{node:s,pos:l,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:o,text:r}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new w6(this,s,n,r);e.input.compositionNodes.push(a),this.children=zu(this.children,o,o+r.length,e,a)}update(e,n,o,r){return this.dirty==hn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,o,r),!0)}updateInner(e,n,o,r){this.updateOuterDeco(n),this.node=e,this.innerDeco=o,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=jt}updateOuterDeco(e){if(ul(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,o=this.dom;this.dom=L0(this.dom,this.nodeDOM,Vu(this.outerDeco,this.node,n),Vu(e,this.node,n)),this.dom!=o&&(o.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function I0(t,e,n,o,r){$0(o,e,t);let s=new vo(void 0,t,e,n,o,o,o,r,0);return s.contentDOM&&s.updateChildren(r,0),s}class dl extends vo{constructor(e,n,o,r,s,a,l){super(e,n,o,r,s,null,a,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,o,r){return this.dirty==hn||this.dirty!=jt&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=jt||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=jt,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,o){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,o)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,o){let r=this.node.cut(e,n),s=document.createTextNode(r.text);return new dl(this.parent,r,this.outerDeco,this.innerDeco,s,s,o)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=hn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class D0 extends Cs{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==jt&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class x6 extends vo{constructor(e,n,o,r,s,a,l,c,d,u){super(e,n,o,r,s,a,l,d,u),this.spec=c}update(e,n,o,r){if(this.dirty==hn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,o);return s&&this.updateInner(e,n,o,r),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,o,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,o,r){this.spec.setSelection?this.spec.setSelection(e,n,o.root):super.setSelection(e,n,o,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function R0(t,e,n){let o=t.firstChild,r=!1;for(let s=0;s<e.length;s++){let a=e[s],l=a.dom;if(l.parentNode==t){for(;l!=o;)o=V0(o),r=!0;o=o.nextSibling}else r=!0,t.insertBefore(l,o);if(a instanceof gr){let c=o?o.previousSibling:t.lastChild;R0(a.contentDOM,a.children,n),o=c?c.nextSibling:t.firstChild}}for(;o;)o=V0(o),r=!0;r&&n.trackWrites==t&&(n.trackWrites=null)}const Ss=function(t){t&&(this.nodeName=t)};Ss.prototype=Object.create(null);const yr=[new Ss];function Vu(t,e,n){if(t.length==0)return yr;let o=n?yr[0]:new Ss,r=[o];for(let s=0;s<t.length;s++){let a=t[s].type.attrs;if(a){a.nodeName&&r.push(o=new Ss(a.nodeName));for(let l in a){let c=a[l];c!=null&&(n&&r.length==1&&r.push(o=new Ss(e.isInline?"span":"div")),l=="class"?o.class=(o.class?o.class+" ":"")+c:l=="style"?o.style=(o.style?o.style+";":"")+c:l!="nodeName"&&(o[l]=c))}}}return r}function L0(t,e,n,o){if(n==yr&&o==yr)return e;let r=e;for(let s=0;s<o.length;s++){let a=o[s],l=n[s];if(s){let c;l&&l.nodeName==a.nodeName&&r!=t&&(c=r.parentNode)&&c.nodeName.toLowerCase()==a.nodeName||(c=document.createElement(a.nodeName),c.pmIsDeco=!0,c.appendChild(r),l=yr[0]),r=c}k6(r,l||yr[0],a)}return r}function k6(t,e,n){for(let o in e)o!="class"&&o!="style"&&o!="nodeName"&&!(o in n)&&t.removeAttribute(o);for(let o in n)o!="class"&&o!="style"&&o!="nodeName"&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){let o=e.class?e.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<o.length;s++)r.indexOf(o[s])==-1&&t.classList.remove(o[s]);for(let s=0;s<r.length;s++)o.indexOf(r[s])==-1&&t.classList.add(r[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let o=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=o.exec(e.style);)t.style.removeProperty(r[1])}n.style&&(t.style.cssText+=n.style)}}function $0(t,e,n){return L0(t,t,yr,Vu(e,n,t.nodeType!=1))}function ul(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function V0(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class C6{constructor(e,n,o){this.lock=n,this.view=o,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=S6(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let o=e;o<n;o++)this.top.children[o].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,o){let r=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;r<a&&(r==s-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<s;)this.destroyRest(),this.top.dirty=jt,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let d=this.top.children[c];if(d.matchesMark(e[s])&&!this.isLocked(d.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=gr.create(this.top,e[s],n,o);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,o,r){let s=-1,a;if(r>=this.preMatch.index&&(a=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,o))s=this.top.children.indexOf(a,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let d=this.top.children[l];if(d.matchesNode(e,n,o)&&!this.preMatch.matched.has(d)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,o,r,s){let a=this.top.children[r];return a.dirty==hn&&a.dom==a.contentDOM&&(a.dirty=mr),a.update(e,n,o,s)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let o=e.pmViewDesc;if(o){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==o)return r}return-1}e=n}}updateNextNode(e,n,o,r,s,a){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof vo){let d=this.preMatch.matched.get(c);if(d!=null&&d!=s)return!1;let u=c.dom,f,p=this.isLocked(u)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=hn&&ul(n,c.outerDeco));if(!p&&c.update(e,n,o,r))return this.destroyBetween(this.index,l),c.dom!=u&&(this.changed=!0),this.index++,!0;if(!p&&(f=this.recreateWrapper(c,e,n,o,r,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=mr,f.updateChildren(r,a+1),f.dirty=jt),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,o,r,s,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!ul(o,e.outerDeco)||!r.eq(e.innerDeco))return null;let l=vo.create(this.top,n,o,r,s,a);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,n,o,r,s){let a=vo.create(this.top,e,n,o,r,s);a.contentDOM&&a.updateChildren(r,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,o){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let s=new P0(this.top,e,n,o);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof gr;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof dl)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((mt||ut)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let o=document.createElement(e);e=="IMG"&&(o.className="ProseMirror-separator",o.alt=""),e=="BR"&&(o.className="ProseMirror-trailingBreak");let r=new D0(this.top,[],o,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function S6(t,e){let n=e,o=n.children.length,r=t.childCount,s=new Map,a=[];e:for(;r>0;){let l;for(;;)if(o){let d=n.children[o-1];if(d instanceof gr)n=d,o=d.children.length;else{l=d,o--;break}}else{if(n==e)break e;o=n.parent.children.indexOf(n),n=n.parent}let c=l.node;if(c){if(c!=t.child(r-1))break;--r,s.set(l,r),a.push(l)}}return{index:r,matched:s,matches:a.reverse()}}function E6(t,e){return t.type.side-e.type.side}function v6(t,e,n,o){let r=e.locals(t),s=0;if(r.length==0){for(let d=0;d<t.childCount;d++){let u=t.child(d);o(u,r,e.forChild(s,u),d),s+=u.nodeSize}return}let a=0,l=[],c=null;for(let d=0;;){let u,f;for(;a<r.length&&r[a].to==s;){let y=r[a++];y.widget&&(u?(f||(f=[u])).push(y):u=y)}if(u)if(f){f.sort(E6);for(let y=0;y<f.length;y++)n(f[y],d,!!c)}else n(u,d,!!c);let p,h;if(c)h=-1,p=c,c=null;else if(d<t.childCount)h=d,p=t.child(d++);else break;for(let y=0;y<l.length;y++)l[y].to<=s&&l.splice(y--,1);for(;a<r.length&&r[a].from<=s&&r[a].to>s;)l.push(r[a++]);let m=s+p.nodeSize;if(p.isText){let y=m;a<r.length&&r[a].from<y&&(y=r[a].from);for(let b=0;b<l.length;b++)l[b].to<y&&(y=l[b].to);y<m&&(c=p.cut(y-s),p=p.cut(0,y-s),m=y,h=-1)}else for(;a<r.length&&r[a].to<m;)a++;let g=p.isInline&&!p.isLeaf?l.filter(y=>!y.inline):l.slice();o(p,g,e.forChild(s,p),h),s=m}}function A6(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function M6(t,e,n,o){for(let r=0,s=0;r<t.childCount&&s<=o;){let a=t.child(r++),l=s;if(s+=a.nodeSize,!a.isText)continue;let c=a.text;for(;r<t.childCount;){let d=t.child(r++);if(s+=d.nodeSize,!d.isText)break;c+=d.text}if(s>=n){if(s>=o&&c.slice(o-e.length-l,o-l)==e)return o-e.length;let d=l<o?c.lastIndexOf(e,o-l-1):-1;if(d>=0&&d+e.length+l>=n)return l+d;if(n==o&&c.length>=o+e.length-l&&c.slice(o-l,o-l+e.length)==e)return o}}return-1}function zu(t,e,n,o,r){let s=[];for(let a=0,l=0;a<t.length;a++){let c=t[a],d=l,u=l+=c.size;d>=n||u<=e?s.push(c):(d<e&&s.push(c.slice(0,e-d,o)),r&&(s.push(r),r=void 0),u>n&&s.push(c.slice(n-d,c.size,o)))}return s}function Fu(t,e=null){let n=t.domSelectionRange(),o=t.state.doc;if(!n.focusNode)return null;let r=t.docView.nearestDesc(n.focusNode),s=r&&r.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=o.resolve(a),c,d;if(cl(n)){for(c=a;r&&!r.node;)r=r.parent;let f=r.node;if(r&&f.isAtom&&X.isSelectable(f)&&r.parent&&!(f.isInline&&Q3(n.focusNode,n.focusOffset,r.dom))){let p=r.posBefore;d=new X(a==p?l:o.resolve(p))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=a,p=a;for(let h=0;h<n.rangeCount;h++){let m=n.getRangeAt(h);f=Math.min(f,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(f<0)return null;[c,a]=p==t.state.selection.anchor?[p,f]:[f,p],l=o.resolve(a)}else c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let u=o.resolve(c);if(!d){let f=e=="pointer"||t.state.selection.head<l.pos&&!s?1:-1;d=ju(t,u,l,f)}return d}function z0(t){return t.editable?t.hasFocus():q0(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function zn(t,e=!1){let n=t.state.selection;if(U0(t,n),!!z0(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&ut){let o=t.domSelectionRange(),r=t.domObserver.currentSelection;if(o.anchorNode&&r.anchorNode&&pr(o.anchorNode,o.anchorOffset,r.anchorNode,r.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)T6(t);else{let{anchor:o,head:r}=n,s,a;F0&&!(n instanceof Y)&&(n.$from.parent.inlineContent||(s=H0(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=H0(t,n.to))),t.docView.setSelection(o,r,t,e),F0&&(s&&j0(s),a&&j0(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&_6(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const F0=mt||ut&&x0<63;function H0(t,e){let{node:n,offset:o}=t.docView.domFromPos(e,0),r=o<n.childNodes.length?n.childNodes[o]:null,s=o?n.childNodes[o-1]:null;if(mt&&r&&r.contentEditable=="false")return Hu(r);if((!r||r.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(r)return Hu(r);if(s)return Hu(s)}}function Hu(t){return t.contentEditable="true",mt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function j0(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function _6(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),o=n.anchorNode,r=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=o||n.anchorOffset!=r)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!z0(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function T6(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let o=t.cursorWrapper.dom,r=o.nodeName=="IMG";r?n.setStart(o.parentNode,rt(o)+1):n.setStart(o,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!r&&!t.state.selection.visible&&Ct&&So<=11&&(o.disabled=!0,o.disabled=!1)}function U0(t,e){if(e instanceof X){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(W0(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else W0(t)}function W0(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function ju(t,e,n,o){return t.someProp("createSelectionBetween",r=>r(t,e,n))||Y.between(e,n,o)}function K0(t){return t.editable&&!t.hasFocus()?!1:q0(t)}function q0(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function B6(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return pr(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Uu(t,e){let{$anchor:n,$head:o}=t.selection,r=e>0?n.max(o):n.min(o),s=r.parent.inlineContent?r.depth?t.doc.resolve(e>0?r.after():r.before()):null:r;return s&&ee.findFrom(s,e)}function Ao(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function G0(t,e,n){let o=t.state.selection;if(o instanceof Y)if(n.indexOf("s")>-1){let{$head:r}=o,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=t.state.doc.resolve(r.pos+s.nodeSize*(e<0?-1:1));return Ao(t,new Y(o.$anchor,a))}else if(o.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let r=Uu(t.state,e);return r&&r instanceof X?Ao(t,r):!1}else if(!(Ht&&n.indexOf("m")>-1)){let r=o.$head,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,a;if(!s||s.isText)return!1;let l=e<0?r.pos-s.nodeSize:r.pos;return s.isAtom||(a=t.docView.descAt(l))&&!a.contentDOM?X.isSelectable(s)?Ao(t,new X(e<0?t.state.doc.resolve(r.pos-s.nodeSize):r)):xs?Ao(t,new Y(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(o instanceof X&&o.node.isInline)return Ao(t,new Y(e>0?o.$to:o.$from));{let r=Uu(t.state,e);return r?Ao(t,r):!1}}}function fl(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Es(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function li(t,e){return e<0?O6(t):N6(t)}function O6(t){let e=t.domSelectionRange(),n=e.focusNode,o=e.focusOffset;if(!n)return;let r,s,a=!1;for(nn&&n.nodeType==1&&o<fl(n)&&Es(n.childNodes[o],-1)&&(a=!0);;)if(o>0){if(n.nodeType!=1)break;{let l=n.childNodes[o-1];if(Es(l,-1))r=n,s=--o;else if(l.nodeType==3)n=l,o=n.nodeValue.length;else break}}else{if(J0(n))break;{let l=n.previousSibling;for(;l&&Es(l,-1);)r=n.parentNode,s=rt(l),l=l.previousSibling;if(l)n=l,o=fl(n);else{if(n=n.parentNode,n==t.dom)break;o=0}}}a?Wu(t,n,o):r&&Wu(t,r,s)}function N6(t){let e=t.domSelectionRange(),n=e.focusNode,o=e.focusOffset;if(!n)return;let r=fl(n),s,a;for(;;)if(o<r){if(n.nodeType!=1)break;let l=n.childNodes[o];if(Es(l,1))s=n,a=++o;else break}else{if(J0(n))break;{let l=n.nextSibling;for(;l&&Es(l,1);)s=l.parentNode,a=rt(l)+1,l=l.nextSibling;if(l)n=l,o=0,r=fl(n);else{if(n=n.parentNode,n==t.dom)break;o=r=0}}}s&&Wu(t,s,a)}function J0(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function P6(t,e){for(;t&&e==t.childNodes.length&&!ws(t);)e=rt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function I6(t,e){for(;t&&!e&&!ws(t);)e=rt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Wu(t,e,n){if(e.nodeType!=3){let s,a;(a=P6(e,n))?(e=a,n=0):(s=I6(e,n))&&(e=s,n=s.nodeValue.length)}let o=t.domSelection();if(!o)return;if(cl(o)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),o.removeAllRanges(),o.addRange(s)}else o.extend&&o.extend(e,n);t.domObserver.setCurSelection();let{state:r}=t;setTimeout(()=>{t.state==r&&zn(t)},50)}function Y0(t,e){let n=t.state.doc.resolve(e);if(!(ut||n6)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>r.top&&a<r.bottom&&Math.abs(s.left-r.left)>1)return s.left<r.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>r.top&&a<r.bottom&&Math.abs(s.left-r.left)>1)return s.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function X0(t,e,n){let o=t.state.selection;if(o instanceof Y&&!o.empty||n.indexOf("s")>-1||Ht&&n.indexOf("m")>-1)return!1;let{$from:r,$to:s}=o;if(!r.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=Uu(t.state,e);if(a&&a instanceof X)return Ao(t,a)}if(!r.parent.inlineContent){let a=e<0?r:s,l=o instanceof kt?ee.near(a,e):ee.findFrom(a,e);return l?Ao(t,l):!1}return!1}function Z0(t,e){if(!(t.state.selection instanceof Y))return!0;let{$head:n,$anchor:o,empty:r}=t.state.selection;if(!n.sameParent(o))return!0;if(!r)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=t.state.tr;return e<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),t.dispatch(a),!0}return!1}function Q0(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function D6(t){if(!mt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let o=e.firstChild;Q0(t,o,"true"),setTimeout(()=>Q0(t,o,"false"),20)}return!1}function R6(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function L6(t,e){let n=e.keyCode,o=R6(e);if(n==8||Ht&&n==72&&o=="c")return Z0(t,-1)||li(t,-1);if(n==46&&!e.shiftKey||Ht&&n==68&&o=="c")return Z0(t,1)||li(t,1);if(n==13||n==27)return!0;if(n==37||Ht&&n==66&&o=="c"){let r=n==37?Y0(t,t.state.selection.from)=="ltr"?-1:1:-1;return G0(t,r,o)||li(t,r)}else if(n==39||Ht&&n==70&&o=="c"){let r=n==39?Y0(t,t.state.selection.from)=="ltr"?1:-1:1;return G0(t,r,o)||li(t,r)}else{if(n==38||Ht&&n==80&&o=="c")return X0(t,-1,o)||li(t,-1);if(n==40||Ht&&n==78&&o=="c")return D6(t)||X0(t,1,o)||li(t,1);if(o==(Ht?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Ku(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:o,openStart:r,openEnd:s}=e;for(;r>1&&s>1&&o.childCount==1&&o.firstChild.childCount==1;){r--,s--;let h=o.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),o=h.content}let a=t.someProp("clipboardSerializer")||bo.fromSchema(t.state.schema),l=a1(),c=l.createElement("div");c.appendChild(a.serializeFragment(o,{document:l}));let d=c.firstChild,u,f=0;for(;d&&d.nodeType==1&&(u=i1[d.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let m=l.createElement(u[h]);for(;c.firstChild;)m.appendChild(c.firstChild);c.appendChild(m),f++}d=c.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${r} ${s}${f?` -${f}`:""} ${JSON.stringify(n)}`);let p=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:p,slice:e}}function e1(t,e,n,o,r){let s=r.parent.type.spec.code,a,l;if(!n&&!e)return null;let c=e&&(o||s||!n);if(c){if(t.someProp("transformPastedText",p=>{e=p(e,s||o,t)}),s)return e?new H(I.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):H.empty;let f=t.someProp("clipboardTextParser",p=>p(e,r,o,t));if(f)l=f;else{let p=r.marks(),{schema:h}=t.state,m=bo.fromSchema(h);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let y=a.appendChild(document.createElement("p"));g&&y.appendChild(m.serializeNode(h.text(g,p)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),a=F6(n),xs&&H6(a);let d=a&&a.querySelector("[data-pm-slice]"),u=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let f=+u[3];f>0;f--){let p=a.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;a=p}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||us.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(c||u),context:r,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!$6.test(p.parentNode.nodeName)?{ignore:!0}:null}})),u)l=j6(r1(l,+u[1],+u[2]),u[4]);else if(l=H.maxOpen(V6(l.content,r),!0),l.openStart||l.openEnd){let f=0,p=0;for(let h=l.content.firstChild;f<l.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=l.content.lastChild;p<l.openEnd&&!h.type.spec.isolating;p++,h=h.lastChild);l=r1(l,f,p)}return t.someProp("transformPasted",f=>{l=f(l,t)}),l}const $6=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function V6(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),s,a=[];if(t.forEach(l=>{if(!a)return;let c=r.findWrapping(l.type),d;if(!c)return a=null;if(d=a.length&&s.length&&n1(c,s,l,a[a.length-1],0))a[a.length-1]=d;else{a.length&&(a[a.length-1]=o1(a[a.length-1],s.length));let u=t1(l,c);a.push(u),r=r.matchType(u.type),s=c}}),a)return I.from(a)}return t}function t1(t,e,n=0){for(let o=e.length-1;o>=n;o--)t=e[o].create(null,I.from(t));return t}function n1(t,e,n,o,r){if(r<t.length&&r<e.length&&t[r]==e[r]){let s=n1(t,e,n,o.lastChild,r+1);if(s)return o.copy(o.content.replaceChild(o.childCount-1,s));if(o.contentMatchAt(o.childCount).matchType(r==t.length-1?n.type:t[r+1]))return o.copy(o.content.append(I.from(t1(n,t,r+1))))}}function o1(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,o1(t.lastChild,e-1)),o=t.contentMatchAt(t.childCount).fillBefore(I.empty,!0);return t.copy(n.append(o))}function qu(t,e,n,o,r,s){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(s=0),r<o-1&&(l=qu(l,e,n,o,r+1,s)),r>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,s<=r).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(I.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function r1(t,e,n){return e<t.openStart&&(t=new H(qu(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new H(qu(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const i1={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let s1=null;function a1(){return s1||(s1=document.implementation.createHTMLDocument("title"))}let Gu=null;function z6(t){let e=window.trustedTypes;return e?(Gu||(Gu=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Gu.createHTML(t)):t}function F6(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=a1().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(t),r;if((r=o&&i1[o[1].toLowerCase()])&&(t=r.map(s=>"<"+s+">").join("")+t+r.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=z6(t),r)for(let s=0;s<r.length;s++)n=n.querySelector(r[s])||n;return n}function H6(t){let e=t.querySelectorAll(ut?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let o=e[n];o.childNodes.length==1&&o.textContent==" "&&o.parentNode&&o.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),o)}}function j6(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,o;try{o=JSON.parse(e)}catch{return t}let{content:r,openStart:s,openEnd:a}=t;for(let l=o.length-2;l>=0;l-=2){let c=n.nodes[o[l]];if(!c||c.hasRequiredAttrs())break;r=I.from(c.create(o[l+1],r)),s++,a++}return new H(r,s,a)}const gt={},yt={},U6={touchstart:!0,touchmove:!0};class W6{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function K6(t){for(let e in gt){let n=gt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=o=>{G6(t,o)&&!Yu(t,o)&&(t.editable||!(o.type in yt))&&n(t,o)},U6[e]?{passive:!0}:void 0)}mt&&t.dom.addEventListener("input",()=>null),Ju(t)}function Mo(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function q6(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Ju(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=o=>Yu(t,o))})}function Yu(t,e){return t.someProp("handleDOMEvents",n=>{let o=n[e.type];return o?o(t,e)||e.defaultPrevented:!1})}function G6(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function J6(t,e){!Yu(t,e)&&gt[e.type]&&(t.editable||!(e.type in yt))&&gt[e.type](t,e)}yt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!c1(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!($n&&ut&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),si&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let o=Date.now();t.input.lastIOSEnter=o,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==o&&(t.someProp("handleKeyDown",r=>r(t,hr(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",o=>o(t,n))||L6(t,n)?n.preventDefault():Mo(t,"key")},yt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)},yt.keypress=(t,e)=>{let n=e;if(c1(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ht&&n.metaKey)return;if(t.someProp("handleKeyPress",r=>r(t,n))){n.preventDefault();return}let o=t.state.selection;if(!(o instanceof Y)||!o.$from.sameParent(o.$to)){let r=String.fromCharCode(n.charCode);!/[\r\n]/.test(r)&&!t.someProp("handleTextInput",s=>s(t,o.$from.pos,o.$to.pos,r))&&t.dispatch(t.state.tr.insertText(r).scrollIntoView()),n.preventDefault()}};function pl(t){return{left:t.clientX,top:t.clientY}}function Y6(t,e){let n=e.x-t.clientX,o=e.y-t.clientY;return n*n+o*o<100}function Xu(t,e,n,o,r){if(o==-1)return!1;let s=t.state.doc.resolve(o);for(let a=s.depth+1;a>0;a--)if(t.someProp(e,l=>a>s.depth?l(t,n,s.nodeAfter,s.before(a),r,!0):l(t,n,s.node(a),s.before(a),r,!1)))return!0;return!1}function ci(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let o=t.state.tr.setSelection(e);o.setMeta("pointer",!0),t.dispatch(o)}function X6(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),o=n.nodeAfter;return o&&o.isAtom&&X.isSelectable(o)?(ci(t,new X(n)),!0):!1}function Z6(t,e){if(e==-1)return!1;let n=t.state.selection,o,r;n instanceof X&&(o=n.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let l=a>s.depth?s.nodeAfter:s.node(a);if(X.isSelectable(l)){o&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?r=s.before(n.$from.depth):r=s.before(a);break}}return r!=null?(ci(t,X.create(t.state.doc,r)),!0):!1}function Q6(t,e,n,o,r){return Xu(t,"handleClickOn",e,n,o)||t.someProp("handleClick",s=>s(t,e,o))||(r?Z6(t,n):X6(t,n))}function e8(t,e,n,o){return Xu(t,"handleDoubleClickOn",e,n,o)||t.someProp("handleDoubleClick",r=>r(t,e,o))}function t8(t,e,n,o){return Xu(t,"handleTripleClickOn",e,n,o)||t.someProp("handleTripleClick",r=>r(t,e,o))||n8(t,n,o)}function n8(t,e,n){if(n.button!=0)return!1;let o=t.state.doc;if(e==-1)return o.inlineContent?(ci(t,Y.create(o,0,o.content.size)),!0):!1;let r=o.resolve(e);for(let s=r.depth+1;s>0;s--){let a=s>r.depth?r.nodeAfter:r.node(s),l=r.before(s);if(a.inlineContent)ci(t,Y.create(o,l+1,l+1+a.content.size));else if(X.isSelectable(a))ci(t,X.create(o,l));else continue;return!0}}function Zu(t){return hl(t)}const l1=Ht?"metaKey":"ctrlKey";gt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let o=Zu(t),r=Date.now(),s="singleClick";r-t.input.lastClick.time<500&&Y6(n,t.input.lastClick)&&!n[l1]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:s};let a=t.posAtCoords(pl(n));a&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new o8(t,a,n,!!o)):(s=="doubleClick"?e8:t8)(t,a.pos,a.inside,n)?n.preventDefault():Mo(t,"pointer"))};class o8{constructor(e,n,o,r){this.view=e,this.pos=n,this.event=o,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!o[l1],this.allowDefault=o.shiftKey;let s,a;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),a=n.inside;else{let u=e.state.doc.resolve(n.pos);s=u.parent,a=u.depth?u.before():0}const l=r?null:o.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:d}=e.state;(o.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||d instanceof X&&d.from<=a&&d.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&nn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Mo(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>zn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(pl(e))),this.updateAllowDefault(e),this.allowDefault||!n?Mo(this.view,"pointer"):Q6(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||mt&&this.mightDrag&&!this.mightDrag.node.isAtom||ut&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ci(this.view,ee.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Mo(this.view,"pointer")}move(e){this.updateAllowDefault(e),Mo(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}gt.touchstart=t=>{t.input.lastTouch=Date.now(),Zu(t),Mo(t,"pointer")},gt.touchmove=t=>{t.input.lastTouch=Date.now(),Mo(t,"pointer")},gt.contextmenu=t=>Zu(t);function c1(t,e){return t.composing?!0:mt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const r8=$n?5e3:-1;yt.compositionstart=yt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Y&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(o=>o.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),hl(t,!0),t.markCursor=null;else if(hl(t,!e.selection.empty),nn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let o=t.domSelectionRange();for(let r=o.focusNode,s=o.focusOffset;r&&r.nodeType==1&&s!=0;){let a=s<0?r.lastChild:r.childNodes[s-1];if(!a)break;if(a.nodeType==3){let l=t.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else r=a,s=-1}}t.input.composing=!0}d1(t,r8)},yt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,d1(t,20))};function d1(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>hl(t),e))}function u1(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=s8());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function i8(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=X3(e.focusNode,e.focusOffset),o=Z3(e.focusNode,e.focusOffset);if(n&&o&&n!=o){let r=o.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||o==s)return s;if(!r||!r.isText(o.nodeValue))return o;if(t.input.compositionNode==o){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return o}}return n||o}function s8(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function hl(t,e=!1){if(!($n&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),u1(t),e||t.docView&&t.docView.dirty){let n=Fu(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function a8(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let o=getSelection(),r=document.createRange();r.selectNodeContents(e),t.dom.blur(),o.removeAllRanges(),o.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const vs=Ct&&So<15||si&&o6<604;gt.copy=yt.cut=(t,e)=>{let n=e,o=t.state.selection,r=n.type=="cut";if(o.empty)return;let s=vs?null:n.clipboardData,a=o.content(),{dom:l,text:c}=Ku(t,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",c)):a8(t,l),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function l8(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function c8(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,o=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus();let r=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),o.parentNode&&o.parentNode.removeChild(o),n?As(t,o.value,null,r,e):As(t,o.textContent,o.innerHTML,r,e)},50)}function As(t,e,n,o,r){let s=e1(t,e,n,o,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,r,s||H.empty)))return!0;if(!s)return!1;let a=l8(s),l=a?t.state.tr.replaceSelectionWith(a,o):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function f1(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}yt.paste=(t,e)=>{let n=e;if(t.composing&&!$n)return;let o=vs?null:n.clipboardData,r=t.input.shiftKey&&t.input.lastKeyCode!=45;o&&As(t,f1(o),o.getData("text/html"),r,n)?n.preventDefault():c8(t,n)};class p1{constructor(e,n,o){this.slice=e,this.move=n,this.node=o}}const h1=Ht?"altKey":"ctrlKey";gt.dragstart=(t,e)=>{let n=e,o=t.input.mouseDown;if(o&&o.done(),!n.dataTransfer)return;let r=t.state.selection,s=r.empty?null:t.posAtCoords(pl(n)),a;if(!(s&&s.pos>=r.from&&s.pos<=(r instanceof X?r.to-1:r.to))){if(o&&o.mightDrag)a=X.create(t.state.doc,o.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(a=X.create(t.state.doc,f.posBefore))}}let l=(a||t.state.selection).content(),{dom:c,text:d,slice:u}=Ku(t,l);(!n.dataTransfer.files.length||!ut||x0>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(vs?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",vs||n.dataTransfer.setData("text/plain",d),t.dragging=new p1(u,!n[h1],a)},gt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)},yt.dragover=yt.dragenter=(t,e)=>e.preventDefault(),yt.drop=(t,e)=>{let n=e,o=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let r=t.posAtCoords(pl(n));if(!r)return;let s=t.state.doc.resolve(r.pos),a=o&&o.slice;a?t.someProp("transformPasted",m=>{a=m(a,t)}):a=e1(t,f1(n.dataTransfer),vs?null:n.dataTransfer.getData("text/html"),!1,s);let l=!!(o&&!n[h1]);if(t.someProp("handleDrop",m=>m(t,n,a||H.empty,l))){n.preventDefault();return}if(!a)return;n.preventDefault();let c=a?r0(t.state.doc,s.pos,a):s.pos;c==null&&(c=s.pos);let d=t.state.tr;if(l){let{node:m}=o;m?m.replace(d):d.deleteSelection()}let u=d.mapping.map(c),f=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,p=d.doc;if(f?d.replaceRangeWith(u,u,a.content.firstChild):d.replaceRange(u,u,a),d.doc.eq(p))return;let h=d.doc.resolve(u);if(f&&X.isSelectable(a.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(a.content.firstChild))d.setSelection(new X(h));else{let m=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((g,y,b,x)=>m=x),d.setSelection(ju(t,h,d.doc.resolve(m)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))},gt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&zn(t)},20))},gt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},gt.beforeinput=(t,e)=>{if(ut&&$n&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:o}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=o||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,hr(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in yt)gt[t]=yt[t];function Ms(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class ml{constructor(e,n){this.toDOM=e,this.spec=n||br,this.side=this.spec.side||0}map(e,n,o,r){let{pos:s,deleted:a}=e.mapResult(n.from+r,this.side<0?-1:1);return a?null:new je(s-o,s-o,this)}valid(){return!0}eq(e){return this==e||e instanceof ml&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ms(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class _o{constructor(e,n){this.attrs=e,this.spec=n||br}map(e,n,o,r){let s=e.map(n.from+r,this.spec.inclusiveStart?-1:1)-o,a=e.map(n.to+r,this.spec.inclusiveEnd?1:-1)-o;return s>=a?null:new je(s,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof _o&&Ms(this.attrs,e.attrs)&&Ms(this.spec,e.spec)}static is(e){return e.type instanceof _o}destroy(){}}class Qu{constructor(e,n){this.attrs=e,this.spec=n||br}map(e,n,o,r){let s=e.mapResult(n.from+r,1);if(s.deleted)return null;let a=e.mapResult(n.to+r,-1);return a.deleted||a.pos<=s.pos?null:new je(s.pos-o,a.pos-o,this)}valid(e,n){let{index:o,offset:r}=e.content.findIndex(n.from),s;return r==n.from&&!(s=e.child(o)).isText&&r+s.nodeSize==n.to}eq(e){return this==e||e instanceof Qu&&Ms(this.attrs,e.attrs)&&Ms(this.spec,e.spec)}destroy(){}}class je{constructor(e,n,o){this.from=e,this.to=n,this.type=o}copy(e,n){return new je(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,o){return this.type.map(e,this,n,o)}static widget(e,n,o){return new je(e,e,new ml(n,o))}static inline(e,n,o,r){return new je(e,n,new _o(o,r))}static node(e,n,o,r){return new je(e,n,new Qu(o,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof _o}get widget(){return this.type instanceof ml}}const di=[],br={};class we{constructor(e,n){this.local=e.length?e:di,this.children=n.length?n:di}static create(e,n){return n.length?gl(n,e,0,br):ft}find(e,n,o){let r=[];return this.findInner(e??0,n??1e9,r,0,o),r}findInner(e,n,o,r,s){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=n&&l.to>=e&&(!s||s(l.spec))&&o.push(l.copy(l.from+r,l.to+r))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let l=this.children[a]+1;this.children[a+2].findInner(e-l,n-l,o,r+l,s)}}map(e,n,o){return this==ft||e.maps.length==0?this:this.mapInner(e,n,0,0,o||br)}mapInner(e,n,o,r,s){let a;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,o,r);c&&c.type.valid(n,c)?(a||(a=[])).push(c):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?d8(this.children,a||[],e,n,o,r,s):a?new we(a.sort(wr),di):ft}add(e,n){return n.length?this==ft?we.create(e,n):this.addInner(e,n,0):this}addInner(e,n,o){let r,s=0;e.forEach((l,c)=>{let d=c+o,u;if(u=g1(n,l,d)){for(r||(r=this.children.slice());s<r.length&&r[s]<c;)s+=3;r[s]==c?r[s+2]=r[s+2].addInner(l,u,d+1):r.splice(s,0,c,c+l.nodeSize,gl(u,l,d+1,br)),s+=3}});let a=m1(s?y1(n):n,-o);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new we(a.length?this.local.concat(a).sort(wr):this.local,r||this.children)}remove(e){return e.length==0||this==ft?this:this.removeInner(e,0)}removeInner(e,n){let o=this.children,r=this.local;for(let s=0;s<o.length;s+=3){let a,l=o[s]+n,c=o[s+1]+n;for(let u=0,f;u<e.length;u++)(f=e[u])&&f.from>l&&f.to<c&&(e[u]=null,(a||(a=[])).push(f));if(!a)continue;o==this.children&&(o=this.children.slice());let d=o[s+2].removeInner(a,l+1);d!=ft?o[s+2]=d:(o.splice(s,3),s-=3)}if(r.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let l=0;l<r.length;l++)r[l].eq(a,n)&&(r==this.local&&(r=this.local.slice()),r.splice(l--,1))}return o==this.children&&r==this.local?this:r.length||o.length?new we(r,o):ft}forChild(e,n){if(this==ft)return this;if(n.isLeaf)return we.empty;let o,r;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(o=this.children[l+2]);break}let s=e+1,a=s+n.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<a&&c.to>s&&c.type instanceof _o){let d=Math.max(s,c.from)-s,u=Math.min(a,c.to)-s;d<u&&(r||(r=[])).push(c.copy(d,u))}}if(r){let l=new we(r.sort(wr),di);return o?new To([l,o]):l}return o||ft}eq(e){if(this==e)return!0;if(!(e instanceof we)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return ef(this.localsInner(e))}localsInner(e){if(this==ft)return di;if(e.inlineContent||!this.local.some(_o.is))return this.local;let n=[];for(let o=0;o<this.local.length;o++)this.local[o].type instanceof _o||n.push(this.local[o]);return n}forEachSet(e){e(this)}}we.empty=new we([],[]),we.removeOverlap=ef;const ft=we.empty;class To{constructor(e){this.members=e}map(e,n){const o=this.members.map(r=>r.map(e,n,br));return To.from(o)}forChild(e,n){if(n.isLeaf)return we.empty;let o=[];for(let r=0;r<this.members.length;r++){let s=this.members[r].forChild(e,n);s!=ft&&(s instanceof To?o=o.concat(s.members):o.push(s))}return To.from(o)}eq(e){if(!(e instanceof To)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,o=!0;for(let r=0;r<this.members.length;r++){let s=this.members[r].localsInner(e);if(s.length)if(!n)n=s;else{o&&(n=n.slice(),o=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?ef(o?n:n.sort(wr)):di}static from(e){switch(e.length){case 0:return ft;case 1:return e[0];default:return new To(e.every(n=>n instanceof we)?e:e.reduce((n,o)=>n.concat(o instanceof we?o:o.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function d8(t,e,n,o,r,s,a){let l=t.slice();for(let d=0,u=s;d<n.maps.length;d++){let f=0;n.maps[d].forEach((p,h,m,g)=>{let y=g-m-(h-p);for(let b=0;b<l.length;b+=3){let x=l[b+1];if(x<0||p>x+u-f)continue;let k=l[b]+u-f;h>=k?l[b+1]=p<=k?-2:-1:p>=u&&y&&(l[b]+=y,l[b+1]+=y)}f+=y}),u=n.maps[d].map(u,-1)}let c=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){c=!0,l[d+1]=-1;continue}let u=n.map(t[d]+s),f=u-r;if(f<0||f>=o.content.size){c=!0;continue}let p=n.map(t[d+1]+s,-1),h=p-r,{index:m,offset:g}=o.content.findIndex(f),y=o.maybeChild(m);if(y&&g==f&&g+y.nodeSize==h){let b=l[d+2].mapInner(n,y,u+1,t[d]+s+1,a);b!=ft?(l[d]=f,l[d+1]=h,l[d+2]=b):(l[d+1]=-2,c=!0)}else c=!0}if(c){let d=u8(l,t,e,n,r,s,a),u=gl(d,o,0,a);e=u.local;for(let f=0;f<l.length;f+=3)l[f+1]<0&&(l.splice(f,3),f-=3);for(let f=0,p=0;f<u.children.length;f+=3){let h=u.children[f];for(;p<l.length&&l[p]<h;)p+=3;l.splice(p,0,u.children[f],u.children[f+1],u.children[f+2])}}return new we(e.sort(wr),l)}function m1(t,e){if(!e||!t.length)return t;let n=[];for(let o=0;o<t.length;o++){let r=t[o];n.push(new je(r.from+e,r.to+e,r.type))}return n}function u8(t,e,n,o,r,s,a){function l(c,d){for(let u=0;u<c.local.length;u++){let f=c.local[u].map(o,r,d);f?n.push(f):a.onRemove&&a.onRemove(c.local[u].spec)}for(let u=0;u<c.children.length;u+=3)l(c.children[u+2],c.children[u]+d+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+s+1);return n}function g1(t,e,n){if(e.isLeaf)return null;let o=n+e.nodeSize,r=null;for(let s=0,a;s<t.length;s++)(a=t[s])&&a.from>n&&a.to<o&&((r||(r=[])).push(a),t[s]=null);return r}function y1(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function gl(t,e,n,o){let r=[],s=!1;e.forEach((l,c)=>{let d=g1(t,l,c+n);if(d){s=!0;let u=gl(d,l,n+c+1,o);u!=ft&&r.push(c,c+l.nodeSize,u)}});let a=m1(s?y1(t):t,-n).sort(wr);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(o.onRemove&&o.onRemove(a[l].spec),a.splice(l--,1));return a.length||r.length?new we(a,r):ft}function wr(t,e){return t.from-e.from||t.to-e.to}function ef(t){let e=t;for(let n=0;n<e.length-1;n++){let o=e[n];if(o.from!=o.to)for(let r=n+1;r<e.length;r++){let s=e[r];if(s.from==o.from){s.to!=o.to&&(e==t&&(e=t.slice()),e[r]=s.copy(s.from,o.to),b1(e,r+1,s.copy(o.to,s.to)));continue}else{s.from<o.to&&(e==t&&(e=t.slice()),e[n]=o.copy(o.from,s.from),b1(e,r,o.copy(s.from,o.to)));break}}}return e}function b1(t,e,n){for(;e<t.length&&wr(n,t[e])>0;)e++;t.splice(e,0,n)}function tf(t){let e=[];return t.someProp("decorations",n=>{let o=n(t.state);o&&o!=ft&&e.push(o)}),t.cursorWrapper&&e.push(we.create(t.state.doc,[t.cursorWrapper.deco])),To.from(e)}const f8={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},p8=Ct&&So<=11;class h8{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class m8{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new h8,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(o=>{for(let r=0;r<o.length;r++)this.queue.push(o[r]);Ct&&So<=11&&o.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),p8&&(this.onCharData=o=>{this.queue.push({target:o.target,type:"characterData",oldValue:o.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,f8)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(K0(this.view)){if(this.suppressingSelectionUpdates)return zn(this.view);if(Ct&&So<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&pr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,o;for(let s=e.focusNode;s;s=bs(s))n.add(s);for(let s=e.anchorNode;s;s=bs(s))if(n.has(s)){o=s;break}let r=o&&this.view.docView.nearestDesc(o);if(r&&r.ignoreMutation({type:"selection",target:o.nodeType==3?o.parentNode:o}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let o=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(o)&&K0(e)&&!this.ignoreSelectionChange(o),s=-1,a=-1,l=!1,c=[];if(e.editable)for(let u=0;u<n.length;u++){let f=this.registerMutation(n[u],c);f&&(s=s<0?f.from:Math.min(f.from,s),a=a<0?f.to:Math.max(f.to,a),f.typeOver&&(l=!0))}if(nn&&c.length){let u=c.filter(f=>f.nodeName=="BR");if(u.length==2){let[f,p]=u;f.parentNode&&f.parentNode.parentNode==p.parentNode?p.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let p of u){let h=p.parentNode;h&&h.nodeName=="LI"&&(!f||b8(e,f)!=h)&&p.remove()}}}let d=null;s<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&cl(o)&&(d=Fu(e))&&d.eq(ee.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,zn(e),this.currentSelection.set(o)):(s>-1||r)&&(s>-1&&(e.docView.markDirty(s,a),g8(e)),this.handleDOMChange(s,a,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(o)||zn(e),this.currentSelection.set(o))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let o=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(o==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!o||o.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let f=e.addedNodes[u];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(o.contentDOM&&o.contentDOM!=o.dom&&!o.contentDOM.contains(e.target))return{from:o.posBefore,to:o.posAfter};let r=e.previousSibling,s=e.nextSibling;if(Ct&&So<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:f,nextSibling:p}=e.addedNodes[u];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(r=f),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(s=p)}let a=r&&r.parentNode==e.target?rt(r)+1:0,l=o.localPosFromDOM(e.target,a,-1),c=s&&s.parentNode==e.target?rt(s):e.target.childNodes.length,d=o.localPosFromDOM(e.target,c,1);return{from:l,to:d}}else return e.type=="attributes"?{from:o.posAtStart-o.border,to:o.posAtEnd+o.border}:(this.lastChangedTextNode=e.target,{from:o.posAtStart,to:o.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let w1=new WeakMap,x1=!1;function g8(t){if(!w1.has(t)&&(w1.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=nn,x1)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),x1=!0}}function k1(t,e){let n=e.startContainer,o=e.startOffset,r=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return pr(a.node,a.offset,r,s)&&([n,o,r,s]=[r,s,n,o]),{anchorNode:n,anchorOffset:o,focusNode:r,focusOffset:s}}function y8(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return k1(t,r)}let n;function o(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",o,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",o,!0),n?k1(t,n):null}function b8(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let o=t.docView.nearestDesc(n,!0);if(o&&o.node.isBlock)return n}return null}function w8(t,e,n){let{node:o,fromOffset:r,toOffset:s,from:a,to:l}=t.docView.parseRange(e,n),c=t.domSelectionRange(),d,u=c.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(d=[{node:u,offset:c.anchorOffset}],cl(c)||d.push({node:c.focusNode,offset:c.focusOffset})),ut&&t.input.lastKeyCode===8)for(let y=s;y>r;y--){let b=o.childNodes[y-1],x=b.pmViewDesc;if(b.nodeName=="BR"&&!x){s=y;break}if(!x||x.size)break}let f=t.state.doc,p=t.someProp("domParser")||us.fromSchema(t.state.schema),h=f.resolve(a),m=null,g=p.parse(o,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:r,to:s,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:x8,context:h});if(d&&d[0].pos!=null){let y=d[0].pos,b=d[1]&&d[1].pos;b==null&&(b=y),m={anchor:y+a,head:b+a}}return{doc:g,sel:m,from:a,to:l}}function x8(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(mt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||mt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const k8=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function C8(t,e,n,o,r){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let _=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,E=Fu(t,_);if(E&&!t.state.selection.eq(E)){if(ut&&$n&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",M=>M(t,hr(13,"Enter"))))return;let T=t.state.tr.setSelection(E);_=="pointer"?T.setMeta("pointer",!0):_=="key"&&T.scrollIntoView(),s&&T.setMeta("composition",s),t.dispatch(T)}return}let a=t.state.doc.resolve(e),l=a.sharedDepth(n);e=a.before(l+1),n=t.state.doc.resolve(n).after(l+1);let c=t.state.selection,d=w8(t,e,n),u=t.state.doc,f=u.slice(d.from,d.to),p,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,h="end"):(p=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let m=v8(f.content,d.doc.content,d.from,p,h);if(m&&t.input.domChangeCount++,(si&&t.input.lastIOSEnter>Date.now()-225||$n)&&r.some(_=>_.nodeType==1&&!k8.test(_.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",_=>_(t,hr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(o&&c instanceof Y&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))m={start:c.from,endA:c.to,endB:c.to};else{if(d.sel){let _=C1(t,t.state.doc,d.sel);if(_&&!_.eq(t.state.selection)){let E=t.state.tr.setSelection(_);s&&E.setMeta("composition",s),t.dispatch(E)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof Y&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),Ct&&So<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>d.from&&d.doc.textBetween(m.start-d.from-1,m.start-d.from+1)=="  "&&(m.start--,m.endA--,m.endB--);let g=d.doc.resolveNoCache(m.start-d.from),y=d.doc.resolveNoCache(m.endB-d.from),b=u.resolve(m.start),x=g.sameParent(y)&&g.parent.inlineContent&&b.end()>=m.endA,k;if((si&&t.input.lastIOSEnter>Date.now()-225&&(!x||r.some(_=>_.nodeName=="DIV"||_.nodeName=="P"))||!x&&g.pos<d.doc.content.size&&!g.sameParent(y)&&(k=ee.findFrom(d.doc.resolve(g.pos+1),1,!0))&&k.head==y.pos)&&t.someProp("handleKeyDown",_=>_(t,hr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&E8(u,m.start,m.endA,g,y)&&t.someProp("handleKeyDown",_=>_(t,hr(8,"Backspace")))){$n&&ut&&t.domObserver.suppressSelectionUpdates();return}ut&&m.endB==m.start&&(t.input.lastChromeDelete=Date.now()),$n&&!x&&g.start()!=y.start()&&y.parentOffset==0&&g.depth==y.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==m.endA&&(m.endB-=2,y=d.doc.resolveNoCache(m.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(_){return _(t,hr(13,"Enter"))})},20));let w=m.start,C=m.endA,S,v,B;if(x){if(g.pos==y.pos)Ct&&So<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>zn(t),20)),S=t.state.tr.delete(w,C),v=u.resolve(m.start).marksAcross(u.resolve(m.endA));else if(m.endA==m.endB&&(B=S8(g.parent.content.cut(g.parentOffset,y.parentOffset),b.parent.content.cut(b.parentOffset,m.endA-b.start()))))S=t.state.tr,B.type=="add"?S.addMark(w,C,B.mark):S.removeMark(w,C,B.mark);else if(g.parent.child(g.index()).isText&&g.index()==y.index()-(y.textOffset?0:1)){let _=g.parent.textBetween(g.parentOffset,y.parentOffset);if(t.someProp("handleTextInput",E=>E(t,w,C,_)))return;S=t.state.tr.insertText(_,w,C)}}if(S||(S=t.state.tr.replace(w,C,d.doc.slice(m.start-d.from,m.endB-d.from))),d.sel){let _=C1(t,S.doc,d.sel);_&&!(ut&&t.composing&&_.empty&&(m.start!=m.endB||t.input.lastChromeDelete<Date.now()-100)&&(_.head==w||_.head==S.mapping.map(C)-1)||Ct&&_.empty&&_.head==w)&&S.setSelection(_)}v&&S.ensureMarks(v),s&&S.setMeta("composition",s),t.dispatch(S.scrollIntoView())}function C1(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:ju(t,e.resolve(n.anchor),e.resolve(n.head))}function S8(t,e){let n=t.firstChild.marks,o=e.firstChild.marks,r=n,s=o,a,l,c;for(let u=0;u<o.length;u++)r=o[u].removeFromSet(r);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(r.length==1&&s.length==0)l=r[0],a="add",c=u=>u.mark(l.addToSet(u.marks));else if(r.length==0&&s.length==1)l=s[0],a="remove",c=u=>u.mark(l.removeFromSet(u.marks));else return null;let d=[];for(let u=0;u<e.childCount;u++)d.push(c(e.child(u)));if(I.from(d).eq(t))return{mark:l,type:a}}function E8(t,e,n,o,r){if(n-e<=r.pos-o.pos||nf(o,!0,!1)<r.pos)return!1;let s=t.resolve(e);if(!o.parent.isTextblock){let l=s.nodeAfter;return l!=null&&n==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=t.resolve(nf(s,!0,!0));return!a.parent.isTextblock||a.pos>n||nf(a,!0,!1)<n?!1:o.parent.content.cut(o.parentOffset).eq(a.parent.content)}function nf(t,e,n){let o=t.depth,r=e?t.end():t.pos;for(;o>0&&(e||t.indexAfter(o)==t.node(o).childCount);)o--,r++,e=!1;if(n){let s=t.node(o).maybeChild(t.indexAfter(o));for(;s&&!s.isLeaf;)s=s.firstChild,r++}return r}function v8(t,e,n,o,r){let s=t.findDiffStart(e,n);if(s==null)return null;let{a,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(r=="end"){let c=Math.max(0,s-Math.min(a,l));o-=a+c-s}if(a<s&&t.size<e.size){let c=o<=s&&o>=a?s-o:0;s-=c,s&&s<e.size&&S1(e.textBetween(s-1,s+1))&&(s+=c?1:-1),l=s+(l-a),a=s}else if(l<s){let c=o<=s&&o>=l?s-o:0;s-=c,s&&s<t.size&&S1(t.textBetween(s-1,s+1))&&(s+=c?1:-1),a=s+(a-l),l=s}return{start:s,endA:a,endB:l}}function S1(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class A8{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new W6,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(_1),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=A1(this),v1(this),this.nodeViews=M1(this),this.docView=I0(this.state.doc,E1(this),tf(this),this.dom,this),this.domObserver=new m8(this,(o,r,s,a)=>C8(this,o,r,s,a)),this.domObserver.start(),K6(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Ju(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(_1),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let o in this._props)n[o]=this._props[o];n.state=this.state;for(let o in e)n[o]=e[o];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var o;let r=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(u1(this),a=!0),this.state=e;let l=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=M1(this);_8(h,this.nodeViews)&&(this.nodeViews=h,s=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&Ju(this),this.editable=A1(this),v1(this);let c=tf(this),d=E1(this),u=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",f=s||!this.docView.matchesNode(e.doc,d,c);(f||!e.selection.eq(r.selection))&&(a=!0);let p=u=="preserve"&&a&&this.dom.style.overflowAnchor==null&&s6(this);if(a){this.domObserver.stop();let h=f&&(Ct||ut)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&M8(r.selection,e.selection);if(f){let m=ut?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=i8(this)),(s||!this.docView.update(e.doc,d,c,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=I0(e.doc,d,c,this.dom,this)),m&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&B6(this))?zn(this,h):(U0(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((o=this.dragging)===null||o===void 0)&&o.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():p&&a6(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof X){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&k0(this,n.getBoundingClientRect(),e)}else k0(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let o=this.directPlugins[n];o.spec.view&&this.pluginViews.push(o.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let o=this.state.plugins[n];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let o=this.pluginViews[n];o.update&&o.update(this,e)}}updateDraggedNode(e,n){let o=e.node,r=-1;if(this.state.doc.nodeAt(o.from)==o.node)r=o.from;else{let s=o.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==o.node&&(r=s)}this.dragging=new p1(e.slice,e.move,r<0?void 0:X.create(this.state.doc,r))}someProp(e,n){let o=this._props&&this._props[e],r;if(o!=null&&(r=n?n(o):o))return r;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[e];if(l!=null&&(r=n?n(l):l))return r}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let l=s[a].props[e];if(l!=null&&(r=n?n(l):l))return r}}hasFocus(){if(Ct){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&l6(this.dom),zn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return p6(this,e)}coordsAtPos(e,n=1){return M0(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,o=-1){let r=this.docView.posFromDOM(e,n,o);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,n){return b6(this,n||this.state,e)}pasteHTML(e,n){return As(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return As(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Ku(this,e)}destroy(){this.docView&&(q6(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],tf(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,J3())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return J6(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?mt&&this.root.nodeType===11&&e6(this.dom.ownerDocument)==this.dom&&y8(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function E1(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let o in n)o=="class"?e.class+=" "+n[o]:o=="style"?e.style=(e.style?e.style+";":"")+n[o]:!e[o]&&o!="contenteditable"&&o!="nodeName"&&(e[o]=String(n[o]))}),e.translate||(e.translate="no"),[je.node(0,t.state.doc.content.size,e)]}function v1(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:je.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function A1(t){return!t.someProp("editable",e=>e(t.state)===!1)}function M8(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function M1(t){let e=Object.create(null);function n(o){for(let r in o)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=o[r])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function _8(t,e){let n=0,o=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let r in e)o++;return n!=o}function _1(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}for(var Bo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},yl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},T8=typeof navigator<"u"&&/Mac/.test(navigator.platform),B8=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),it=0;it<10;it++)Bo[48+it]=Bo[96+it]=String(it);for(var it=1;it<=24;it++)Bo[it+111]="F"+it;for(var it=65;it<=90;it++)Bo[it]=String.fromCharCode(it+32),yl[it]=String.fromCharCode(it);for(var of in Bo)yl.hasOwnProperty(of)||(yl[of]=Bo[of]);function O8(t){var e=T8&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||B8&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?yl:Bo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const N8=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function P8(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let o,r,s,a;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))o=!0;else if(/^(c|ctrl|control)$/i.test(c))r=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))N8?a=!0:r=!0;else throw new Error("Unrecognized modifier name: "+c)}return o&&(n="Alt-"+n),r&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function I8(t){let e=Object.create(null);for(let n in t)e[P8(n)]=t[n];return e}function rf(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function D8(t){return new ge({props:{handleKeyDown:sf(t)}})}function sf(t){let e=I8(t);return function(n,o){let r=O8(o),s,a=e[rf(r,o)];if(a&&a(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(o.shiftKey){let l=e[rf(r,o,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((o.shiftKey||o.altKey||o.metaKey||r.charCodeAt(0)>127)&&(s=Bo[o.keyCode])&&s!=r){let l=e[rf(s,o)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const af=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function T1(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const R8=(t,e,n)=>{let o=T1(t,n);if(!o)return!1;let r=lf(o);if(!r){let a=o.blockRange(),l=a&&ei(a);return l==null?!1:(e&&e(t.tr.lift(a,l).scrollIntoView()),!0)}let s=r.nodeBefore;if(P1(t,r,e,-1))return!0;if(o.parent.content.size==0&&(ui(s,"end")||X.isSelectable(s)))for(let a=o.depth;;a--){let l=sl(t.doc,o.before(a),o.after(a),H.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(ui(s,"end")?ee.findFrom(c.doc.resolve(c.mapping.map(r.pos,-1)),-1):X.create(c.doc,r.pos-s.nodeSize)),e(c.scrollIntoView())}return!0}if(a==1||o.node(a-1).childCount>1)break}return s.isAtom&&r.depth==o.depth-1?(e&&e(t.tr.delete(r.pos-s.nodeSize,r.pos).scrollIntoView()),!0):!1},L8=(t,e,n)=>{let o=T1(t,n);if(!o)return!1;let r=lf(o);return r?B1(t,r,e):!1},$8=(t,e,n)=>{let o=O1(t,n);if(!o)return!1;let r=cf(o);return r?B1(t,r,e):!1};function B1(t,e,n){let o=e.nodeBefore,r=o,s=e.pos-1;for(;!r.isTextblock;s--){if(r.type.spec.isolating)return!1;let u=r.lastChild;if(!u)return!1;r=u}let a=e.nodeAfter,l=a,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let u=l.firstChild;if(!u)return!1;l=u}let d=sl(t.doc,s,c,H.empty);if(!d||d.from!=s||d instanceof Je&&d.slice.size>=c-s)return!1;if(n){let u=t.tr.step(d);u.setSelection(Y.create(u.doc,s)),n(u.scrollIntoView())}return!0}function ui(t,e,n=!1){for(let o=t;o;o=e=="start"?o.firstChild:o.lastChild){if(o.isTextblock)return!0;if(n&&o.childCount!=1)return!1}return!1}const V8=(t,e,n)=>{let{$head:o,empty:r}=t.selection,s=o;if(!r)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):o.parentOffset>0)return!1;s=lf(o)}let a=s&&s.nodeBefore;return!a||!X.isSelectable(a)?!1:(e&&e(t.tr.setSelection(X.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function lf(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function O1(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const z8=(t,e,n)=>{let o=O1(t,n);if(!o)return!1;let r=cf(o);if(!r)return!1;let s=r.nodeAfter;if(P1(t,r,e,1))return!0;if(o.parent.content.size==0&&(ui(s,"start")||X.isSelectable(s))){let a=sl(t.doc,o.before(),o.after(),H.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(ui(s,"start")?ee.findFrom(l.doc.resolve(l.mapping.map(r.pos)),1):X.create(l.doc,l.mapping.map(r.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&r.depth==o.depth-1?(e&&e(t.tr.delete(r.pos,r.pos+s.nodeSize).scrollIntoView()),!0):!1},F8=(t,e,n)=>{let{$head:o,empty:r}=t.selection,s=o;if(!r)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;s=cf(o)}let a=s&&s.nodeAfter;return!a||!X.isSelectable(a)?!1:(e&&e(t.tr.setSelection(X.create(t.doc,s.pos)).scrollIntoView()),!0)};function cf(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const H8=(t,e)=>{let n=t.selection,o=n instanceof X,r;if(o){if(n.node.isTextblock||!ko(t.doc,n.from))return!1;r=n.from}else if(r=il(t.doc,n.from,-1),r==null)return!1;if(e){let s=t.tr.join(r);o&&s.setSelection(X.create(s.doc,r-t.doc.resolve(r).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},j8=(t,e)=>{let n=t.selection,o;if(n instanceof X){if(n.node.isTextblock||!ko(t.doc,n.to))return!1;o=n.to}else if(o=il(t.doc,n.to,1),o==null)return!1;return e&&e(t.tr.join(o).scrollIntoView()),!0},U8=(t,e)=>{let{$from:n,$to:o}=t.selection,r=n.blockRange(o),s=r&&ei(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},W8=(t,e)=>{let{$head:n,$anchor:o}=t.selection;return!n.parent.type.spec.code||!n.sameParent(o)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function N1(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const K8=(t,e)=>{let{$head:n,$anchor:o}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(o))return!1;let r=n.node(-1),s=n.indexAfter(-1),a=N1(r.contentMatchAt(s));if(!a||!r.canReplaceWith(s,s,a))return!1;if(e){let l=n.after(),c=t.tr.replaceWith(l,l,a.createAndFill());c.setSelection(ee.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},q8=(t,e)=>{let n=t.selection,{$from:o,$to:r}=n;if(n instanceof kt||o.parent.inlineContent||r.parent.inlineContent)return!1;let s=N1(r.parent.contentMatchAt(r.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!o.parentOffset&&r.index()<r.parent.childCount?o:r).pos,l=t.tr.insert(a,s.createAndFill());l.setSelection(Y.create(l.doc,a+1)),e(l.scrollIntoView())}return!0},G8=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(ti(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let o=n.blockRange(),r=o&&ei(o);return r==null?!1:(e&&e(t.tr.lift(o,r).scrollIntoView()),!0)},J8=(t,e)=>{let{$from:n,to:o}=t.selection,r,s=n.sharedDepth(o);return s==0?!1:(r=n.before(s),e&&e(t.tr.setSelection(X.create(t.doc,r))),!0)};function Y8(t,e,n){let o=e.nodeBefore,r=e.nodeAfter,s=e.index();return!o||!r||!o.type.compatibleContent(r.type)?!1:!o.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-o.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(r.isTextblock||ko(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function P1(t,e,n,o){let r=e.nodeBefore,s=e.nodeAfter,a,l,c=r.type.spec.isolating||s.type.spec.isolating;if(!c&&Y8(t,e,n))return!0;let d=!c&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(a=(l=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&l.matchType(a[0]||s.type).validEnd){if(n){let h=e.pos+s.nodeSize,m=I.empty;for(let b=a.length-1;b>=0;b--)m=I.from(a[b].create(null,m));m=I.from(r.copy(m));let g=t.tr.step(new Ye(e.pos-1,h,e.pos,h,new H(m,1,0),a.length,!0)),y=g.doc.resolve(h+2*a.length);y.nodeAfter&&y.nodeAfter.type==r.type&&ko(g.doc,y.pos)&&g.join(y.pos),n(g.scrollIntoView())}return!0}let u=s.type.spec.isolating||o>0&&c?null:ee.findFrom(e,1),f=u&&u.$from.blockRange(u.$to),p=f&&ei(f);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(f,p).scrollIntoView()),!0;if(d&&ui(s,"start",!0)&&ui(r,"end")){let h=r,m=[];for(;m.push(h),!h.isTextblock;)h=h.lastChild;let g=s,y=1;for(;!g.isTextblock;g=g.firstChild)y++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(n){let b=I.empty;for(let k=m.length-1;k>=0;k--)b=I.from(m[k].copy(b));let x=t.tr.step(new Ye(e.pos-m.length,e.pos+s.nodeSize,e.pos+y,e.pos+s.nodeSize-y,new H(b,m.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function I1(t){return function(e,n){let o=e.selection,r=t<0?o.$from:o.$to,s=r.depth;for(;r.node(s).isInline;){if(!s)return!1;s--}return r.node(s).isTextblock?(n&&n(e.tr.setSelection(Y.create(e.doc,t<0?r.start(s):r.end(s)))),!0):!1}}const X8=I1(-1),Z8=I1(1);function Q8(t,e=null){return function(n,o){let{$from:r,$to:s}=n.selection,a=r.blockRange(s),l=a&&Eu(a,t,e);return l?(o&&o(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}function D1(t,e=null){return function(n,o){let r=!1;for(let s=0;s<n.selection.ranges.length&&!r;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];n.doc.nodesBetween(a,l,(c,d)=>{if(r)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)r=!0;else{let u=n.doc.resolve(d),f=u.index();r=u.parent.canReplaceWith(f,f+1,t)}})}if(!r)return!1;if(o){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[a];s.setBlockType(l,c,t,e)}o(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function e5(t,e=null){return function(n,o){let{$from:r,$to:s}=n.selection,a=r.blockRange(s),l=!1,c=a;if(!a)return!1;if(a.depth>=2&&r.node(a.depth-1).type.compatibleContent(t)&&a.startIndex==0){if(r.index(a.depth-1)==0)return!1;let u=n.doc.resolve(a.start-2);c=new ds(u,u,a.depth),a.endIndex<a.parent.childCount&&(a=new ds(r,n.doc.resolve(s.end(a.depth)),a.depth)),l=!0}let d=Eu(c,t,e,a);return d?(o&&o(t5(n.tr,a,d,l,t).scrollIntoView()),!0):!1}}function t5(t,e,n,o,r){let s=I.empty;for(let u=n.length-1;u>=0;u--)s=I.from(n[u].type.create(n[u].attrs,s));t.step(new Ye(e.start-(o?2:0),e.end,e.start,e.end,new H(s,0,0),n.length,!0));let a=0;for(let u=0;u<n.length;u++)n[u].type==r&&(a=u+1);let l=n.length-a,c=e.start+n.length-(o?2:0),d=e.parent;for(let u=e.startIndex,f=e.endIndex,p=!0;u<f;u++,p=!1)!p&&ti(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=d.child(u).nodeSize;return t}function n5(t){return function(e,n){let{$from:o,$to:r}=e.selection,s=o.blockRange(r,a=>a.childCount>0&&a.firstChild.type==t);return s?n?o.node(s.depth-1).type==t?o5(e,n,t,s):r5(e,n,s):!0:!1}}function o5(t,e,n,o){let r=t.tr,s=o.end,a=o.$to.end(o.depth);s<a&&(r.step(new Ye(s-1,a,s,a,new H(I.from(n.create(null,o.parent.copy())),1,0),1,!0)),o=new ds(r.doc.resolve(o.$from.pos),r.doc.resolve(a),o.depth));const l=ei(o);if(l==null)return!1;r.lift(o,l);let c=r.mapping.map(s,-1)-1;return ko(r.doc,c)&&r.join(c),e(r.scrollIntoView()),!0}function r5(t,e,n){let o=t.tr,r=n.parent;for(let h=n.end,m=n.endIndex-1,g=n.startIndex;m>g;m--)h-=r.child(m).nodeSize,o.delete(h-1,h+1);let s=o.doc.resolve(n.start),a=s.nodeAfter;if(o.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,c=n.endIndex==r.childCount,d=s.node(-1),u=s.index(-1);if(!d.canReplace(u+(l?0:1),u+1,a.content.append(c?I.empty:I.from(r))))return!1;let f=s.pos,p=f+a.nodeSize;return o.step(new Ye(f-(l?1:0),p+(c?1:0),f+1,p-1,new H((l?I.empty:I.from(r.copy(I.empty))).append(c?I.empty:I.from(r.copy(I.empty))),l?0:1,c?0:1),l?0:1)),e(o.scrollIntoView()),!0}function i5(t){return function(e,n){let{$from:o,$to:r}=e.selection,s=o.blockRange(r,d=>d.childCount>0&&d.firstChild.type==t);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let l=s.parent,c=l.child(a-1);if(c.type!=t)return!1;if(n){let d=c.lastChild&&c.lastChild.type==l.type,u=I.from(d?t.create():null),f=new H(I.from(t.create(null,I.from(l.type.create(null,u)))),d?3:1,0),p=s.start,h=s.end;n(e.tr.step(new Ye(p-(d?3:1),h,p,h,f,1,!0)).scrollIntoView())}return!0}}function bl(t){const{state:e,transaction:n}=t;let{selection:o}=n,{doc:r}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return o},get doc(){return r},get tr(){return o=n.selection,r=n.doc,s=n.storedMarks,n}}}class wl{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:o}=this,{view:r}=n,{tr:s}=o,a=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...u)=>{const f=c(...u)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:o,editor:r,state:s}=this,{view:a}=r,l=[],c=!!e,d=e||s.tr,u=()=>(!c&&n&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(d),l.every(p=>p===!0)),f={...Object.fromEntries(Object.entries(o).map(([p,h])=>[p,(...g)=>{const y=this.buildProps(d,n),b=h(...g)(y);return l.push(b),f}])),run:u};return f}createCan(e){const{rawCommands:n,state:o}=this,r=!1,s=e||o.tr,a=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(n).map(([c,d])=>[c,(...u)=>d(...u)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(e,n=!0){const{rawCommands:o,editor:r,state:s}=this,{view:a}=r,l={tr:e,editor:r,view:a,state:bl({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(o).map(([c,d])=>[c,(...u)=>d(...u)(l)]))}};return l}}class s5{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const o=this.callbacks[e];return o&&o.forEach(r=>r.apply(this,n)),this}off(e,n){const o=this.callbacks[e];return o&&(n?this.callbacks[e]=o.filter(r=>r!==n):delete this.callbacks[e]),this}once(e,n){const o=(...r)=>{this.off(e,o),n.apply(this,r)};return this.on(e,o)}removeAllListeners(){this.callbacks={}}}function K(t,e,n){return t.config[e]===void 0&&t.parent?K(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?K(t.parent,e,n):null}):t.config[e]}function xl(t){const e=t.filter(r=>r.type==="extension"),n=t.filter(r=>r.type==="node"),o=t.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:o}}function R1(t){const e=[],{nodeExtensions:n,markExtensions:o}=xl(t),r=[...n,...o],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage,extensions:r},c=K(a,"addGlobalAttributes",l);if(!c)return;c().forEach(u=>{u.types.forEach(f=>{Object.entries(u.attributes).forEach(([p,h])=>{e.push({type:f,name:p,attribute:{...s,...h}})})})})}),r.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},c=K(a,"addAttributes",l);if(!c)return;const d=c();Object.entries(d).forEach(([u,f])=>{const p={...s,...f};typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,e.push({type:a.name,name:u,attribute:p})})}),e}function Xe(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function xe(...t){return t.filter(e=>!!e).reduce((e,n)=>{const o={...e};return Object.entries(n).forEach(([r,s])=>{if(!o[r]){o[r]=s;return}if(r==="class"){const l=s?String(s).split(" "):[],c=o[r]?o[r].split(" "):[],d=l.filter(u=>!c.includes(u));o[r]=[...c,...d].join(" ")}else if(r==="style"){const l=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],c=o[r]?o[r].split(";").map(u=>u.trim()).filter(Boolean):[],d=new Map;c.forEach(u=>{const[f,p]=u.split(":").map(h=>h.trim());d.set(f,p)}),l.forEach(u=>{const[f,p]=u.split(":").map(h=>h.trim());d.set(f,p)}),o[r]=Array.from(d.entries()).map(([u,f])=>`${u}: ${f}`).join("; ")}else o[r]=s}),o},{})}function df(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,o)=>xe(n,o),{})}function L1(t){return typeof t=="function"}function ce(t,e=void 0,...n){return L1(t)?e?t.bind(e)(...n):t(...n):t}function a5(t={}){return Object.keys(t).length===0&&t.constructor===Object}function l5(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function $1(t,e){return"style"in t?t:{...t,getAttrs:n=>{const o=t.getAttrs?t.getAttrs(n):t.attrs;if(o===!1)return!1;const r=e.reduce((s,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(n):l5(n.getAttribute(a.name));return l==null?s:{...s,[a.name]:l}},{});return{...o,...r}}}}function V1(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&a5(n)?!1:n!=null))}function c5(t,e){var n;const o=R1(t),{nodeExtensions:r,markExtensions:s}=xl(t),a=(n=r.find(d=>K(d,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(r.map(d=>{const u=o.filter(b=>b.type===d.name),f={name:d.name,options:d.options,storage:d.storage,editor:e},p=t.reduce((b,x)=>{const k=K(x,"extendNodeSchema",f);return{...b,...k?k(d):{}}},{}),h=V1({...p,content:ce(K(d,"content",f)),marks:ce(K(d,"marks",f)),group:ce(K(d,"group",f)),inline:ce(K(d,"inline",f)),atom:ce(K(d,"atom",f)),selectable:ce(K(d,"selectable",f)),draggable:ce(K(d,"draggable",f)),code:ce(K(d,"code",f)),whitespace:ce(K(d,"whitespace",f)),linebreakReplacement:ce(K(d,"linebreakReplacement",f)),defining:ce(K(d,"defining",f)),isolating:ce(K(d,"isolating",f)),attrs:Object.fromEntries(u.map(b=>{var x;return[b.name,{default:(x=b==null?void 0:b.attribute)===null||x===void 0?void 0:x.default}]}))}),m=ce(K(d,"parseHTML",f));m&&(h.parseDOM=m.map(b=>$1(b,u)));const g=K(d,"renderHTML",f);g&&(h.toDOM=b=>g({node:b,HTMLAttributes:df(b,u)}));const y=K(d,"renderText",f);return y&&(h.toText=y),[d.name,h]})),c=Object.fromEntries(s.map(d=>{const u=o.filter(y=>y.type===d.name),f={name:d.name,options:d.options,storage:d.storage,editor:e},p=t.reduce((y,b)=>{const x=K(b,"extendMarkSchema",f);return{...y,...x?x(d):{}}},{}),h=V1({...p,inclusive:ce(K(d,"inclusive",f)),excludes:ce(K(d,"excludes",f)),group:ce(K(d,"group",f)),spanning:ce(K(d,"spanning",f)),code:ce(K(d,"code",f)),attrs:Object.fromEntries(u.map(y=>{var b;return[y.name,{default:(b=y==null?void 0:y.attribute)===null||b===void 0?void 0:b.default}]}))}),m=ce(K(d,"parseHTML",f));m&&(h.parseDOM=m.map(y=>$1(y,u)));const g=K(d,"renderHTML",f);return g&&(h.toDOM=y=>g({mark:y,HTMLAttributes:df(y,u)})),[d.name,h]}));return new $g({topNode:a,nodes:l,marks:c})}function uf(t,e){return e.nodes[t]||e.marks[t]||null}function z1(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function ff(t,e){const n=bo.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}const d5=(t,e=500)=>{let n="";const o=t.parentOffset;return t.parent.nodesBetween(Math.max(0,o-e),o,(r,s,a,l)=>{var c,d;const u=((d=(c=r.type.spec).toText)===null||d===void 0?void 0:d.call(c,{node:r,pos:s,parent:a,index:l}))||r.textContent||"%leaf%";n+=r.isAtom&&!r.isText?u:u.slice(0,Math.max(0,o-s))}),n};function pf(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class kl{constructor(e){this.find=e.find,this.handler=e.handler}}const u5=(t,e)=>{if(pf(e))return e.exec(t);const n=e(t);if(!n)return null;const o=[n.text];return o.index=n.index,o.input=t,o.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),o.push(n.replaceWith)),o};function Cl(t){var e;const{editor:n,from:o,to:r,text:s,rules:a,plugin:l}=t,{view:c}=n;if(c.composing)return!1;const d=c.state.doc.resolve(o);if(d.parent.type.spec.code||!((e=d.nodeBefore||d.nodeAfter)===null||e===void 0)&&e.marks.find(p=>p.type.spec.code))return!1;let u=!1;const f=d5(d)+s;return a.forEach(p=>{if(u)return;const h=u5(f,p.find);if(!h)return;const m=c.state.tr,g=bl({state:c.state,transaction:m}),y={from:o-(h[0].length-s.length),to:r},{commands:b,chain:x,can:k}=new wl({editor:n,state:g});p.handler({state:g,range:y,match:h,commands:b,chain:x,can:k})===null||!m.steps.length||(m.setMeta(l,{transform:m,from:o,to:r,text:s}),c.dispatch(m),u=!0)}),u}function f5(t){const{editor:e,rules:n}=t,o=new ge({state:{init(){return null},apply(r,s,a){const l=r.getMeta(o);if(l)return l;const c=r.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:u}=c;typeof u=="string"?u=u:u=ff(I.from(u),a.schema);const{from:f}=c,p=f+u.length;Cl({editor:e,from:f,to:p,text:u,rules:n,plugin:o})}),r.selectionSet||r.docChanged?null:s}},props:{handleTextInput(r,s,a,l){return Cl({editor:e,from:s,to:a,text:l,rules:n,plugin:o})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:s}=r.state.selection;s&&Cl({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:o})}),!1)},handleKeyDown(r,s){if(s.key!=="Enter")return!1;const{$cursor:a}=r.state.selection;return a?Cl({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:o}):!1}},isInputRules:!0});return o}function p5(t){return Object.prototype.toString.call(t).slice(8,-1)}function Sl(t){return p5(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function El(t,e){const n={...t};return Sl(t)&&Sl(e)&&Object.keys(e).forEach(o=>{Sl(e[o])&&Sl(t[o])?n[o]=El(t[o],e[o]):n[o]=e[o]}),n}class St{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ce(K(this,"addOptions",{name:this.name}))),this.storage=ce(K(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new St(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>El(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new St(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ce(K(n,"addOptions",{name:n.name})),n.storage=ce(K(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:o}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const a=r.marks();if(!!!a.find(d=>(d==null?void 0:d.type.name)===n.name))return!1;const c=a.find(d=>(d==null?void 0:d.type.name)===n.name);return c&&o.removeStoredMark(c),o.insertText(" ",r.pos),e.view.dispatch(o),!0}return!1}}function h5(t){return typeof t=="number"}class m5{constructor(e){this.find=e.find,this.handler=e.handler}}const g5=(t,e,n)=>{if(pf(e))return[...t.matchAll(e)];const o=e(t,n);return o?o.map(r=>{const s=[r.text];return s.index=r.index,s.input=t,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(r.replaceWith)),s}):[]};function y5(t){const{editor:e,state:n,from:o,to:r,rule:s,pasteEvent:a,dropEvent:l}=t,{commands:c,chain:d,can:u}=new wl({editor:e,state:n}),f=[];return n.doc.nodesBetween(o,r,(h,m)=>{if(!h.isTextblock||h.type.spec.code)return;const g=Math.max(o,m),y=Math.min(r,m+h.content.size),b=h.textBetween(g-m,y-m,void 0,"￼");g5(b,s.find,a).forEach(k=>{if(k.index===void 0)return;const w=g+k.index+1,C=w+k[0].length,S={from:n.tr.mapping.map(w),to:n.tr.mapping.map(C)},v=s.handler({state:n,range:S,match:k,commands:c,chain:d,can:u,pasteEvent:a,dropEvent:l});f.push(v)})}),f.every(h=>h!==null)}let vl=null;const b5=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function w5(t){const{editor:e,rules:n}=t;let o=null,r=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:u,from:f,to:p,rule:h,pasteEvt:m})=>{const g=u.tr,y=bl({state:u,transaction:g});if(!(!y5({editor:e,state:y,from:Math.max(f-1,0),to:p.b-1,rule:h,pasteEvent:m,dropEvent:l})||!g.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return n.map(u=>new ge({view(f){const p=m=>{var g;o=!((g=f.dom.parentElement)===null||g===void 0)&&g.contains(m.target)?f.dom.parentElement:null,o&&(vl=e)},h=()=>{vl&&(vl=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(f,p)=>{if(s=o===f.dom.parentElement,l=p,!s){const h=vl;h&&setTimeout(()=>{const m=h.state.selection;m&&h.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(f,p)=>{var h;const m=(h=p.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return a=p,r=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(f,p,h)=>{const m=f[0],g=m.getMeta("uiEvent")==="paste"&&!r,y=m.getMeta("uiEvent")==="drop"&&!s,b=m.getMeta("applyPasteRules"),x=!!b;if(!g&&!y&&!x)return;if(x){let{text:C}=b;typeof C=="string"?C=C:C=ff(I.from(C),h.schema);const{from:S}=b,v=S+C.length,B=b5(C);return c({rule:u,state:h,from:S,to:{b:v},pasteEvt:B})}const k=p.doc.content.findDiffStart(h.doc.content),w=p.doc.content.findDiffEnd(h.doc.content);if(!(!h5(k)||!w||k===w.b))return c({rule:u,state:h,from:k,to:w,pasteEvt:a})}}))}function x5(t){const e=t.filter((n,o)=>t.indexOf(n)!==o);return Array.from(new Set(e))}class fi{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=fi.resolve(e),this.schema=c5(this.extensions,n),this.setupExtensions()}static resolve(e){const n=fi.sort(fi.flatten(e)),o=x5(n.map(r=>r.name));return o.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${o.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const o={name:n.name,options:n.options,storage:n.storage},r=K(n,"addExtensions",o);return r?[n,...this.flatten(r())]:n}).flat(10)}static sort(e){return e.sort((o,r)=>{const s=K(o,"priority")||100,a=K(r,"priority")||100;return s>a?-1:s<a?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const o={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:uf(n.name,this.schema)},r=K(n,"addCommands",o);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this,n=fi.sort([...this.extensions].reverse()),o=[],r=[],s=n.map(a=>{const l={name:a.name,options:a.options,storage:a.storage,editor:e,type:uf(a.name,this.schema)},c=[],d=K(a,"addKeyboardShortcuts",l);let u={};if(a.type==="mark"&&K(a,"exitable",l)&&(u.ArrowRight=()=>St.handleExit({editor:e,mark:a})),d){const g=Object.fromEntries(Object.entries(d()).map(([y,b])=>[y,()=>b({editor:e})]));u={...u,...g}}const f=D8(u);c.push(f);const p=K(a,"addInputRules",l);z1(a,e.options.enableInputRules)&&p&&o.push(...p());const h=K(a,"addPasteRules",l);z1(a,e.options.enablePasteRules)&&h&&r.push(...h());const m=K(a,"addProseMirrorPlugins",l);if(m){const g=m();c.push(...g)}return c}).flat();return[f5({editor:e,rules:o}),...w5({editor:e,rules:r}),...s]}get attributes(){return R1(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=xl(this.extensions);return Object.fromEntries(n.filter(o=>!!K(o,"addNodeView")).map(o=>{const r=this.attributes.filter(c=>c.type===o.name),s={name:o.name,options:o.options,storage:o.storage,editor:e,type:Xe(o.name,this.schema)},a=K(o,"addNodeView",s);if(!a)return[];const l=(c,d,u,f,p)=>{const h=df(c,r);return a()({node:c,view:d,getPos:u,decorations:f,innerDecorations:p,editor:e,extension:o,HTMLAttributes:h})};return[o.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const o={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:uf(e.name,this.schema)};e.type==="mark"&&(!((n=ce(K(e,"keepOnSplit",o)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const r=K(e,"onBeforeCreate",o),s=K(e,"onCreate",o),a=K(e,"onUpdate",o),l=K(e,"onSelectionUpdate",o),c=K(e,"onTransaction",o),d=K(e,"onFocus",o),u=K(e,"onBlur",o),f=K(e,"onDestroy",o);r&&this.editor.on("beforeCreate",r),s&&this.editor.on("create",s),a&&this.editor.on("update",a),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),d&&this.editor.on("focus",d),u&&this.editor.on("blur",u),f&&this.editor.on("destroy",f)})}}class fe{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ce(K(this,"addOptions",{name:this.name}))),this.storage=ce(K(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new fe(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>El(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new fe({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ce(K(n,"addOptions",{name:n.name})),n.storage=ce(K(n,"addStorage",{name:n.name,options:n.options})),n}}function F1(t,e,n){const{from:o,to:r}=e,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let l="";return t.nodesBetween(o,r,(c,d,u,f)=>{var p;c.isBlock&&d>o&&(l+=s);const h=a==null?void 0:a[c.type.name];if(h)return u&&(l+=h({node:c,pos:d,parent:u,index:f,range:e})),!1;c.isText&&(l+=(p=c==null?void 0:c.text)===null||p===void 0?void 0:p.slice(Math.max(o,d)-d,r-d))}),l}function hf(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const k5=fe.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new ge({key:new ye("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:o,selection:r}=e,{ranges:s}=r,a=Math.min(...s.map(u=>u.$from.pos)),l=Math.max(...s.map(u=>u.$to.pos)),c=hf(n);return F1(o,{from:a,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),C5=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),S5=(t=!1)=>({commands:e})=>e.setContent("",t),E5=()=>({state:t,tr:e,dispatch:n})=>{const{selection:o}=e,{ranges:r}=o;return n&&r.forEach(({$from:s,$to:a})=>{t.doc.nodesBetween(s.pos,a.pos,(l,c)=>{if(l.type.isText)return;const{doc:d,mapping:u}=e,f=d.resolve(u.map(c)),p=d.resolve(u.map(c+l.nodeSize)),h=f.blockRange(p);if(!h)return;const m=ei(h);if(l.type.isTextblock){const{defaultType:g}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(h.start,g)}(m||m===0)&&e.lift(h,m)})}),!0},v5=t=>e=>t(e),A5=()=>({state:t,dispatch:e})=>q8(t,e),M5=(t,e)=>({editor:n,tr:o})=>{const{state:r}=n,s=r.doc.slice(t.from,t.to);o.deleteRange(t.from,t.to);const a=o.mapping.map(e);return o.insert(a,s.content),o.setSelection(new Y(o.doc.resolve(a-1))),!0},_5=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,o=n.$anchor.node();if(o.content.size>0)return!1;const r=t.selection.$anchor;for(let s=r.depth;s>0;s-=1)if(r.node(s).type===o.type){if(e){const l=r.before(s),c=r.after(s);t.delete(l,c).scrollIntoView()}return!0}return!1},T5=t=>({tr:e,state:n,dispatch:o})=>{const r=Xe(t,n.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===r){if(o){const c=s.before(a),d=s.after(a);e.delete(c,d).scrollIntoView()}return!0}return!1},B5=t=>({tr:e,dispatch:n})=>{const{from:o,to:r}=t;return n&&e.delete(o,r),!0},O5=()=>({state:t,dispatch:e})=>af(t,e),N5=()=>({commands:t})=>t.keyboardShortcut("Enter"),P5=()=>({state:t,dispatch:e})=>K8(t,e);function Al(t,e,n={strict:!0}){const o=Object.keys(e);return o.length?o.every(r=>n.strict?e[r]===t[r]:pf(e[r])?e[r].test(t[r]):e[r]===t[r]):!0}function H1(t,e,n={}){return t.find(o=>o.type===e&&Al(Object.fromEntries(Object.keys(n).map(r=>[r,o.attrs[r]])),n))}function j1(t,e,n={}){return!!H1(t,e,n)}function Ml(t,e,n){var o;if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(u=>u.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(u=>u.type===e)||(n=n||((o=r.node.marks[0])===null||o===void 0?void 0:o.attrs),!H1([...r.node.marks],e,n)))return;let a=r.index,l=t.start()+r.offset,c=a+1,d=l+r.node.nodeSize;for(;a>0&&j1([...t.parent.child(a-1).marks],e,n);)a-=1,l-=t.parent.child(a).nodeSize;for(;c<t.parent.childCount&&j1([...t.parent.child(c).marks],e,n);)d+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:d}}function Oo(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const I5=(t,e={})=>({tr:n,state:o,dispatch:r})=>{const s=Oo(t,o.schema),{doc:a,selection:l}=n,{$from:c,from:d,to:u}=l;if(r){const f=Ml(c,s,e);if(f&&f.from<=d&&f.to>=u){const p=Y.create(a,f.from,f.to);n.setSelection(p)}}return!0},D5=t=>e=>{const n=typeof t=="function"?t(e):t;for(let o=0;o<n.length;o+=1)if(n[o](e))return!0;return!1};function mf(t){return t instanceof Y}function Fn(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function U1(t,e=null){if(!e)return null;const n=ee.atStart(t),o=ee.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return o;const r=n.from,s=o.to;return e==="all"?Y.create(t,Fn(0,r,s),Fn(t.content.size,r,s)):Y.create(t,Fn(e,r,s),Fn(e,r,s))}function W1(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function _l(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const R5=(t=null,e={})=>({editor:n,view:o,tr:r,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{(_l()||W1())&&o.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(o.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(o.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!mf(n.state.selection))return a(),!0;const l=U1(r.doc,t)||n.state.selection,c=n.state.selection.eq(l);return s&&(c||r.setSelection(l),c&&r.storedMarks&&r.setStoredMarks(r.storedMarks),a()),!0},L5=(t,e)=>n=>t.every((o,r)=>e(o,{...n,index:r})),$5=(t,e)=>({tr:n,commands:o})=>o.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),K1=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const o=e[n];o.nodeType===3&&o.nodeValue&&/^(\n\s\s|\n)$/.test(o.nodeValue)?t.removeChild(o):o.nodeType===1&&K1(o)}return t};function Tl(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return K1(n)}function Bl(t,e,n){if(t instanceof yo||t instanceof I)return t;n={slice:!0,parseOptions:{},...n};const o=typeof t=="object"&&t!==null,r=typeof t=="string";if(o)try{if(Array.isArray(t)&&t.length>0)return I.fromArray(t.map(l=>e.nodeFromJSON(l)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),Bl("",e,n)}if(r){if(n.errorOnInvalidContent){let a=!1,l="";const c=new $g({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(a=!0,l=typeof d=="string"?d:d.outerHTML,null)}]}})});if(n.slice?us.fromSchema(c).parseSlice(Tl(t),n.parseOptions):us.fromSchema(c).parse(Tl(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=us.fromSchema(e);return n.slice?s.parseSlice(Tl(t),n.parseOptions).content:s.parse(Tl(t),n.parseOptions)}return Bl("",e,n)}function V5(t,e,n){const o=t.steps.length-1;if(o<e)return;const r=t.steps[o];if(!(r instanceof Je||r instanceof Ye))return;const s=t.mapping.maps[o];let a=0;s.forEach((l,c,d,u)=>{a===0&&(a=u)}),t.setSelection(ee.near(t.doc.resolve(a),n))}const z5=t=>!("type"in t),F5=(t,e,n)=>({tr:o,dispatch:r,editor:s})=>{var a;if(r){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;try{l=Bl(e,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(a=n.errorOnInvalidContent)!==null&&a!==void 0?a:s.options.enableContentCheck})}catch(m){return s.emit("contentError",{editor:s,error:m,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:c,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,f=!0;if((z5(l)?l:[l]).forEach(m=>{m.check(),u=u?m.isText&&m.marks.length===0:!1,f=f?m.isBlock:!1}),c===d&&f){const{parent:m}=o.doc.resolve(c);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(c-=1,d+=1)}let h;if(u){if(Array.isArray(e))h=e.map(m=>m.text||"").join("");else if(e instanceof I){let m="";e.forEach(g=>{g.text&&(m+=g.text)}),h=m}else typeof e=="object"&&e&&e.text?h=e.text:h=e;o.insertText(h,c,d)}else h=l,o.replaceWith(c,d,h);n.updateSelection&&V5(o,o.steps.length-1,-1),n.applyInputRules&&o.setMeta("applyInputRules",{from:c,text:h}),n.applyPasteRules&&o.setMeta("applyPasteRules",{from:c,text:h})}return!0},H5=()=>({state:t,dispatch:e})=>H8(t,e),j5=()=>({state:t,dispatch:e})=>j8(t,e),U5=()=>({state:t,dispatch:e})=>R8(t,e),W5=()=>({state:t,dispatch:e})=>z8(t,e),K5=()=>({state:t,dispatch:e,tr:n})=>{try{const o=il(t.doc,t.selection.$from.pos,-1);return o==null?!1:(n.join(o,2),e&&e(n),!0)}catch{return!1}},q5=()=>({state:t,dispatch:e,tr:n})=>{try{const o=il(t.doc,t.selection.$from.pos,1);return o==null?!1:(n.join(o,2),e&&e(n),!0)}catch{return!1}},G5=()=>({state:t,dispatch:e})=>L8(t,e),J5=()=>({state:t,dispatch:e})=>$8(t,e);function q1(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Y5(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let o,r,s,a;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))o=!0;else if(/^(c|ctrl|control)$/i.test(c))r=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))_l()||q1()?a=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return o&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const X5=t=>({editor:e,view:n,tr:o,dispatch:r})=>{const s=Y5(t).split(/-(?!$)/),a=s.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",d=>d(n,l))});return c==null||c.steps.forEach(d=>{const u=d.map(o.mapping);u&&r&&o.maybeStep(u)}),!0};function _s(t,e,n={}){const{from:o,to:r,empty:s}=t.selection,a=e?Xe(e,t.schema):null,l=[];t.doc.nodesBetween(o,r,(f,p)=>{if(f.isText)return;const h=Math.max(o,p),m=Math.min(r,p+f.nodeSize);l.push({node:f,from:h,to:m})});const c=r-o,d=l.filter(f=>a?a.name===f.node.type.name:!0).filter(f=>Al(f.node.attrs,n,{strict:!1}));return s?!!d.length:d.reduce((f,p)=>f+p.to-p.from,0)>=c}const Z5=(t,e={})=>({state:n,dispatch:o})=>{const r=Xe(t,n.schema);return _s(n,r,e)?U8(n,o):!1},Q5=()=>({state:t,dispatch:e})=>G8(t,e),eS=t=>({state:e,dispatch:n})=>{const o=Xe(t,e.schema);return n5(o)(e,n)},tS=()=>({state:t,dispatch:e})=>W8(t,e);function Ol(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function G1(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((o,r)=>(n.includes(r)||(o[r]=t[r]),o),{})}const nS=(t,e)=>({tr:n,state:o,dispatch:r})=>{let s=null,a=null;const l=Ol(typeof t=="string"?t:t.name,o.schema);return l?(l==="node"&&(s=Xe(t,o.schema)),l==="mark"&&(a=Oo(t,o.schema)),r&&n.selection.ranges.forEach(c=>{o.doc.nodesBetween(c.$from.pos,c.$to.pos,(d,u)=>{s&&s===d.type&&n.setNodeMarkup(u,void 0,G1(d.attrs,e)),a&&d.marks.length&&d.marks.forEach(f=>{a===f.type&&n.addMark(u,u+d.nodeSize,a.create(G1(f.attrs,e)))})})}),!0):!1},oS=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),rS=()=>({tr:t,dispatch:e})=>{if(e){const n=new kt(t.doc);t.setSelection(n)}return!0},iS=()=>({state:t,dispatch:e})=>V8(t,e),sS=()=>({state:t,dispatch:e})=>F8(t,e),aS=()=>({state:t,dispatch:e})=>J8(t,e),lS=()=>({state:t,dispatch:e})=>Z8(t,e),cS=()=>({state:t,dispatch:e})=>X8(t,e);function gf(t,e,n={},o={}){return Bl(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:o.errorOnInvalidContent})}const dS=(t,e=!1,n={},o={})=>({editor:r,tr:s,dispatch:a,commands:l})=>{var c,d;const{doc:u}=s;if(n.preserveWhitespace!=="full"){const f=gf(t,r.schema,n,{errorOnInvalidContent:(c=o.errorOnInvalidContent)!==null&&c!==void 0?c:r.options.enableContentCheck});return a&&s.replaceWith(0,u.content.size,f).setMeta("preventUpdate",!e),!0}return a&&s.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:(d=o.errorOnInvalidContent)!==null&&d!==void 0?d:r.options.enableContentCheck})};function yf(t,e){const n=Oo(e,t.schema),{from:o,to:r,empty:s}=t.selection,a=[];s?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(o,r,c=>{a.push(...c.marks)});const l=a.find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function uS(t,e){const n=new Mu(t);return e.forEach(o=>{o.steps.forEach(r=>{n.step(r)})}),n}function fS(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function bf(t,e){const n=[];return t.descendants((o,r)=>{e(o)&&n.push({node:o,pos:r})}),n}function pS(t,e,n){const o=[];return t.nodesBetween(e.from,e.to,(r,s)=>{n(r)&&o.push({node:r,pos:s})}),o}function J1(t,e){for(let n=t.depth;n>0;n-=1){const o=t.node(n);if(e(o))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:o}}}function wf(t){return e=>J1(e.$from,t)}function Y1(t,e){const n={from:0,to:t.content.size};return F1(t,n,e)}function hS(t,e){const n=Xe(e,t.schema),{from:o,to:r}=t.selection,s=[];t.doc.nodesBetween(o,r,l=>{s.push(l)});const a=s.reverse().find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function X1(t,e){const n=Ol(typeof e=="string"?e:e.name,t.schema);return n==="node"?hS(t,e):n==="mark"?yf(t,e):{}}function mS(t,e=JSON.stringify){const n={};return t.filter(o=>{const r=e(o);return Object.prototype.hasOwnProperty.call(n,r)?!1:n[r]=!0})}function gS(t){const e=mS(t);return e.length===1?e:e.filter((n,o)=>!e.filter((s,a)=>a!==o).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function yS(t){const{mapping:e,steps:n}=t,o=[];return e.maps.forEach((r,s)=>{const a=[];if(r.ranges.length)r.forEach((l,c)=>{a.push({from:l,to:c})});else{const{from:l,to:c}=n[s];if(l===void 0||c===void 0)return;a.push({from:l,to:c})}a.forEach(({from:l,to:c})=>{const d=e.slice(s).map(l,-1),u=e.slice(s).map(c),f=e.invert().map(d,-1),p=e.invert().map(u);o.push({oldRange:{from:f,to:p},newRange:{from:d,to:u}})})}),gS(o)}function xf(t,e,n){const o=[];return t===e?n.resolve(t).marks().forEach(r=>{const s=n.resolve(t),a=Ml(s,r.type);a&&o.push({mark:r,...a})}):n.nodesBetween(t,e,(r,s)=>{!r||(r==null?void 0:r.nodeSize)===void 0||o.push(...r.marks.map(a=>({from:s,to:s+r.nodeSize,mark:a})))}),o}function Nl(t,e,n){return Object.fromEntries(Object.entries(n).filter(([o])=>{const r=t.find(s=>s.type===e&&s.name===o);return r?r.attribute.keepOnSplit:!1}))}function kf(t,e,n={}){const{empty:o,ranges:r}=t.selection,s=e?Oo(e,t.schema):null;if(o)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>s?s.name===f.type.name:!0).find(f=>Al(f.attrs,n,{strict:!1}));let a=0;const l=[];if(r.forEach(({$from:f,$to:p})=>{const h=f.pos,m=p.pos;t.doc.nodesBetween(h,m,(g,y)=>{if(!g.isText&&!g.marks.length)return;const b=Math.max(h,y),x=Math.min(m,y+g.nodeSize),k=x-b;a+=k,l.push(...g.marks.map(w=>({mark:w,from:b,to:x})))})}),a===0)return!1;const c=l.filter(f=>s?s.name===f.mark.type.name:!0).filter(f=>Al(f.mark.attrs,n,{strict:!1})).reduce((f,p)=>f+p.to-p.from,0),d=l.filter(f=>s?f.mark.type!==s&&f.mark.type.excludes(s):!0).reduce((f,p)=>f+p.to-p.from,0);return(c>0?c+d:c)>=a}function Pl(t,e,n={}){if(!e)return _s(t,null,n)||kf(t,null,n);const o=Ol(e,t.schema);return o==="node"?_s(t,e,n):o==="mark"?kf(t,e,n):!1}function Cf(t,e){const{nodeExtensions:n}=xl(e),o=n.find(a=>a.name===t);if(!o)return!1;const r={name:o.name,options:o.options,storage:o.storage},s=ce(K(o,"group",r));return typeof s!="string"?!1:s.split(" ").includes("list")}function Il(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var o;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((o=t.text)!==null&&o!==void 0?o:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let r=!0;return t.content.forEach(s=>{r!==!1&&(Il(s,{ignoreWhitespace:n,checkChildren:e})||(r=!1))}),r}return!1}function Z1(t){return t instanceof X}function Q1(t,e,n){const r=t.state.doc.content.size,s=Fn(e,0,r),a=Fn(n,0,r),l=t.coordsAtPos(s),c=t.coordsAtPos(a,-1),d=Math.min(l.top,c.top),u=Math.max(l.bottom,c.bottom),f=Math.min(l.left,c.left),p=Math.max(l.right,c.right),h=p-f,m=u-d,b={top:d,bottom:u,left:f,right:p,width:h,height:m,x:f,y:d};return{...b,toJSON:()=>b}}function bS(t,e,n){var o;const{selection:r}=e;let s=null;if(mf(r)&&(s=r.$cursor),s){const l=(o=t.storedMarks)!==null&&o!==void 0?o:s.marks();return!!n.isInSet(l)||!l.some(c=>c.type.excludes(n))}const{ranges:a}=r;return a.some(({$from:l,$to:c})=>{let d=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,c.pos,(u,f,p)=>{if(d)return!1;if(u.isInline){const h=!p||p.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));d=h&&m}return!d}),d})}const wS=(t,e={})=>({tr:n,state:o,dispatch:r})=>{const{selection:s}=n,{empty:a,ranges:l}=s,c=Oo(t,o.schema);if(r)if(a){const d=yf(o,c);n.addStoredMark(c.create({...d,...e}))}else l.forEach(d=>{const u=d.$from.pos,f=d.$to.pos;o.doc.nodesBetween(u,f,(p,h)=>{const m=Math.max(h,u),g=Math.min(h+p.nodeSize,f);p.marks.find(b=>b.type===c)?p.marks.forEach(b=>{c===b.type&&n.addMark(m,g,c.create({...b.attrs,...e}))}):n.addMark(m,g,c.create(e))})});return bS(o,n,c)},xS=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),kS=(t,e={})=>({state:n,dispatch:o,chain:r})=>{const s=Xe(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?r().command(({commands:l})=>D1(s,{...a,...e})(n)?!0:l.clearNodes()).command(({state:l})=>D1(s,{...a,...e})(l,o)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},CS=t=>({tr:e,dispatch:n})=>{if(n){const{doc:o}=e,r=Fn(t,0,o.content.size),s=X.create(o,r);e.setSelection(s)}return!0},SS=t=>({tr:e,dispatch:n})=>{if(n){const{doc:o}=e,{from:r,to:s}=typeof t=="number"?{from:t,to:t}:t,a=Y.atStart(o).from,l=Y.atEnd(o).to,c=Fn(r,a,l),d=Fn(s,a,l),u=Y.create(o,c,d);e.setSelection(u)}return!0},ES=t=>({state:e,dispatch:n})=>{const o=Xe(t,e.schema);return i5(o)(e,n)};function ey(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const o=n.filter(r=>e==null?void 0:e.includes(r.type.name));t.tr.ensureMarks(o)}}const vS=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:o,editor:r})=>{const{selection:s,doc:a}=e,{$from:l,$to:c}=s,d=r.extensionManager.attributes,u=Nl(d,l.node().type.name,l.node().attrs);if(s instanceof X&&s.node.isBlock)return!l.parentOffset||!ti(a,l.pos)?!1:(o&&(t&&ey(n,r.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const f=c.parentOffset===c.parent.content.size,p=l.depth===0?void 0:fS(l.node(-1).contentMatchAt(l.indexAfter(-1)));let h=f&&p?[{type:p,attrs:u}]:void 0,m=ti(e.doc,e.mapping.map(l.pos),1,h);if(!h&&!m&&ti(e.doc,e.mapping.map(l.pos),1,p?[{type:p}]:void 0)&&(m=!0,h=p?[{type:p,attrs:u}]:void 0),o){if(m&&(s instanceof Y&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,h),p&&!f&&!l.parentOffset&&l.parent.type!==p)){const g=e.mapping.map(l.before()),y=e.doc.resolve(g);l.node(-1).canReplaceWith(y.index(),y.index()+1,p)&&e.setNodeMarkup(e.mapping.map(l.before()),p)}t&&ey(n,r.extensionManager.splittableMarks),e.scrollIntoView()}return m},AS=(t,e={})=>({tr:n,state:o,dispatch:r,editor:s})=>{var a;const l=Xe(t,o.schema),{$from:c,$to:d}=o.selection,u=o.selection.node;if(u&&u.isBlock||c.depth<2||!c.sameParent(d))return!1;const f=c.node(-1);if(f.type!==l)return!1;const p=s.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(r){let b=I.empty;const x=c.index(-1)?1:c.index(-2)?2:3;for(let B=c.depth-x;B>=c.depth-3;B-=1)b=I.from(c.node(B).copy(b));const k=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,w={...Nl(p,c.node().type.name,c.node().attrs),...e},C=((a=l.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(w))||void 0;b=b.append(I.from(l.createAndFill(null,C)||void 0));const S=c.before(c.depth-(x-1));n.replace(S,c.after(-k),new H(b,4-x,0));let v=-1;n.doc.nodesBetween(S,n.doc.content.size,(B,_)=>{if(v>-1)return!1;B.isTextblock&&B.content.size===0&&(v=_+1)}),v>-1&&n.setSelection(Y.near(n.doc.resolve(v))),n.scrollIntoView()}return!0}const h=d.pos===c.end()?f.contentMatchAt(0).defaultType:null,m={...Nl(p,f.type.name,f.attrs),...e},g={...Nl(p,c.node().type.name,c.node().attrs),...e};n.delete(c.pos,d.pos);const y=h?[{type:l,attrs:m},{type:h,attrs:g}]:[{type:l,attrs:m}];if(!ti(n.doc,c.pos,2))return!1;if(r){const{selection:b,storedMarks:x}=o,{splittableMarks:k}=s.extensionManager,w=x||b.$to.parentOffset&&b.$from.marks();if(n.split(c.pos,2,y).scrollIntoView(),!w||!r)return!0;const C=w.filter(S=>k.includes(S.type.name));n.ensureMarks(C)}return!0},Sf=(t,e)=>{const n=wf(a=>a.type===e)(t.selection);if(!n)return!0;const o=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(o===void 0)return!0;const r=t.doc.nodeAt(o);return n.node.type===(r==null?void 0:r.type)&&ko(t.doc,n.pos)&&t.join(n.pos),!0},Ef=(t,e)=>{const n=wf(a=>a.type===e)(t.selection);if(!n)return!0;const o=t.doc.resolve(n.start).after(n.depth);if(o===void 0)return!0;const r=t.doc.nodeAt(o);return n.node.type===(r==null?void 0:r.type)&&ko(t.doc,o)&&t.join(o),!0};var MS=Object.freeze({__proto__:null,blur:C5,clearContent:S5,clearNodes:E5,command:v5,createParagraphNear:A5,cut:M5,deleteCurrentNode:_5,deleteNode:T5,deleteRange:B5,deleteSelection:O5,enter:N5,exitCode:P5,extendMarkRange:I5,first:D5,focus:R5,forEach:L5,insertContent:$5,insertContentAt:F5,joinBackward:U5,joinDown:j5,joinForward:W5,joinItemBackward:K5,joinItemForward:q5,joinTextblockBackward:G5,joinTextblockForward:J5,joinUp:H5,keyboardShortcut:X5,lift:Z5,liftEmptyBlock:Q5,liftListItem:eS,newlineInCode:tS,resetAttributes:nS,scrollIntoView:oS,selectAll:rS,selectNodeBackward:iS,selectNodeForward:sS,selectParentNode:aS,selectTextblockEnd:lS,selectTextblockStart:cS,setContent:dS,setMark:wS,setMeta:xS,setNode:kS,setNodeSelection:CS,setTextSelection:SS,sinkListItem:ES,splitBlock:vS,splitListItem:AS,toggleList:(t,e,n,o={})=>({editor:r,tr:s,state:a,dispatch:l,chain:c,commands:d,can:u})=>{const{extensions:f,splittableMarks:p}=r.extensionManager,h=Xe(t,a.schema),m=Xe(e,a.schema),{selection:g,storedMarks:y}=a,{$from:b,$to:x}=g,k=b.blockRange(x),w=y||g.$to.parentOffset&&g.$from.marks();if(!k)return!1;const C=wf(S=>Cf(S.type.name,f))(g);if(k.depth>=1&&C&&k.depth-C.depth<=1){if(C.node.type===h)return d.liftListItem(m);if(Cf(C.node.type.name,f)&&h.validContent(C.node.content)&&l)return c().command(()=>(s.setNodeMarkup(C.pos,h),!0)).command(()=>Sf(s,h)).command(()=>Ef(s,h)).run()}return!n||!w||!l?c().command(()=>u().wrapInList(h,o)?!0:d.clearNodes()).wrapInList(h,o).command(()=>Sf(s,h)).command(()=>Ef(s,h)).run():c().command(()=>{const S=u().wrapInList(h,o),v=w.filter(B=>p.includes(B.type.name));return s.ensureMarks(v),S?!0:d.clearNodes()}).wrapInList(h,o).command(()=>Sf(s,h)).command(()=>Ef(s,h)).run()},toggleMark:(t,e={},n={})=>({state:o,commands:r})=>{const{extendEmptyMarkRange:s=!1}=n,a=Oo(t,o.schema);return kf(o,a,e)?r.unsetMark(a,{extendEmptyMarkRange:s}):r.setMark(a,e)},toggleNode:(t,e,n={})=>({state:o,commands:r})=>{const s=Xe(t,o.schema),a=Xe(e,o.schema),l=_s(o,s,n);let c;return o.selection.$anchor.sameParent(o.selection.$head)&&(c=o.selection.$anchor.parent.attrs),l?r.setNode(a,c):r.setNode(s,{...c,...n})},toggleWrap:(t,e={})=>({state:n,commands:o})=>{const r=Xe(t,n.schema);return _s(n,r,e)?o.lift(r):o.wrapIn(r,e)},undoInputRule:()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let o=0;o<n.length;o+=1){const r=n[o];let s;if(r.spec.isInputRules&&(s=r.getState(t))){if(e){const a=t.tr,l=s.transform;for(let c=l.steps.length-1;c>=0;c-=1)a.step(l.steps[c].invert(l.docs[c]));if(s.text){const c=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,t.schema.text(s.text,c))}else a.delete(s.from,s.to)}return!0}}return!1},unsetAllMarks:()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:o,ranges:r}=n;return o||e&&r.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},unsetMark:(t,e={})=>({tr:n,state:o,dispatch:r})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:l}=n,c=Oo(t,o.schema),{$from:d,empty:u,ranges:f}=l;if(!r)return!0;if(u&&a){let{from:p,to:h}=l;const m=(s=d.marks().find(y=>y.type===c))===null||s===void 0?void 0:s.attrs,g=Ml(d,c,m);g&&(p=g.from,h=g.to),n.removeMark(p,h,c)}else f.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,c)});return n.removeStoredMark(c),!0},updateAttributes:(t,e={})=>({tr:n,state:o,dispatch:r})=>{let s=null,a=null;const l=Ol(typeof t=="string"?t:t.name,o.schema);return l?(l==="node"&&(s=Xe(t,o.schema)),l==="mark"&&(a=Oo(t,o.schema)),r&&n.selection.ranges.forEach(c=>{const d=c.$from.pos,u=c.$to.pos;let f,p,h,m;n.selection.empty?o.doc.nodesBetween(d,u,(g,y)=>{s&&s===g.type&&(h=Math.max(y,d),m=Math.min(y+g.nodeSize,u),f=y,p=g)}):o.doc.nodesBetween(d,u,(g,y)=>{y<d&&s&&s===g.type&&(h=Math.max(y,d),m=Math.min(y+g.nodeSize,u),f=y,p=g),y>=d&&y<=u&&(s&&s===g.type&&n.setNodeMarkup(y,void 0,{...g.attrs,...e}),a&&g.marks.length&&g.marks.forEach(b=>{if(a===b.type){const x=Math.max(y,d),k=Math.min(y+g.nodeSize,u);n.addMark(x,k,a.create({...b.attrs,...e}))}}))}),p&&(f!==void 0&&n.setNodeMarkup(f,void 0,{...p.attrs,...e}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&n.addMark(h,m,a.create({...g.attrs,...e}))}))}),!0):!1},wrapIn:(t,e={})=>({state:n,dispatch:o})=>{const r=Xe(t,n.schema);return Q8(r,e)(n,o)},wrapInList:(t,e={})=>({state:n,dispatch:o})=>{const r=Xe(t,n.schema);return e5(r,e)(n,o)}});const _S=fe.create({name:"commands",addCommands(){return{...MS}}}),TS=fe.create({name:"drop",addProseMirrorPlugins(){return[new ge({key:new ye("tiptapDrop"),props:{handleDrop:(t,e,n,o)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:o})}}})]}}),BS=fe.create({name:"editable",addProseMirrorPlugins(){return[new ge({key:new ye("editable"),props:{editable:()=>this.editor.options.editable}})]}}),OS=fe.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new ge({key:new ye("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const o=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(o),!1},blur:(e,n)=>{t.isFocused=!1;const o=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(o),!1}}}})]}}),NS=fe.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:l})=>{const{selection:c,doc:d}=l,{empty:u,$anchor:f}=c,{pos:p,parent:h}=f,m=f.parent.isTextblock&&p>0?l.doc.resolve(p-1):f,g=m.parent.type.spec.isolating,y=f.pos-f.parentOffset,b=g&&m.parent.childCount===1?y===f.pos:ee.atStart(d).from===p;return!u||!h.type.isTextblock||h.textContent.length||!b||b&&f.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),o={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...o},s={...o,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return _l()||q1()?s:r},addProseMirrorPlugins(){return[new ge({key:new ye("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(g=>g.getMeta("composition")))return;const o=t.some(g=>g.docChanged)&&!e.doc.eq(n.doc),r=t.some(g=>g.getMeta("preventClearDocument"));if(!o||r)return;const{empty:s,from:a,to:l}=e.selection,c=ee.atStart(e.doc).from,d=ee.atEnd(e.doc).to;if(s||!(a===c&&l===d)||!Il(n.doc))return;const p=n.tr,h=bl({state:n,transaction:p}),{commands:m}=new wl({editor:this.editor,state:h});if(m.clearNodes(),!!p.steps.length)return p}})]}}),PS=fe.create({name:"paste",addProseMirrorPlugins(){return[new ge({key:new ye("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),IS=fe.create({name:"tabindex",addProseMirrorPlugins(){return[new ge({key:new ye("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class xr{get name(){return this.node.type.name}constructor(e,n,o=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=o,this.resolvedPos=e,this.editor=n,this.currentNode=r}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,o=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,o=this.to-1}this.editor.commands.insertContentAt({from:n,to:o},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new xr(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new xr(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new xr(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,o)=>{const r=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,a=this.pos+o+(s?0:1),l=this.resolvedPos.doc.resolve(a);if(!r&&l.depth<=this.depth)return;const c=new xr(l,this.editor,r,r?n:null);r&&(c.actualDepth=this.depth+1),e.push(new xr(l,this.editor,r,r?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let o=null,r=this.parent;for(;r&&!o;){if(r.node.type.name===e)if(Object.keys(n).length>0){const s=r.node.attrs,a=Object.keys(n);for(let l=0;l<a.length;l+=1){const c=a[l];if(s[c]!==n[c])break}}else o=r;r=r.parent}return o}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},o=!1){let r=[];if(!this.children||this.children.length===0)return r;const s=Object.keys(n);return this.children.forEach(a=>{o&&r.length>0||(a.node.type.name===e&&s.every(c=>n[c]===a.node.attrs[c])&&r.push(a),!(o&&r.length>0)&&(r=r.concat(a.querySelectorAll(e,n,o))))}),r}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const DS=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function RS(t,e,n){const o=document.querySelector("style[data-tiptap-style]");if(o!==null)return o;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}let ty=class extends s5{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:o,moved:r})=>this.options.onDrop(n,o,r)),this.on("paste",({event:n,slice:o})=>this.options.onPaste(n,o)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=RS(DS,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const o=L1(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:o});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let o=n;if([].concat(e).forEach(s=>{const a=typeof s=="string"?`${s}$`:s.key;o=n.filter(l=>!l.key.startsWith(a))}),n.length===o.length)return;const r=this.state.reconfigure({plugins:o});return this.view.updateState(r),r}createExtensionManager(){var e,n;const r=[...this.options.enableCoreExtensions?[BS,k5.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),_S,OS,NS,IS,TS,PS].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new fi(r,this)}createCommandManager(){this.commandManager=new wl({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=gf(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(l=>l.name!=="collaboration"),this.createExtensionManager()}}),n=gf(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const o=U1(n,this.options.autofocus);this.view=new A8(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:ii.create({doc:n,selection:o||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(a)});return}const n=this.state.apply(e),o=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),o&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),s=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return X1(this.state,e)}isActive(e,n){const o=typeof e=="string"?e:null,r=typeof e=="string"?n:e;return Pl(this.state,o,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return ff(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:o={}}=e||{};return Y1(this.state.doc,{blockSeparator:n,textSerializers:{...hf(this.schema),...o}})}get isEmpty(){return Il(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var o;return((o=this.$doc)===null||o===void 0?void 0:o.querySelector(e,n))||null}$nodes(e,n){var o;return((o=this.$doc)===null||o===void 0?void 0:o.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new xr(n,this)}get $doc(){return this.$pos(0)}};function kr(t){return new kl({find:t.find,handler:({state:e,range:n,match:o})=>{const r=ce(t.getAttributes,void 0,o);if(r===!1||r===null)return null;const{tr:s}=e,a=o[o.length-1],l=o[0];if(a){const c=l.search(/\S/),d=n.from+l.indexOf(a),u=d+a.length;if(xf(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(g=>g===t.type&&g!==h.mark.type)).filter(h=>h.to>d).length)return null;u<n.to&&s.delete(u,n.to),d>n.from&&s.delete(n.from+c,d);const p=n.from+c+a.length;s.addMark(n.from+c,p,t.type.create(r||{})),s.removeStoredMark(t.type)}}})}function ny(t){return new kl({find:t.find,handler:({state:e,range:n,match:o})=>{const r=ce(t.getAttributes,void 0,o)||{},{tr:s}=e,a=n.from;let l=n.to;const c=t.type.create(r);if(o[1]){const d=o[0].lastIndexOf(o[1]);let u=a+d;u>l?u=l:l=u+o[1].length;const f=o[0][o[0].length-1];s.insertText(f,a+o[0].length-1),s.replaceWith(u,l,c)}else if(o[0]){const d=t.type.isInline?a:a-1;s.insert(d,t.type.create(r)).delete(s.mapping.map(a),s.mapping.map(l))}s.scrollIntoView()}})}function vf(t){return new kl({find:t.find,handler:({state:e,range:n,match:o})=>{const r=e.doc.resolve(n.from),s=ce(t.getAttributes,void 0,o)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function pi(t){return new kl({find:t.find,handler:({state:e,range:n,match:o,chain:r})=>{const s=ce(t.getAttributes,void 0,o)||{},a=e.tr.delete(n.from,n.to),c=a.doc.resolve(n.from).blockRange(),d=c&&Eu(c,t.type,s);if(!d)return null;if(a.wrap(c,d),t.keepMarks&&t.editor){const{selection:f,storedMarks:p}=e,{splittableMarks:h}=t.editor.extensionManager,m=p||f.$to.parentOffset&&f.$from.marks();if(m){const g=m.filter(y=>h.includes(y.type.name));a.ensureMarks(g)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(f,s).run()}const u=a.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&ko(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(o,u))&&a.join(n.from-1)}})}let Pe=class bg{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ce(K(this,"addOptions",{name:this.name}))),this.storage=ce(K(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new bg(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>El(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new bg(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ce(K(n,"addOptions",{name:n.name})),n.storage=ce(K(n,"addStorage",{name:n.name,options:n.options})),n}};class LS{constructor(e,n,o){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...o},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.innerDecorations=n.innerDecorations,this.view=n.view,this.HTMLAttributes=n.HTMLAttributes,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,o,r,s,a,l,c;const{view:d}=this.editor,u=e.target,f=u.nodeType===3?(n=u.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):u.closest("[data-drag-handle]");if(!this.dom||!((o=this.contentDOM)===null||o===void 0)&&o.contains(u)||!f)return;let p=0,h=0;if(this.dom!==f){const b=this.dom.getBoundingClientRect(),x=f.getBoundingClientRect(),k=(r=e.offsetX)!==null&&r!==void 0?r:(s=e.nativeEvent)===null||s===void 0?void 0:s.offsetX,w=(a=e.offsetY)!==null&&a!==void 0?a:(l=e.nativeEvent)===null||l===void 0?void 0:l.offsetY;p=x.x-b.x+k,h=x.y-b.y+w}(c=e.dataTransfer)===null||c===void 0||c.setDragImage(this.dom,p,h);const m=this.getPos();if(typeof m!="number")return;const g=X.create(d.state.doc,m),y=d.state.tr.setSelection(g);d.dispatch(y)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const o=e.target;if(!(this.dom.contains(o)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(o))))return!1;const s=e.type.startsWith("drag"),a=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(o.tagName)||o.isContentEditable)&&!a&&!s)return!0;const{isEditable:c}=this.editor,{isDragging:d}=this,u=!!this.node.type.spec.draggable,f=X.isSelectable(this.node),p=e.type==="copy",h=e.type==="paste",m=e.type==="cut",g=e.type==="mousedown";if(!u&&f&&s&&e.target===this.dom&&e.preventDefault(),u&&s&&!d&&e.target===this.dom)return e.preventDefault(),!1;if(u&&c&&!d&&g){const y=o.closest("[data-drag-handle]");y&&(this.dom===y||this.dom.contains(y))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(d||a||p||h||m||g&&f)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(_l()||W1())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(o=>o.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const o=this.getPos();return typeof o!="number"?!1:(n.setNodeMarkup(o,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}function No(t){return new m5({find:t.find,handler:({state:e,range:n,match:o,pasteEvent:r})=>{const s=ce(t.getAttributes,void 0,o,r);if(s===!1||s===null)return null;const{tr:a}=e,l=o[o.length-1],c=o[0];let d=n.to;if(l){const u=c.search(/\S/),f=n.from+c.indexOf(l),p=f+l.length;if(xf(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(y=>y===t.type&&y!==m.mark.type)).filter(m=>m.to>f).length)return null;p<n.to&&a.delete(p,n.to),f>n.from&&a.delete(n.from+u,f),d=n.from+u+l.length,a.addMark(n.from+u,d,t.type.create(s||{})),a.removeStoredMark(t.type)}}})}function $S(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}var Et="top",Ut="bottom",Wt="right",vt="left",Af="auto",Ts=[Et,Ut,Wt,vt],hi="start",Bs="end",VS="clippingParents",oy="viewport",Os="popper",zS="reference",ry=Ts.reduce(function(t,e){return t.concat([e+"-"+hi,e+"-"+Bs])},[]),iy=[].concat(Ts,[Af]).reduce(function(t,e){return t.concat([e,e+"-"+hi,e+"-"+Bs])},[]),FS="beforeRead",HS="read",jS="afterRead",US="beforeMain",WS="main",KS="afterMain",qS="beforeWrite",GS="write",JS="afterWrite",YS=[FS,HS,jS,US,WS,KS,qS,GS,JS];function mn(t){return t?(t.nodeName||"").toLowerCase():null}function Tt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Cr(t){var e=Tt(t).Element;return t instanceof e||t instanceof Element}function Kt(t){var e=Tt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Mf(t){if(typeof ShadowRoot>"u")return!1;var e=Tt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function XS(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var o=e.styles[n]||{},r=e.attributes[n]||{},s=e.elements[n];!Kt(s)||!mn(s)||(Object.assign(s.style,o),Object.keys(r).forEach(function(a){var l=r[a];l===!1?s.removeAttribute(a):s.setAttribute(a,l===!0?"":l)}))})}function ZS(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(o){var r=e.elements[o],s=e.attributes[o]||{},a=Object.keys(e.styles.hasOwnProperty(o)?e.styles[o]:n[o]),l=a.reduce(function(c,d){return c[d]="",c},{});!Kt(r)||!mn(r)||(Object.assign(r.style,l),Object.keys(s).forEach(function(c){r.removeAttribute(c)}))})}}const sy={name:"applyStyles",enabled:!0,phase:"write",fn:XS,effect:ZS,requires:["computeStyles"]};function gn(t){return t.split("-")[0]}var Sr=Math.max,Dl=Math.min,mi=Math.round;function _f(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ay(){return!/^((?!chrome|android).)*safari/i.test(_f())}function gi(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var o=t.getBoundingClientRect(),r=1,s=1;e&&Kt(t)&&(r=t.offsetWidth>0&&mi(o.width)/t.offsetWidth||1,s=t.offsetHeight>0&&mi(o.height)/t.offsetHeight||1);var a=Cr(t)?Tt(t):window,l=a.visualViewport,c=!ay()&&n,d=(o.left+(c&&l?l.offsetLeft:0))/r,u=(o.top+(c&&l?l.offsetTop:0))/s,f=o.width/r,p=o.height/s;return{width:f,height:p,top:u,right:d+f,bottom:u+p,left:d,x:d,y:u}}function Tf(t){var e=gi(t),n=t.offsetWidth,o=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:o}}function ly(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Mf(n)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Hn(t){return Tt(t).getComputedStyle(t)}function QS(t){return["table","td","th"].indexOf(mn(t))>=0}function Po(t){return((Cr(t)?t.ownerDocument:t.document)||window.document).documentElement}function Rl(t){return mn(t)==="html"?t:t.assignedSlot||t.parentNode||(Mf(t)?t.host:null)||Po(t)}function cy(t){return!Kt(t)||Hn(t).position==="fixed"?null:t.offsetParent}function eE(t){var e=/firefox/i.test(_f()),n=/Trident/i.test(_f());if(n&&Kt(t)){var o=Hn(t);if(o.position==="fixed")return null}var r=Rl(t);for(Mf(r)&&(r=r.host);Kt(r)&&["html","body"].indexOf(mn(r))<0;){var s=Hn(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Ns(t){for(var e=Tt(t),n=cy(t);n&&QS(n)&&Hn(n).position==="static";)n=cy(n);return n&&(mn(n)==="html"||mn(n)==="body"&&Hn(n).position==="static")?e:n||eE(t)||e}function Bf(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ps(t,e,n){return Sr(t,Dl(e,n))}function tE(t,e,n){var o=Ps(t,e,n);return o>n?n:o}function dy(){return{top:0,right:0,bottom:0,left:0}}function uy(t){return Object.assign({},dy(),t)}function fy(t,e){return e.reduce(function(n,o){return n[o]=t,n},{})}var nE=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,uy(typeof e!="number"?e:fy(e,Ts))};function oE(t){var e,n=t.state,o=t.name,r=t.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,l=gn(n.placement),c=Bf(l),d=[vt,Wt].indexOf(l)>=0,u=d?"height":"width";if(!(!s||!a)){var f=nE(r.padding,n),p=Tf(s),h=c==="y"?Et:vt,m=c==="y"?Ut:Wt,g=n.rects.reference[u]+n.rects.reference[c]-a[c]-n.rects.popper[u],y=a[c]-n.rects.reference[c],b=Ns(s),x=b?c==="y"?b.clientHeight||0:b.clientWidth||0:0,k=g/2-y/2,w=f[h],C=x-p[u]-f[m],S=x/2-p[u]/2+k,v=Ps(w,S,C),B=c;n.modifiersData[o]=(e={},e[B]=v,e.centerOffset=v-S,e)}}function rE(t){var e=t.state,n=t.options,o=n.element,r=o===void 0?"[data-popper-arrow]":o;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||ly(e.elements.popper,r)&&(e.elements.arrow=r))}const iE={name:"arrow",enabled:!0,phase:"main",fn:oE,effect:rE,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function yi(t){return t.split("-")[1]}var sE={top:"auto",right:"auto",bottom:"auto",left:"auto"};function aE(t,e){var n=t.x,o=t.y,r=e.devicePixelRatio||1;return{x:mi(n*r)/r||0,y:mi(o*r)/r||0}}function py(t){var e,n=t.popper,o=t.popperRect,r=t.placement,s=t.variation,a=t.offsets,l=t.position,c=t.gpuAcceleration,d=t.adaptive,u=t.roundOffsets,f=t.isFixed,p=a.x,h=p===void 0?0:p,m=a.y,g=m===void 0?0:m,y=typeof u=="function"?u({x:h,y:g}):{x:h,y:g};h=y.x,g=y.y;var b=a.hasOwnProperty("x"),x=a.hasOwnProperty("y"),k=vt,w=Et,C=window;if(d){var S=Ns(n),v="clientHeight",B="clientWidth";if(S===Tt(n)&&(S=Po(n),Hn(S).position!=="static"&&l==="absolute"&&(v="scrollHeight",B="scrollWidth")),S=S,r===Et||(r===vt||r===Wt)&&s===Bs){w=Ut;var _=f&&S===C&&C.visualViewport?C.visualViewport.height:S[v];g-=_-o.height,g*=c?1:-1}if(r===vt||(r===Et||r===Ut)&&s===Bs){k=Wt;var E=f&&S===C&&C.visualViewport?C.visualViewport.width:S[B];h-=E-o.width,h*=c?1:-1}}var T=Object.assign({position:l},d&&sE),M=u===!0?aE({x:h,y:g},Tt(n)):{x:h,y:g};if(h=M.x,g=M.y,c){var $;return Object.assign({},T,($={},$[w]=x?"0":"",$[k]=b?"0":"",$.transform=(C.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",$))}return Object.assign({},T,(e={},e[w]=x?g+"px":"",e[k]=b?h+"px":"",e.transform="",e))}function lE(t){var e=t.state,n=t.options,o=n.gpuAcceleration,r=o===void 0?!0:o,s=n.adaptive,a=s===void 0?!0:s,l=n.roundOffsets,c=l===void 0?!0:l,d={placement:gn(e.placement),variation:yi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,py(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,py(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const cE={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:lE,data:{}};var Ll={passive:!0};function dE(t){var e=t.state,n=t.instance,o=t.options,r=o.scroll,s=r===void 0?!0:r,a=o.resize,l=a===void 0?!0:a,c=Tt(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&d.forEach(function(u){u.addEventListener("scroll",n.update,Ll)}),l&&c.addEventListener("resize",n.update,Ll),function(){s&&d.forEach(function(u){u.removeEventListener("scroll",n.update,Ll)}),l&&c.removeEventListener("resize",n.update,Ll)}}const uE={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dE,data:{}};var fE={left:"right",right:"left",bottom:"top",top:"bottom"};function $l(t){return t.replace(/left|right|bottom|top/g,function(e){return fE[e]})}var pE={start:"end",end:"start"};function hy(t){return t.replace(/start|end/g,function(e){return pE[e]})}function Of(t){var e=Tt(t),n=e.pageXOffset,o=e.pageYOffset;return{scrollLeft:n,scrollTop:o}}function Nf(t){return gi(Po(t)).left+Of(t).scrollLeft}function hE(t,e){var n=Tt(t),o=Po(t),r=n.visualViewport,s=o.clientWidth,a=o.clientHeight,l=0,c=0;if(r){s=r.width,a=r.height;var d=ay();(d||!d&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:s,height:a,x:l+Nf(t),y:c}}function mE(t){var e,n=Po(t),o=Of(t),r=(e=t.ownerDocument)==null?void 0:e.body,s=Sr(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Sr(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-o.scrollLeft+Nf(t),c=-o.scrollTop;return Hn(r||n).direction==="rtl"&&(l+=Sr(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:a,x:l,y:c}}function Pf(t){var e=Hn(t),n=e.overflow,o=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function my(t){return["html","body","#document"].indexOf(mn(t))>=0?t.ownerDocument.body:Kt(t)&&Pf(t)?t:my(Rl(t))}function Is(t,e){var n;e===void 0&&(e=[]);var o=my(t),r=o===((n=t.ownerDocument)==null?void 0:n.body),s=Tt(o),a=r?[s].concat(s.visualViewport||[],Pf(o)?o:[]):o,l=e.concat(a);return r?l:l.concat(Is(Rl(a)))}function If(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function gE(t,e){var n=gi(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function gy(t,e,n){return e===oy?If(hE(t,n)):Cr(e)?gE(e,n):If(mE(Po(t)))}function yE(t){var e=Is(Rl(t)),n=["absolute","fixed"].indexOf(Hn(t).position)>=0,o=n&&Kt(t)?Ns(t):t;return Cr(o)?e.filter(function(r){return Cr(r)&&ly(r,o)&&mn(r)!=="body"}):[]}function bE(t,e,n,o){var r=e==="clippingParents"?yE(t):[].concat(e),s=[].concat(r,[n]),a=s[0],l=s.reduce(function(c,d){var u=gy(t,d,o);return c.top=Sr(u.top,c.top),c.right=Dl(u.right,c.right),c.bottom=Dl(u.bottom,c.bottom),c.left=Sr(u.left,c.left),c},gy(t,a,o));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function yy(t){var e=t.reference,n=t.element,o=t.placement,r=o?gn(o):null,s=o?yi(o):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(r){case Et:c={x:a,y:e.y-n.height};break;case Ut:c={x:a,y:e.y+e.height};break;case Wt:c={x:e.x+e.width,y:l};break;case vt:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var d=r?Bf(r):null;if(d!=null){var u=d==="y"?"height":"width";switch(s){case hi:c[d]=c[d]-(e[u]/2-n[u]/2);break;case Bs:c[d]=c[d]+(e[u]/2-n[u]/2);break}}return c}function Ds(t,e){e===void 0&&(e={});var n=e,o=n.placement,r=o===void 0?t.placement:o,s=n.strategy,a=s===void 0?t.strategy:s,l=n.boundary,c=l===void 0?VS:l,d=n.rootBoundary,u=d===void 0?oy:d,f=n.elementContext,p=f===void 0?Os:f,h=n.altBoundary,m=h===void 0?!1:h,g=n.padding,y=g===void 0?0:g,b=uy(typeof y!="number"?y:fy(y,Ts)),x=p===Os?zS:Os,k=t.rects.popper,w=t.elements[m?x:p],C=bE(Cr(w)?w:w.contextElement||Po(t.elements.popper),c,u,a),S=gi(t.elements.reference),v=yy({reference:S,element:k,strategy:"absolute",placement:r}),B=If(Object.assign({},k,v)),_=p===Os?B:S,E={top:C.top-_.top+b.top,bottom:_.bottom-C.bottom+b.bottom,left:C.left-_.left+b.left,right:_.right-C.right+b.right},T=t.modifiersData.offset;if(p===Os&&T){var M=T[r];Object.keys(E).forEach(function($){var L=[Wt,Ut].indexOf($)>=0?1:-1,U=[Et,Ut].indexOf($)>=0?"y":"x";E[$]+=M[U]*L})}return E}function wE(t,e){e===void 0&&(e={});var n=e,o=n.placement,r=n.boundary,s=n.rootBoundary,a=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,d=c===void 0?iy:c,u=yi(o),f=u?l?ry:ry.filter(function(m){return yi(m)===u}):Ts,p=f.filter(function(m){return d.indexOf(m)>=0});p.length===0&&(p=f);var h=p.reduce(function(m,g){return m[g]=Ds(t,{placement:g,boundary:r,rootBoundary:s,padding:a})[gn(g)],m},{});return Object.keys(h).sort(function(m,g){return h[m]-h[g]})}function xE(t){if(gn(t)===Af)return[];var e=$l(t);return[hy(t),e,hy(e)]}function kE(t){var e=t.state,n=t.options,o=t.name;if(!e.modifiersData[o]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!0:a,c=n.fallbackPlacements,d=n.padding,u=n.boundary,f=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,m=h===void 0?!0:h,g=n.allowedAutoPlacements,y=e.options.placement,b=gn(y),x=b===y,k=c||(x||!m?[$l(y)]:xE(y)),w=[y].concat(k).reduce(function(ie,se){return ie.concat(gn(se)===Af?wE(e,{placement:se,boundary:u,rootBoundary:f,padding:d,flipVariations:m,allowedAutoPlacements:g}):se)},[]),C=e.rects.reference,S=e.rects.popper,v=new Map,B=!0,_=w[0],E=0;E<w.length;E++){var T=w[E],M=gn(T),$=yi(T)===hi,L=[Et,Ut].indexOf(M)>=0,U=L?"width":"height",O=Ds(e,{placement:T,boundary:u,rootBoundary:f,altBoundary:p,padding:d}),A=L?$?Wt:vt:$?Ut:Et;C[U]>S[U]&&(A=$l(A));var N=$l(A),D=[];if(s&&D.push(O[M]<=0),l&&D.push(O[A]<=0,O[N]<=0),D.every(function(ie){return ie})){_=T,B=!1;break}v.set(T,D)}if(B)for(var F=m?3:1,z=function(se){var be=w.find(function(me){var _e=v.get(me);if(_e)return _e.slice(0,se).every(function(Ge){return Ge})});if(be)return _=be,"break"},Q=F;Q>0;Q--){var ue=z(Q);if(ue==="break")break}e.placement!==_&&(e.modifiersData[o]._skip=!0,e.placement=_,e.reset=!0)}}const CE={name:"flip",enabled:!0,phase:"main",fn:kE,requiresIfExists:["offset"],data:{_skip:!1}};function by(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function wy(t){return[Et,Wt,Ut,vt].some(function(e){return t[e]>=0})}function SE(t){var e=t.state,n=t.name,o=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,a=Ds(e,{elementContext:"reference"}),l=Ds(e,{altBoundary:!0}),c=by(a,o),d=by(l,r,s),u=wy(c),f=wy(d);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const EE={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:SE};function vE(t,e,n){var o=gn(t),r=[vt,Et].indexOf(o)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=s[0],l=s[1];return a=a||0,l=(l||0)*r,[vt,Wt].indexOf(o)>=0?{x:l,y:a}:{x:a,y:l}}function AE(t){var e=t.state,n=t.options,o=t.name,r=n.offset,s=r===void 0?[0,0]:r,a=iy.reduce(function(u,f){return u[f]=vE(f,e.rects,s),u},{}),l=a[e.placement],c=l.x,d=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=d),e.modifiersData[o]=a}const ME={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:AE};function _E(t){var e=t.state,n=t.name;e.modifiersData[n]=yy({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const TE={name:"popperOffsets",enabled:!0,phase:"read",fn:_E,data:{}};function BE(t){return t==="x"?"y":"x"}function OE(t){var e=t.state,n=t.options,o=t.name,r=n.mainAxis,s=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!1:a,c=n.boundary,d=n.rootBoundary,u=n.altBoundary,f=n.padding,p=n.tether,h=p===void 0?!0:p,m=n.tetherOffset,g=m===void 0?0:m,y=Ds(e,{boundary:c,rootBoundary:d,padding:f,altBoundary:u}),b=gn(e.placement),x=yi(e.placement),k=!x,w=Bf(b),C=BE(w),S=e.modifiersData.popperOffsets,v=e.rects.reference,B=e.rects.popper,_=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,E=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),T=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(S){if(s){var $,L=w==="y"?Et:vt,U=w==="y"?Ut:Wt,O=w==="y"?"height":"width",A=S[w],N=A+y[L],D=A-y[U],F=h?-B[O]/2:0,z=x===hi?v[O]:B[O],Q=x===hi?-B[O]:-v[O],ue=e.elements.arrow,ie=h&&ue?Tf(ue):{width:0,height:0},se=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:dy(),be=se[L],me=se[U],_e=Ps(0,v[O],ie[O]),Ge=k?v[O]/2-F-_e-be-E.mainAxis:z-_e-be-E.mainAxis,ve=k?-v[O]/2+F+_e+me+E.mainAxis:Q+_e+me+E.mainAxis,wt=e.elements.arrow&&Ns(e.elements.arrow),Zt=wt?w==="y"?wt.clientTop||0:wt.clientLeft||0:0,dn=($=T==null?void 0:T[w])!=null?$:0,mo=A+Ge-dn-Zt,Jr=A+ve-dn,ht=Ps(h?Dl(N,mo):N,A,h?Sr(D,Jr):D);S[w]=ht,M[w]=ht-A}if(l){var Yr,ar=w==="x"?Et:vt,te=w==="x"?Ut:Wt,Qt=S[C],De=C==="y"?"height":"width",Se=Qt+y[ar],en=Qt-y[te],zt=[Et,vt].indexOf(b)!==-1,lr=(Yr=T==null?void 0:T[C])!=null?Yr:0,cr=zt?Se:Qt-v[De]-B[De]-lr+E.altAxis,j=zt?Qt+v[De]+B[De]-lr-E.altAxis:en,q=h&&zt?tE(cr,Qt,j):Ps(h?cr:Se,Qt,h?j:en);S[C]=q,M[C]=q-Qt}e.modifiersData[o]=M}}const NE={name:"preventOverflow",enabled:!0,phase:"main",fn:OE,requiresIfExists:["offset"]};function PE(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function IE(t){return t===Tt(t)||!Kt(t)?Of(t):PE(t)}function DE(t){var e=t.getBoundingClientRect(),n=mi(e.width)/t.offsetWidth||1,o=mi(e.height)/t.offsetHeight||1;return n!==1||o!==1}function RE(t,e,n){n===void 0&&(n=!1);var o=Kt(e),r=Kt(e)&&DE(e),s=Po(e),a=gi(t,r,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!n)&&((mn(e)!=="body"||Pf(s))&&(l=IE(e)),Kt(e)?(c=gi(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=Nf(s))),{x:a.left+l.scrollLeft-c.x,y:a.top+l.scrollTop-c.y,width:a.width,height:a.height}}function LE(t){var e=new Map,n=new Set,o=[];t.forEach(function(s){e.set(s.name,s)});function r(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&r(c)}}),o.push(s)}return t.forEach(function(s){n.has(s.name)||r(s)}),o}function $E(t){var e=LE(t);return YS.reduce(function(n,o){return n.concat(e.filter(function(r){return r.phase===o}))},[])}function VE(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function zE(t){var e=t.reduce(function(n,o){var r=n[o.name];return n[o.name]=r?Object.assign({},r,o,{options:Object.assign({},r.options,o.options),data:Object.assign({},r.data,o.data)}):o,n},{});return Object.keys(e).map(function(n){return e[n]})}var xy={placement:"bottom",modifiers:[],strategy:"absolute"};function ky(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function FE(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,o=n===void 0?[]:n,r=e.defaultOptions,s=r===void 0?xy:r;return function(l,c,d){d===void 0&&(d=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},xy,s),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},f=[],p=!1,h={state:u,setOptions:function(b){var x=typeof b=="function"?b(u.options):b;g(),u.options=Object.assign({},s,u.options,x),u.scrollParents={reference:Cr(l)?Is(l):l.contextElement?Is(l.contextElement):[],popper:Is(c)};var k=$E(zE([].concat(o,u.options.modifiers)));return u.orderedModifiers=k.filter(function(w){return w.enabled}),m(),h.update()},forceUpdate:function(){if(!p){var b=u.elements,x=b.reference,k=b.popper;if(ky(x,k)){u.rects={reference:RE(x,Ns(k),u.options.strategy==="fixed"),popper:Tf(k)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(E){return u.modifiersData[E.name]=Object.assign({},E.data)});for(var w=0;w<u.orderedModifiers.length;w++){if(u.reset===!0){u.reset=!1,w=-1;continue}var C=u.orderedModifiers[w],S=C.fn,v=C.options,B=v===void 0?{}:v,_=C.name;typeof S=="function"&&(u=S({state:u,options:B,name:_,instance:h})||u)}}}},update:VE(function(){return new Promise(function(y){h.forceUpdate(),y(u)})}),destroy:function(){g(),p=!0}};if(!ky(l,c))return h;h.setOptions(d).then(function(y){!p&&d.onFirstUpdate&&d.onFirstUpdate(y)});function m(){u.orderedModifiers.forEach(function(y){var b=y.name,x=y.options,k=x===void 0?{}:x,w=y.effect;if(typeof w=="function"){var C=w({state:u,name:b,instance:h,options:k}),S=function(){};f.push(C||S)}})}function g(){f.forEach(function(y){return y()}),f=[]}return h}}var HE=[uE,TE,cE,sy,ME,CE,NE,iE,EE],jE=FE({defaultModifiers:HE}),UE="tippy-box",Cy="tippy-content",WE="tippy-backdrop",Sy="tippy-arrow",Ey="tippy-svg-arrow",Er={passive:!0,capture:!0},vy=function(){return document.body};function KE(t,e){return{}.hasOwnProperty.call(t,e)}function Df(t,e,n){if(Array.isArray(t)){var o=t[e];return o??(Array.isArray(n)?n[e]:n)}return t}function Rf(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function Ay(t,e){return typeof t=="function"?t.apply(void 0,e):t}function My(t,e){if(e===0)return t;var n;return function(o){clearTimeout(n),n=setTimeout(function(){t(o)},e)}}function qE(t,e){var n=Object.assign({},t);return e.forEach(function(o){delete n[o]}),n}function GE(t){return t.split(/\s+/).filter(Boolean)}function bi(t){return[].concat(t)}function _y(t,e){t.indexOf(e)===-1&&t.push(e)}function JE(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function YE(t){return t.split("-")[0]}function Vl(t){return[].slice.call(t)}function Ty(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Rs(){return document.createElement("div")}function Ls(t){return["Element","Fragment"].some(function(e){return Rf(t,e)})}function XE(t){return Rf(t,"NodeList")}function ZE(t){return Rf(t,"MouseEvent")}function QE(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function ev(t){return Ls(t)?[t]:XE(t)?Vl(t):Array.isArray(t)?t:Vl(document.querySelectorAll(t))}function Lf(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function By(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function tv(t){var e,n=bi(t),o=n[0];return o!=null&&(e=o.ownerDocument)!=null&&e.body?o.ownerDocument:document}function nv(t,e){var n=e.clientX,o=e.clientY;return t.every(function(r){var s=r.popperRect,a=r.popperState,l=r.props,c=l.interactiveBorder,d=YE(a.placement),u=a.modifiersData.offset;if(!u)return!0;var f=d==="bottom"?u.top.y:0,p=d==="top"?u.bottom.y:0,h=d==="right"?u.left.x:0,m=d==="left"?u.right.x:0,g=s.top-o+f>c,y=o-s.bottom-p>c,b=s.left-n+h>c,x=n-s.right-m>c;return g||y||b||x})}function $f(t,e,n){var o=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){t[o](r,n)})}function Oy(t,e){for(var n=e;n;){var o;if(t.contains(n))return!0;n=n.getRootNode==null||(o=n.getRootNode())==null?void 0:o.host}return!1}var yn={isTouch:!1},Ny=0;function ov(){yn.isTouch||(yn.isTouch=!0,window.performance&&document.addEventListener("mousemove",Py))}function Py(){var t=performance.now();t-Ny<20&&(yn.isTouch=!1,document.removeEventListener("mousemove",Py)),Ny=t}function rv(){var t=document.activeElement;if(QE(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function iv(){document.addEventListener("touchstart",ov,Er),window.addEventListener("blur",rv)}var sv=typeof window<"u"&&typeof document<"u",av=sv?!!window.msCrypto:!1;function wi(t){var e=t==="destroy"?"n already-":" ";return[t+"() was called on a"+e+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function Iy(t){var e=/[ \t]{2,}/g,n=/^[ \t]*/gm;return t.replace(e," ").replace(n,"").trim()}function lv(t){return Iy(`
  %ctippy.js

  %c`+Iy(t)+`

  %c👷‍ This is a development-only message. It will be removed in production.
  `)}function Dy(t){return[lv(t),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var $s;process.env.NODE_ENV!=="production"&&cv();function cv(){$s=new Set}function jn(t,e){if(t&&!$s.has(e)){var n;$s.add(e),(n=console).warn.apply(n,Dy(e))}}function Vf(t,e){if(t&&!$s.has(e)){var n;$s.add(e),(n=console).error.apply(n,Dy(e))}}function dv(t){var e=!t,n=Object.prototype.toString.call(t)==="[object Object]"&&!t.addEventListener;Vf(e,["tippy() was passed","`"+String(t)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),Vf(n,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var Ry={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},uv={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Bt=Object.assign({appendTo:vy,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ry,uv),fv=Object.keys(Bt),pv=function(e){process.env.NODE_ENV!=="production"&&Vy(e,[]);var n=Object.keys(e);n.forEach(function(o){Bt[o]=e[o]})};function Ly(t){var e=t.plugins||[],n=e.reduce(function(o,r){var s=r.name,a=r.defaultValue;if(s){var l;o[s]=t[s]!==void 0?t[s]:(l=Bt[s])!=null?l:a}return o},{});return Object.assign({},t,n)}function hv(t,e){var n=e?Object.keys(Ly(Object.assign({},Bt,{plugins:e}))):fv,o=n.reduce(function(r,s){var a=(t.getAttribute("data-tippy-"+s)||"").trim();if(!a)return r;if(s==="content")r[s]=a;else try{r[s]=JSON.parse(a)}catch{r[s]=a}return r},{});return o}function $y(t,e){var n=Object.assign({},e,{content:Ay(e.content,[t])},e.ignoreAttributes?{}:hv(t,e.plugins));return n.aria=Object.assign({},Bt.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}function Vy(t,e){t===void 0&&(t={}),e===void 0&&(e=[]);var n=Object.keys(t);n.forEach(function(o){var r=qE(Bt,Object.keys(Ry)),s=!KE(r,o);s&&(s=e.filter(function(a){return a.name===o}).length===0),jn(s,["`"+o+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var mv=function(){return"innerHTML"};function zf(t,e){t[mv()]=e}function zy(t){var e=Rs();return t===!0?e.className=Sy:(e.className=Ey,Ls(t)?e.appendChild(t):zf(e,t)),e}function Fy(t,e){Ls(e.content)?(zf(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?zf(t,e.content):t.textContent=e.content)}function Ff(t){var e=t.firstElementChild,n=Vl(e.children);return{box:e,content:n.find(function(o){return o.classList.contains(Cy)}),arrow:n.find(function(o){return o.classList.contains(Sy)||o.classList.contains(Ey)}),backdrop:n.find(function(o){return o.classList.contains(WE)})}}function Hy(t){var e=Rs(),n=Rs();n.className=UE,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var o=Rs();o.className=Cy,o.setAttribute("data-state","hidden"),Fy(o,t.props),e.appendChild(n),n.appendChild(o),r(t.props,t.props);function r(s,a){var l=Ff(e),c=l.box,d=l.content,u=l.arrow;a.theme?c.setAttribute("data-theme",a.theme):c.removeAttribute("data-theme"),typeof a.animation=="string"?c.setAttribute("data-animation",a.animation):c.removeAttribute("data-animation"),a.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?c.setAttribute("role",a.role):c.removeAttribute("role"),(s.content!==a.content||s.allowHTML!==a.allowHTML)&&Fy(d,t.props),a.arrow?u?s.arrow!==a.arrow&&(c.removeChild(u),c.appendChild(zy(a.arrow))):c.appendChild(zy(a.arrow)):u&&c.removeChild(u)}return{popper:e,onUpdate:r}}Hy.$$tippy=!0;var gv=1,zl=[],Hf=[];function yv(t,e){var n=$y(t,Object.assign({},Bt,Ly(Ty(e)))),o,r,s,a=!1,l=!1,c=!1,d=!1,u,f,p,h=[],m=My(mo,n.interactiveDebounce),g,y=gv++,b=null,x=JE(n.plugins),k={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},w={id:y,reference:t,popper:Rs(),popperInstance:b,props:n,state:k,plugins:x,clearDelayTimeouts:cr,setProps:j,setContent:q,show:le,hide:Ee,hideWithInteractivity:ot,enable:zt,disable:lr,unmount:un,destroy:fg};if(!n.render)return process.env.NODE_ENV!=="production"&&Vf(!0,"render() function has not been supplied."),w;var C=n.render(w),S=C.popper,v=C.onUpdate;S.setAttribute("data-tippy-root",""),S.id="tippy-"+w.id,w.popper=S,t._tippy=w,S._tippy=w;var B=x.map(function(P){return P.fn(w)}),_=t.hasAttribute("aria-expanded");return wt(),F(),A(),N("onCreate",[w]),n.showOnCreate&&Se(),S.addEventListener("mouseenter",function(){w.props.interactive&&w.state.isVisible&&w.clearDelayTimeouts()}),S.addEventListener("mouseleave",function(){w.props.interactive&&w.props.trigger.indexOf("mouseenter")>=0&&L().addEventListener("mousemove",m)}),w;function E(){var P=w.props.touch;return Array.isArray(P)?P:[P,0]}function T(){return E()[0]==="hold"}function M(){var P;return!!((P=w.props.render)!=null&&P.$$tippy)}function $(){return g||t}function L(){var P=$().parentNode;return P?tv(P):document}function U(){return Ff(S)}function O(P){return w.state.isMounted&&!w.state.isVisible||yn.isTouch||u&&u.type==="focus"?0:Df(w.props.delay,P?0:1,Bt.delay)}function A(P){P===void 0&&(P=!1),S.style.pointerEvents=w.props.interactive&&!P?"":"none",S.style.zIndex=""+w.props.zIndex}function N(P,J,oe){if(oe===void 0&&(oe=!0),B.forEach(function(ke){ke[P]&&ke[P].apply(ke,J)}),oe){var Ae;(Ae=w.props)[P].apply(Ae,J)}}function D(){var P=w.props.aria;if(P.content){var J="aria-"+P.content,oe=S.id,Ae=bi(w.props.triggerTarget||t);Ae.forEach(function(ke){var xt=ke.getAttribute(J);if(w.state.isVisible)ke.setAttribute(J,xt?xt+" "+oe:oe);else{var tn=xt&&xt.replace(oe,"").trim();tn?ke.setAttribute(J,tn):ke.removeAttribute(J)}})}}function F(){if(!(_||!w.props.aria.expanded)){var P=bi(w.props.triggerTarget||t);P.forEach(function(J){w.props.interactive?J.setAttribute("aria-expanded",w.state.isVisible&&J===$()?"true":"false"):J.removeAttribute("aria-expanded")})}}function z(){L().removeEventListener("mousemove",m),zl=zl.filter(function(P){return P!==m})}function Q(P){if(!(yn.isTouch&&(c||P.type==="mousedown"))){var J=P.composedPath&&P.composedPath()[0]||P.target;if(!(w.props.interactive&&Oy(S,J))){if(bi(w.props.triggerTarget||t).some(function(oe){return Oy(oe,J)})){if(yn.isTouch||w.state.isVisible&&w.props.trigger.indexOf("click")>=0)return}else N("onClickOutside",[w,P]);w.props.hideOnClick===!0&&(w.clearDelayTimeouts(),w.hide(),l=!0,setTimeout(function(){l=!1}),w.state.isMounted||be())}}}function ue(){c=!0}function ie(){c=!1}function se(){var P=L();P.addEventListener("mousedown",Q,!0),P.addEventListener("touchend",Q,Er),P.addEventListener("touchstart",ie,Er),P.addEventListener("touchmove",ue,Er)}function be(){var P=L();P.removeEventListener("mousedown",Q,!0),P.removeEventListener("touchend",Q,Er),P.removeEventListener("touchstart",ie,Er),P.removeEventListener("touchmove",ue,Er)}function me(P,J){Ge(P,function(){!w.state.isVisible&&S.parentNode&&S.parentNode.contains(S)&&J()})}function _e(P,J){Ge(P,J)}function Ge(P,J){var oe=U().box;function Ae(ke){ke.target===oe&&($f(oe,"remove",Ae),J())}if(P===0)return J();$f(oe,"remove",f),$f(oe,"add",Ae),f=Ae}function ve(P,J,oe){oe===void 0&&(oe=!1);var Ae=bi(w.props.triggerTarget||t);Ae.forEach(function(ke){ke.addEventListener(P,J,oe),h.push({node:ke,eventType:P,handler:J,options:oe})})}function wt(){T()&&(ve("touchstart",dn,{passive:!0}),ve("touchend",Jr,{passive:!0})),GE(w.props.trigger).forEach(function(P){if(P!=="manual")switch(ve(P,dn),P){case"mouseenter":ve("mouseleave",Jr);break;case"focus":ve(av?"focusout":"blur",ht);break;case"focusin":ve("focusout",ht);break}})}function Zt(){h.forEach(function(P){var J=P.node,oe=P.eventType,Ae=P.handler,ke=P.options;J.removeEventListener(oe,Ae,ke)}),h=[]}function dn(P){var J,oe=!1;if(!(!w.state.isEnabled||Yr(P)||l)){var Ae=((J=u)==null?void 0:J.type)==="focus";u=P,g=P.currentTarget,F(),!w.state.isVisible&&ZE(P)&&zl.forEach(function(ke){return ke(P)}),P.type==="click"&&(w.props.trigger.indexOf("mouseenter")<0||a)&&w.props.hideOnClick!==!1&&w.state.isVisible?oe=!0:Se(P),P.type==="click"&&(a=!oe),oe&&!Ae&&en(P)}}function mo(P){var J=P.target,oe=$().contains(J)||S.contains(J);if(!(P.type==="mousemove"&&oe)){var Ae=De().concat(S).map(function(ke){var xt,tn=ke._tippy,ss=(xt=tn.popperInstance)==null?void 0:xt.state;return ss?{popperRect:ke.getBoundingClientRect(),popperState:ss,props:n}:null}).filter(Boolean);nv(Ae,P)&&(z(),en(P))}}function Jr(P){var J=Yr(P)||w.props.trigger.indexOf("click")>=0&&a;if(!J){if(w.props.interactive){w.hideWithInteractivity(P);return}en(P)}}function ht(P){w.props.trigger.indexOf("focusin")<0&&P.target!==$()||w.props.interactive&&P.relatedTarget&&S.contains(P.relatedTarget)||en(P)}function Yr(P){return yn.isTouch?T()!==P.type.indexOf("touch")>=0:!1}function ar(){te();var P=w.props,J=P.popperOptions,oe=P.placement,Ae=P.offset,ke=P.getReferenceClientRect,xt=P.moveTransition,tn=M()?Ff(S).arrow:null,ss=ke?{getBoundingClientRect:ke,contextElement:ke.contextElement||$()}:t,Z4={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(fu){var as=fu.state;if(M()){var Fq=U(),hg=Fq.box;["placement","reference-hidden","escaped"].forEach(function(pu){pu==="placement"?hg.setAttribute("data-placement",as.placement):as.attributes.popper["data-popper-"+pu]?hg.setAttribute("data-"+pu,""):hg.removeAttribute("data-"+pu)}),as.attributes.popper={}}}},Xr=[{name:"offset",options:{offset:Ae}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!xt}},Z4];M()&&tn&&Xr.push({name:"arrow",options:{element:tn,padding:3}}),Xr.push.apply(Xr,(J==null?void 0:J.modifiers)||[]),w.popperInstance=jE(ss,S,Object.assign({},J,{placement:oe,onFirstUpdate:p,modifiers:Xr}))}function te(){w.popperInstance&&(w.popperInstance.destroy(),w.popperInstance=null)}function Qt(){var P=w.props.appendTo,J,oe=$();w.props.interactive&&P===vy||P==="parent"?J=oe.parentNode:J=Ay(P,[oe]),J.contains(S)||J.appendChild(S),w.state.isMounted=!0,ar(),process.env.NODE_ENV!=="production"&&jn(w.props.interactive&&P===Bt.appendTo&&oe.nextElementSibling!==S,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.",`

`,"Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.",`

`,"Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.",`

`,"See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}function De(){return Vl(S.querySelectorAll("[data-tippy-root]"))}function Se(P){w.clearDelayTimeouts(),P&&N("onTrigger",[w,P]),se();var J=O(!0),oe=E(),Ae=oe[0],ke=oe[1];yn.isTouch&&Ae==="hold"&&ke&&(J=ke),J?o=setTimeout(function(){w.show()},J):w.show()}function en(P){if(w.clearDelayTimeouts(),N("onUntrigger",[w,P]),!w.state.isVisible){be();return}if(!(w.props.trigger.indexOf("mouseenter")>=0&&w.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(P.type)>=0&&a)){var J=O(!1);J?r=setTimeout(function(){w.state.isVisible&&w.hide()},J):s=requestAnimationFrame(function(){w.hide()})}}function zt(){w.state.isEnabled=!0}function lr(){w.hide(),w.state.isEnabled=!1}function cr(){clearTimeout(o),clearTimeout(r),cancelAnimationFrame(s)}function j(P){if(process.env.NODE_ENV!=="production"&&jn(w.state.isDestroyed,wi("setProps")),!w.state.isDestroyed){N("onBeforeUpdate",[w,P]),Zt();var J=w.props,oe=$y(t,Object.assign({},J,Ty(P),{ignoreAttributes:!0}));w.props=oe,wt(),J.interactiveDebounce!==oe.interactiveDebounce&&(z(),m=My(mo,oe.interactiveDebounce)),J.triggerTarget&&!oe.triggerTarget?bi(J.triggerTarget).forEach(function(Ae){Ae.removeAttribute("aria-expanded")}):oe.triggerTarget&&t.removeAttribute("aria-expanded"),F(),A(),v&&v(J,oe),w.popperInstance&&(ar(),De().forEach(function(Ae){requestAnimationFrame(Ae._tippy.popperInstance.forceUpdate)})),N("onAfterUpdate",[w,P])}}function q(P){w.setProps({content:P})}function le(){process.env.NODE_ENV!=="production"&&jn(w.state.isDestroyed,wi("show"));var P=w.state.isVisible,J=w.state.isDestroyed,oe=!w.state.isEnabled,Ae=yn.isTouch&&!w.props.touch,ke=Df(w.props.duration,0,Bt.duration);if(!(P||J||oe||Ae)&&!$().hasAttribute("disabled")&&(N("onShow",[w],!1),w.props.onShow(w)!==!1)){if(w.state.isVisible=!0,M()&&(S.style.visibility="visible"),A(),se(),w.state.isMounted||(S.style.transition="none"),M()){var xt=U(),tn=xt.box,ss=xt.content;Lf([tn,ss],0)}p=function(){var Xr;if(!(!w.state.isVisible||d)){if(d=!0,S.offsetHeight,S.style.transition=w.props.moveTransition,M()&&w.props.animation){var pg=U(),fu=pg.box,as=pg.content;Lf([fu,as],ke),By([fu,as],"visible")}D(),F(),_y(Hf,w),(Xr=w.popperInstance)==null||Xr.forceUpdate(),N("onMount",[w]),w.props.animation&&M()&&_e(ke,function(){w.state.isShown=!0,N("onShown",[w])})}},Qt()}}function Ee(){process.env.NODE_ENV!=="production"&&jn(w.state.isDestroyed,wi("hide"));var P=!w.state.isVisible,J=w.state.isDestroyed,oe=!w.state.isEnabled,Ae=Df(w.props.duration,1,Bt.duration);if(!(P||J||oe)&&(N("onHide",[w],!1),w.props.onHide(w)!==!1)){if(w.state.isVisible=!1,w.state.isShown=!1,d=!1,a=!1,M()&&(S.style.visibility="hidden"),z(),be(),A(!0),M()){var ke=U(),xt=ke.box,tn=ke.content;w.props.animation&&(Lf([xt,tn],Ae),By([xt,tn],"hidden"))}D(),F(),w.props.animation?M()&&me(Ae,w.unmount):w.unmount()}}function ot(P){process.env.NODE_ENV!=="production"&&jn(w.state.isDestroyed,wi("hideWithInteractivity")),L().addEventListener("mousemove",m),_y(zl,m),m(P)}function un(){process.env.NODE_ENV!=="production"&&jn(w.state.isDestroyed,wi("unmount")),w.state.isVisible&&w.hide(),w.state.isMounted&&(te(),De().forEach(function(P){P._tippy.unmount()}),S.parentNode&&S.parentNode.removeChild(S),Hf=Hf.filter(function(P){return P!==w}),w.state.isMounted=!1,N("onHidden",[w]))}function fg(){process.env.NODE_ENV!=="production"&&jn(w.state.isDestroyed,wi("destroy")),!w.state.isDestroyed&&(w.clearDelayTimeouts(),w.unmount(),Zt(),delete t._tippy,w.state.isDestroyed=!0,N("onDestroy",[w]))}}function Io(t,e){e===void 0&&(e={});var n=Bt.plugins.concat(e.plugins||[]);process.env.NODE_ENV!=="production"&&(dv(t),Vy(e,n)),iv();var o=Object.assign({},e,{plugins:n}),r=ev(t);if(process.env.NODE_ENV!=="production"){var s=Ls(o.content),a=r.length>1;jn(s&&a,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.",`

`,"Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.",`

`,`1) content: element.innerHTML
`,"2) content: () => element.cloneNode(true)"].join(" "))}var l=r.reduce(function(c,d){var u=d&&yv(d,o);return u&&c.push(u),c},[]);return Ls(t)?l[0]:l}Io.defaultProps=Bt,Io.setDefaultProps=pv,Io.currentInput=yn,Object.assign({},sy,{effect:function(e){var n=e.state,o={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,o.popper),n.styles=o,n.elements.arrow&&Object.assign(n.elements.arrow.style,o.arrow)}});var jf={name:"sticky",defaultValue:!1,fn:function(e){var n=e.reference,o=e.popper;function r(){return e.popperInstance?e.popperInstance.state.elements.reference:n}function s(d){return e.props.sticky===!0||e.props.sticky===d}var a=null,l=null;function c(){var d=s("reference")?r().getBoundingClientRect():null,u=s("popper")?o.getBoundingClientRect():null;(d&&jy(a,d)||u&&jy(l,u))&&e.popperInstance&&e.popperInstance.update(),a=d,l=u,e.state.isMounted&&requestAnimationFrame(c)}return{onMount:function(){e.props.sticky&&c()}}}};function jy(t,e){return t&&e?t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom||t.left!==e.left:!0}Io.setDefaultProps({render:Hy});class bv{constructor({editor:e,element:n,view:o,tippyOptions:r={},updateDelay:s=250,shouldShow:a}){this.preventHide=!1,this.shouldShow=({view:l,state:c,from:d,to:u})=>{const{doc:f,selection:p}=c,{empty:h}=p,m=!f.textBetween(d,u).length&&mf(c.selection),g=this.element.contains(document.activeElement);return!(!(l.hasFocus()||g)||h||m||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:l})=>{var c;if(this.preventHide){this.preventHide=!1;return}l!=null&&l.relatedTarget&&(!((c=this.element.parentNode)===null||c===void 0)&&c.contains(l.relatedTarget))||(l==null?void 0:l.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=l=>{this.blurHandler({event:l})},this.handleDebouncedUpdate=(l,c)=>{const d=!(c!=null&&c.selection.eq(l.state.selection)),u=!(c!=null&&c.doc.eq(l.state.doc));!d&&!u||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(l,d,u,c)},this.updateDelay))},this.updateHandler=(l,c,d,u)=>{var f,p,h;const{state:m,composing:g}=l,{selection:y}=m;if(g||!c&&!d)return;this.createTooltip();const{ranges:x}=y,k=Math.min(...x.map(S=>S.$from.pos)),w=Math.max(...x.map(S=>S.$to.pos));if(!((f=this.shouldShow)===null||f===void 0?void 0:f.call(this,{editor:this.editor,element:this.element,view:l,state:m,oldState:u,from:k,to:w}))){this.hide();return}(p=this.tippy)===null||p===void 0||p.setProps({getReferenceClientRect:((h=this.tippyOptions)===null||h===void 0?void 0:h.getReferenceClientRect)||(()=>{if(Z1(m.selection)){let S=l.nodeDOM(k);if(S){const v=S.dataset.nodeViewWrapper?S:S.querySelector("[data-node-view-wrapper]");if(v&&(S=v.firstChild),S)return S.getBoundingClientRect()}}return Q1(l,k,w)})}),this.show()},this.editor=e,this.element=n,this.view=o,this.updateDelay=s,a&&(this.shouldShow=a),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=Io(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){const{state:o}=e,r=o.selection.from!==o.selection.to;if(this.updateDelay>0&&r){this.handleDebouncedUpdate(e,n);return}const s=!(n!=null&&n.selection.eq(e.state.selection)),a=!(n!=null&&n.doc.eq(e.state.doc));this.updateHandler(e,s,a,n)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Uy=t=>new ge({key:typeof t.pluginKey=="string"?new ye(t.pluginKey):t.pluginKey,view:e=>new bv({view:e,...t})});fe.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Uy({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});class wv{getTextContent(e){return Y1(e,{textSerializers:hf(this.editor.schema)})}constructor({editor:e,element:n,view:o,tippyOptions:r={},shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:a,state:l})=>{const{selection:c}=l,{$anchor:d,empty:u}=c,f=d.depth===1,p=d.parent.isTextblock&&!d.parent.type.spec.code&&!d.parent.textContent&&d.parent.childCount===0&&!this.getTextContent(d.parent);return!(!a.hasFocus()||!u||!f||!p||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var l;if(this.preventHide){this.preventHide=!1;return}a!=null&&a.relatedTarget&&(!((l=this.element.parentNode)===null||l===void 0)&&l.contains(a.relatedTarget))||(a==null?void 0:a.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=a=>{this.blurHandler({event:a})},this.editor=e,this.element=n,this.view=o,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=Io(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){var o,r,s;const{state:a}=e,{doc:l,selection:c}=a,{from:d,to:u}=c;if(n&&n.doc.eq(l)&&n.selection.eq(c))return;if(this.createTooltip(),!((o=this.shouldShow)===null||o===void 0?void 0:o.call(this,{editor:this.editor,view:e,state:a,oldState:n}))){this.hide();return}(r=this.tippy)===null||r===void 0||r.setProps({getReferenceClientRect:((s=this.tippyOptions)===null||s===void 0?void 0:s.getReferenceClientRect)||(()=>Q1(e,d,u))}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Wy=t=>new ge({key:typeof t.pluginKey=="string"?new ye(t.pluginKey):t.pluginKey,view:e=>new wv({view:e,...t})});fe.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Wy({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});const xi=i.defineComponent({name:"BubbleMenu",props:{pluginKey:{type:[String,Object],default:"bubbleMenu"},editor:{type:Object,required:!0},updateDelay:{type:Number,default:void 0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const n=i.ref(null);return i.onMounted(()=>{const{updateDelay:o,editor:r,pluginKey:s,shouldShow:a,tippyOptions:l}=t;r.registerPlugin(Uy({updateDelay:o,editor:r,element:n.value,pluginKey:s,shouldShow:a,tippyOptions:l}))}),i.onBeforeUnmount(()=>{const{pluginKey:o,editor:r}=t;r.unregisterPlugin(o)}),()=>{var o;return i.h("div",{ref:n},(o=e.default)===null||o===void 0?void 0:o.call(e))}}});function Ky(t){return i.customRef((e,n)=>({get(){return e(),t},set(o){t=o,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class qy extends ty{constructor(e={}){return super(e),this.contentComponent=null,this.appContext=null,this.reactiveState=Ky(this.view.state),this.reactiveExtensionStorage=Ky(this.extensionStorage),this.on("beforeTransaction",({nextState:n})=>{this.reactiveState.value=n,this.reactiveExtensionStorage.value=this.extensionStorage}),i.markRaw(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,n){const o=super.registerPlugin(e,n);return this.reactiveState&&(this.reactiveState.value=o),o}unregisterPlugin(e){const n=super.unregisterPlugin(e);return this.reactiveState&&n&&(this.reactiveState.value=n),n}}const xv=i.defineComponent({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=i.ref(),n=i.getCurrentInstance();return i.watchEffect(()=>{const o=t.editor;o&&o.options.element&&e.value&&i.nextTick(()=>{if(!e.value||!o.options.element.firstChild)return;const r=i.unref(e.value);e.value.append(...o.options.element.childNodes),o.contentComponent=n.ctx._,n&&(o.appContext={...n.appContext,provides:n.provides}),o.setOptions({element:r}),o.createNodeViews()})}),i.onBeforeUnmount(()=>{const o=t.editor;o&&(o.contentComponent=null,o.appContext=null)}),{rootEl:e}},render(){return i.h("div",{ref:t=>{this.rootEl=t}})}});i.defineComponent({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const n=i.ref(null);return i.onMounted(()=>{const{pluginKey:o,editor:r,tippyOptions:s,shouldShow:a}=t;r.registerPlugin(Wy({pluginKey:o,editor:r,element:n.value,tippyOptions:s,shouldShow:a}))}),i.onBeforeUnmount(()=>{const{pluginKey:o,editor:r}=t;r.unregisterPlugin(o)}),()=>{var o;return i.h("div",{ref:n},(o=e.default)===null||o===void 0?void 0:o.call(e))}}});const kv=i.defineComponent({name:"NodeViewContent",props:{as:{type:String,default:"div"}},render(){return i.h(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}}),Vs=i.defineComponent({name:"NodeViewWrapper",props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var t,e;return i.h(this.as,{class:this.decorationClasses,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))}}),Cv=(t={})=>{const e=i.shallowRef();return i.onMounted(()=>{e.value=new qy(t)}),i.onBeforeUnmount(()=>{var n,o,r;const s=(n=e.value)===null||n===void 0?void 0:n.options.element,a=s==null?void 0:s.cloneNode(!0);(o=s==null?void 0:s.parentNode)===null||o===void 0||o.replaceChild(a,s),(r=e.value)===null||r===void 0||r.destroy()}),e};class Gy{constructor(e,{props:n={},editor:o}){this.editor=o,this.component=i.markRaw(e),this.el=document.createElement("div"),this.props=i.reactive(n),this.renderedComponent=this.renderComponent()}get element(){return this.renderedComponent.el}get ref(){var e,n,o,r;return!((n=(e=this.renderedComponent.vNode)===null||e===void 0?void 0:e.component)===null||n===void 0)&&n.exposed?this.renderedComponent.vNode.component.exposed:(r=(o=this.renderedComponent.vNode)===null||o===void 0?void 0:o.component)===null||r===void 0?void 0:r.proxy}renderComponent(){let e=i.h(this.component,this.props);return this.editor.appContext&&(e.appContext=this.editor.appContext),typeof document<"u"&&this.el&&i.render(e,this.el),{vNode:e,destroy:()=>{this.el&&i.render(null,this.el),this.el=null,e=null},el:this.el?this.el.firstElementChild:null}}updateProps(e={}){Object.entries(e).forEach(([n,o])=>{this.props[n]=o}),this.renderComponent()}destroy(){this.renderedComponent.destroy()}}const zs={editor:{type:Object,required:!0},node:{type:Object,required:!0},decorations:{type:Object,required:!0},selected:{type:Boolean,required:!0},extension:{type:Object,required:!0},getPos:{type:Function,required:!0},updateAttributes:{type:Function,required:!0},deleteNode:{type:Function,required:!0},view:{type:Object,required:!0},innerDecorations:{type:Object,required:!0},HTMLAttributes:{type:Object,required:!0}};class Sv extends LS{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(r={})=>this.updateAttributes(r),deleteNode:()=>this.deleteNode()},n=this.onDragStart.bind(this);this.decorationClasses=i.ref(this.getDecorationClasses());const o=i.defineComponent({extends:{...this.component},props:Object.keys(e),template:this.component.template,setup:r=>{var s,a;return i.provide("onDragStart",n),i.provide("decorationClasses",this.decorationClasses),(a=(s=this.component).setup)===null||a===void 0?void 0:a.call(s,r,{expose:()=>{}})},__scopeId:this.component.__scopeId,__cssModules:this.component.__cssModules,__name:this.component.__name,__file:this.component.__file});this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new Gy(o,{editor:this.editor,props:e})}get dom(){if(!this.renderer.element||!this.renderer.element.hasAttribute("data-node-view-wrapper"))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.dom.querySelector("[data-node-view-content]")}handleSelectionUpdate(){const{from:e,to:n}=this.editor.state.selection,o=this.getPos();if(typeof o=="number")if(e<=o&&n>=o+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,n,o){const r=s=>{this.decorationClasses.value=this.getDecorationClasses(),this.renderer.updateProps(s)};if(typeof this.options.update=="function"){const s=this.node,a=this.decorations,l=this.innerDecorations;return this.node=e,this.decorations=n,this.innerDecorations=o,this.options.update({oldNode:s,oldDecorations:a,newNode:e,newDecorations:n,oldInnerDecorations:l,innerDecorations:o,updateProps:()=>r({node:e,decorations:n,innerDecorations:o})})}return e.type!==this.node.type?!1:(e===this.node&&this.decorations===n&&this.innerDecorations===o||(this.node=e,this.decorations=n,this.innerDecorations=o,r({node:e,decorations:n,innerDecorations:o})),!0)}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element&&this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element&&this.renderer.element.classList.remove("ProseMirror-selectednode")}getDecorationClasses(){return this.decorations.map(e=>e.type.attrs.class).flat().join(" ")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate)}}function Fs(t,e){return n=>{if(!n.editor.contentComponent)return{};const o=typeof t=="function"&&"__vccOpts"in t?t.__vccOpts:t;return new Sv(o,n,e)}}const Jy="zhHans",Yy=200,Ev=20,Xy=1e5,Zy=16,Fl=10,Hl=10,jl=2,vv="#262626",Av=["#000000","#262626","#595959","#8C8C8C","#BFBFBF","#D9D9D9","#E9E9E9","#F5F5F5","#FAFAFA","#FFFFFF","#F5222D","#FA541C","#FA8C16","#FADB14","#52C41A","#13C2C2","#1890FF","#2F54EB","#722ED1","#EB2F96","#FFE8E6","#FFECE0","#FFEFD1","#FCFCCA","#E4F7D2","#D3F5F0","#D4EEFC","#DEE8FC","#EFE1FA","#FAE1EB","#FFA39E","#FFBB96","#FFD591","#FFFB8F","#B7EB8F","#87E8DE","#91D5FF","#ADC6FF","#D3ADF7","#FFADD2","#FF4D4F","#FF7A45","#FFA940","#FFEC3D","#73D13D","#36CFC9","#40A9FF","#597EF7","#9254DE","#F759AB","#CF1322","#D4380D","#D46B08","#D4B106","#389E0D","#08979C","#096DD9","#1D39C4","#531DAB","#C41D7F","#820014","#871400","#873800","#614700","#135200","#00474F","#003A8C","#061178","#22075E","#780650"],Mv=["10px","11px","12px","14px","16px","18px","20px","22px","24px","26px","28px","36px","48px","72px"],ki="defaut";var Ul=(t=>(t[t["size-small"]=480]="size-small",t[t["size-medium"]=640]="size-medium",t["size-large"]="100%",t))(Ul||{});const Qy="1",_v={text:["AI","divider","text-bubble","divider","bold","italic","underline","strike","code","link","divider","color","highlight","textAlign"],video:["video-size-small","video-size-medium","video-size-large","divider","remove"]},Tv=["Arial","Arial Black","Georgia","Impact","Tahoma","Times New Roman","Verdana","Courier New","Lucida Console","Monaco","monospace"].reduce((t,e)=>(t[e]=e,t),{});var eb=typeof global=="object"&&global&&global.Object===Object&&global,Bv=typeof self=="object"&&self&&self.Object===Object&&self,bn=eb||Bv||Function("return this")(),wn=bn.Symbol,tb=Object.prototype,Ov=tb.hasOwnProperty,Nv=tb.toString,Hs=wn?wn.toStringTag:void 0;function Pv(t){var e=Ov.call(t,Hs),n=t[Hs];try{t[Hs]=void 0;var o=!0}catch{}var r=Nv.call(t);return o&&(e?t[Hs]=n:delete t[Hs]),r}var Iv=Object.prototype,Dv=Iv.toString;function Rv(t){return Dv.call(t)}var Lv="[object Null]",$v="[object Undefined]",nb=wn?wn.toStringTag:void 0;function vr(t){return t==null?t===void 0?$v:Lv:nb&&nb in Object(t)?Pv(t):Rv(t)}function Do(t){return t!=null&&typeof t=="object"}var Vv="[object Symbol]";function Wl(t){return typeof t=="symbol"||Do(t)&&vr(t)==Vv}function ob(t,e){for(var n=-1,o=t==null?0:t.length,r=Array(o);++n<o;)r[n]=e(t[n],n,t);return r}var xn=Array.isArray,zv=1/0,rb=wn?wn.prototype:void 0,ib=rb?rb.toString:void 0;function Kl(t){if(typeof t=="string")return t;if(xn(t))return ob(t,Kl)+"";if(Wl(t))return ib?ib.call(t):"";var e=t+"";return e=="0"&&1/t==-zv?"-0":e}var Fv=/\s/;function Hv(t){for(var e=t.length;e--&&Fv.test(t.charAt(e)););return e}var jv=/^\s+/;function Uv(t){return t&&t.slice(0,Hv(t)+1).replace(jv,"")}function Ro(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var sb=NaN,Wv=/^[-+]0x[0-9a-f]+$/i,Kv=/^0b[01]+$/i,qv=/^0o[0-7]+$/i,Gv=parseInt;function Uf(t){if(typeof t=="number")return t;if(Wl(t))return sb;if(Ro(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ro(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Uv(t);var n=Kv.test(t);return n||qv.test(t)?Gv(t.slice(2),n?2:8):Wv.test(t)?sb:+t}var ab=1/0,Jv=17976931348623157e292;function Yv(t){if(!t)return t===0?t:0;if(t=Uf(t),t===ab||t===-ab){var e=t<0?-1:1;return e*Jv}return t===t?t:0}function Xv(t){var e=Yv(t),n=e%1;return e===e?n?e-n:e:0}function Wf(t){return t}var Zv="[object AsyncFunction]",Qv="[object Function]",eA="[object GeneratorFunction]",tA="[object Proxy]";function lb(t){if(!Ro(t))return!1;var e=vr(t);return e==Qv||e==eA||e==Zv||e==tA}var Kf=bn["__core-js_shared__"],cb=function(){var t=/[^.]+$/.exec(Kf&&Kf.keys&&Kf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function nA(t){return!!cb&&cb in t}var oA=Function.prototype,rA=oA.toString;function Ar(t){if(t!=null){try{return rA.call(t)}catch{}try{return t+""}catch{}}return""}var iA=/[\\^$.*+?()[\]{}|]/g,sA=/^\[object .+?Constructor\]$/,aA=Function.prototype,lA=Object.prototype,cA=aA.toString,dA=lA.hasOwnProperty,uA=RegExp("^"+cA.call(dA).replace(iA,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fA(t){if(!Ro(t)||nA(t))return!1;var e=lb(t)?uA:sA;return e.test(Ar(t))}function pA(t,e){return t==null?void 0:t[e]}function Mr(t,e){var n=pA(t,e);return fA(n)?n:void 0}var qf=Mr(bn,"WeakMap");function hA(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var mA=800,gA=16,yA=Date.now;function bA(t){var e=0,n=0;return function(){var o=yA(),r=gA-(o-n);if(n=o,r>0){if(++e>=mA)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function wA(t){return function(){return t}}var db=function(){try{var t=Mr(Object,"defineProperty");return t({},"",{}),t}catch{}}(),xA=db?function(t,e){return db(t,"toString",{configurable:!0,enumerable:!1,value:wA(e),writable:!0})}:Wf,kA=bA(xA);function CA(t,e,n,o){for(var r=t.length,s=n+-1;++s<r;)if(e(t[s],s,t))return s;return-1}function SA(t){return t!==t}function EA(t,e,n){for(var o=n-1,r=t.length;++o<r;)if(t[o]===e)return o;return-1}function vA(t,e,n){return e===e?EA(t,e,n):CA(t,SA,n)}function AA(t,e){var n=t==null?0:t.length;return!!n&&vA(t,e,0)>-1}var MA=9007199254740991,_A=/^(?:0|[1-9]\d*)$/;function ub(t,e){var n=typeof t;return e=e??MA,!!e&&(n=="number"||n!="symbol"&&_A.test(t))&&t>-1&&t%1==0&&t<e}function fb(t,e){return t===e||t!==t&&e!==e}var pb=Math.max;function TA(t,e,n){return e=pb(e===void 0?t.length-1:e,0),function(){for(var o=arguments,r=-1,s=pb(o.length-e,0),a=Array(s);++r<s;)a[r]=o[e+r];r=-1;for(var l=Array(e+1);++r<e;)l[r]=o[r];return l[e]=n(a),hA(t,this,l)}}function BA(t,e){return kA(TA(t,e,Wf),t+"")}var OA=9007199254740991;function Gf(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=OA}function hb(t){return t!=null&&Gf(t.length)&&!lb(t)}var NA=Object.prototype;function PA(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||NA;return t===n}function IA(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}var DA="[object Arguments]";function mb(t){return Do(t)&&vr(t)==DA}var gb=Object.prototype,RA=gb.hasOwnProperty,LA=gb.propertyIsEnumerable,Jf=mb(function(){return arguments}())?mb:function(t){return Do(t)&&RA.call(t,"callee")&&!LA.call(t,"callee")};function $A(){return!1}var yb=typeof W=="object"&&W&&!W.nodeType&&W,bb=yb&&typeof module=="object"&&module&&!module.nodeType&&module,VA=bb&&bb.exports===yb,wb=VA?bn.Buffer:void 0,zA=wb?wb.isBuffer:void 0,Yf=zA||$A,FA="[object Arguments]",HA="[object Array]",jA="[object Boolean]",UA="[object Date]",WA="[object Error]",KA="[object Function]",qA="[object Map]",GA="[object Number]",JA="[object Object]",YA="[object RegExp]",XA="[object Set]",ZA="[object String]",QA="[object WeakMap]",e7="[object ArrayBuffer]",t7="[object DataView]",n7="[object Float32Array]",o7="[object Float64Array]",r7="[object Int8Array]",i7="[object Int16Array]",s7="[object Int32Array]",a7="[object Uint8Array]",l7="[object Uint8ClampedArray]",c7="[object Uint16Array]",d7="[object Uint32Array]",Re={};Re[n7]=Re[o7]=Re[r7]=Re[i7]=Re[s7]=Re[a7]=Re[l7]=Re[c7]=Re[d7]=!0,Re[FA]=Re[HA]=Re[e7]=Re[jA]=Re[t7]=Re[UA]=Re[WA]=Re[KA]=Re[qA]=Re[GA]=Re[JA]=Re[YA]=Re[XA]=Re[ZA]=Re[QA]=!1;function u7(t){return Do(t)&&Gf(t.length)&&!!Re[vr(t)]}function Xf(t){return function(e){return t(e)}}var xb=typeof W=="object"&&W&&!W.nodeType&&W,js=xb&&typeof module=="object"&&module&&!module.nodeType&&module,f7=js&&js.exports===xb,Zf=f7&&eb.process,ql=function(){try{var t=js&&js.require&&js.require("util").types;return t||Zf&&Zf.binding&&Zf.binding("util")}catch{}}(),kb=ql&&ql.isTypedArray,Cb=kb?Xf(kb):u7,p7=Object.prototype,h7=p7.hasOwnProperty;function m7(t,e){var n=xn(t),o=!n&&Jf(t),r=!n&&!o&&Yf(t),s=!n&&!o&&!r&&Cb(t),a=n||o||r||s,l=a?IA(t.length,String):[],c=l.length;for(var d in t)h7.call(t,d)&&!(a&&(d=="length"||r&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||ub(d,c)))&&l.push(d);return l}function g7(t,e){return function(n){return t(e(n))}}var y7=g7(Object.keys,Object),b7=Object.prototype,w7=b7.hasOwnProperty;function x7(t){if(!PA(t))return y7(t);var e=[];for(var n in Object(t))w7.call(t,n)&&n!="constructor"&&e.push(n);return e}function Sb(t){return hb(t)?m7(t):x7(t)}var k7=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,C7=/^\w*$/;function Qf(t,e){if(xn(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Wl(t)?!0:C7.test(t)||!k7.test(t)||e!=null&&t in Object(e)}var Us=Mr(Object,"create");function S7(){this.__data__=Us?Us(null):{},this.size=0}function E7(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var v7="__lodash_hash_undefined__",A7=Object.prototype,M7=A7.hasOwnProperty;function _7(t){var e=this.__data__;if(Us){var n=e[t];return n===v7?void 0:n}return M7.call(e,t)?e[t]:void 0}var T7=Object.prototype,B7=T7.hasOwnProperty;function O7(t){var e=this.__data__;return Us?e[t]!==void 0:B7.call(e,t)}var N7="__lodash_hash_undefined__";function P7(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Us&&e===void 0?N7:e,this}function _r(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}_r.prototype.clear=S7,_r.prototype.delete=E7,_r.prototype.get=_7,_r.prototype.has=O7,_r.prototype.set=P7;function I7(){this.__data__=[],this.size=0}function Gl(t,e){for(var n=t.length;n--;)if(fb(t[n][0],e))return n;return-1}var D7=Array.prototype,R7=D7.splice;function L7(t){var e=this.__data__,n=Gl(e,t);if(n<0)return!1;var o=e.length-1;return n==o?e.pop():R7.call(e,n,1),--this.size,!0}function $7(t){var e=this.__data__,n=Gl(e,t);return n<0?void 0:e[n][1]}function V7(t){return Gl(this.__data__,t)>-1}function z7(t,e){var n=this.__data__,o=Gl(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}function Un(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}Un.prototype.clear=I7,Un.prototype.delete=L7,Un.prototype.get=$7,Un.prototype.has=V7,Un.prototype.set=z7;var Ws=Mr(bn,"Map");function F7(){this.size=0,this.__data__={hash:new _r,map:new(Ws||Un),string:new _r}}function H7(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Jl(t,e){var n=t.__data__;return H7(e)?n[typeof e=="string"?"string":"hash"]:n.map}function j7(t){var e=Jl(this,t).delete(t);return this.size-=e?1:0,e}function U7(t){return Jl(this,t).get(t)}function W7(t){return Jl(this,t).has(t)}function K7(t,e){var n=Jl(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}function Wn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}Wn.prototype.clear=F7,Wn.prototype.delete=j7,Wn.prototype.get=U7,Wn.prototype.has=W7,Wn.prototype.set=K7;var q7="Expected a function";function ep(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(q7);var n=function(){var o=arguments,r=e?e.apply(this,o):o[0],s=n.cache;if(s.has(r))return s.get(r);var a=t.apply(this,o);return n.cache=s.set(r,a)||s,a};return n.cache=new(ep.Cache||Wn),n}ep.Cache=Wn;var G7=500;function J7(t){var e=ep(t,function(o){return n.size===G7&&n.clear(),o}),n=e.cache;return e}var Y7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,X7=/\\(\\)?/g,Z7=J7(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Y7,function(n,o,r,s){e.push(r?s.replace(X7,"$1"):o||n)}),e});function tp(t){return t==null?"":Kl(t)}function Eb(t,e){return xn(t)?t:Qf(t,e)?[t]:Z7(tp(t))}var Q7=1/0;function Yl(t){if(typeof t=="string"||Wl(t))return t;var e=t+"";return e=="0"&&1/t==-Q7?"-0":e}function vb(t,e){e=Eb(e,t);for(var n=0,o=e.length;t!=null&&n<o;)t=t[Yl(e[n++])];return n&&n==o?t:void 0}function eM(t,e,n){var o=t==null?void 0:vb(t,e);return o===void 0?n:o}function Ab(t,e){for(var n=-1,o=e.length,r=t.length;++n<o;)t[r+n]=e[n];return t}var Mb=wn?wn.isConcatSpreadable:void 0;function tM(t){return xn(t)||Jf(t)||!!(Mb&&t&&t[Mb])}function nM(t,e,n,o,r){var s=-1,a=t.length;for(n||(n=tM),r||(r=[]);++s<a;){var l=t[s];n(l)&&Ab(r,l)}return r}function oM(t,e,n){var o=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(r);++o<r;)s[o]=t[o+e];return s}function rM(t,e,n){var o=t.length;return n=n===void 0?o:n,!e&&n>=o?t:oM(t,e,n)}var iM="\\ud800-\\udfff",sM="\\u0300-\\u036f",aM="\\ufe20-\\ufe2f",lM="\\u20d0-\\u20ff",cM=sM+aM+lM,dM="\\ufe0e\\ufe0f",uM="\\u200d",fM=RegExp("["+uM+iM+cM+dM+"]");function np(t){return fM.test(t)}function pM(t){return t.split("")}var _b="\\ud800-\\udfff",hM="\\u0300-\\u036f",mM="\\ufe20-\\ufe2f",gM="\\u20d0-\\u20ff",yM=hM+mM+gM,bM="\\ufe0e\\ufe0f",wM="["+_b+"]",op="["+yM+"]",rp="\\ud83c[\\udffb-\\udfff]",xM="(?:"+op+"|"+rp+")",Tb="[^"+_b+"]",Bb="(?:\\ud83c[\\udde6-\\uddff]){2}",Ob="[\\ud800-\\udbff][\\udc00-\\udfff]",kM="\\u200d",Nb=xM+"?",Pb="["+bM+"]?",CM="(?:"+kM+"(?:"+[Tb,Bb,Ob].join("|")+")"+Pb+Nb+")*",SM=Pb+Nb+CM,EM="(?:"+[Tb+op+"?",op,Bb,Ob,wM].join("|")+")",vM=RegExp(rp+"(?="+rp+")|"+EM+SM,"g");function AM(t){return t.match(vM)||[]}function MM(t){return np(t)?AM(t):pM(t)}function _M(){this.__data__=new Un,this.size=0}function TM(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function BM(t){return this.__data__.get(t)}function OM(t){return this.__data__.has(t)}var NM=200;function PM(t,e){var n=this.__data__;if(n instanceof Un){var o=n.__data__;if(!Ws||o.length<NM-1)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new Wn(o)}return n.set(t,e),this.size=n.size,this}function Kn(t){var e=this.__data__=new Un(t);this.size=e.size}Kn.prototype.clear=_M,Kn.prototype.delete=TM,Kn.prototype.get=BM,Kn.prototype.has=OM,Kn.prototype.set=PM;function IM(t,e){for(var n=-1,o=t==null?0:t.length,r=0,s=[];++n<o;){var a=t[n];e(a,n,t)&&(s[r++]=a)}return s}function DM(){return[]}var RM=Object.prototype,LM=RM.propertyIsEnumerable,Ib=Object.getOwnPropertySymbols,$M=Ib?function(t){return t==null?[]:(t=Object(t),IM(Ib(t),function(e){return LM.call(t,e)}))}:DM;function VM(t,e,n){var o=e(t);return xn(t)?o:Ab(o,n(t))}function Db(t){return VM(t,Sb,$M)}var ip=Mr(bn,"DataView"),sp=Mr(bn,"Promise"),ap=Mr(bn,"Set"),Rb="[object Map]",zM="[object Object]",Lb="[object Promise]",$b="[object Set]",Vb="[object WeakMap]",zb="[object DataView]",FM=Ar(ip),HM=Ar(Ws),jM=Ar(sp),UM=Ar(ap),WM=Ar(qf),Lo=vr;(ip&&Lo(new ip(new ArrayBuffer(1)))!=zb||Ws&&Lo(new Ws)!=Rb||sp&&Lo(sp.resolve())!=Lb||ap&&Lo(new ap)!=$b||qf&&Lo(new qf)!=Vb)&&(Lo=function(t){var e=vr(t),n=e==zM?t.constructor:void 0,o=n?Ar(n):"";if(o)switch(o){case FM:return zb;case HM:return Rb;case jM:return Lb;case UM:return $b;case WM:return Vb}return e});var Fb=bn.Uint8Array,KM="__lodash_hash_undefined__";function qM(t){return this.__data__.set(t,KM),this}function GM(t){return this.__data__.has(t)}function Ks(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Wn;++e<n;)this.add(t[e])}Ks.prototype.add=Ks.prototype.push=qM,Ks.prototype.has=GM;function JM(t,e){for(var n=-1,o=t==null?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1}function Hb(t,e){return t.has(e)}var YM=1,XM=2;function jb(t,e,n,o,r,s){var a=n&YM,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var d=s.get(t),u=s.get(e);if(d&&u)return d==e&&u==t;var f=-1,p=!0,h=n&XM?new Ks:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var m=t[f],g=e[f];if(o)var y=a?o(g,m,f,e,t,s):o(m,g,f,t,e,s);if(y!==void 0){if(y)continue;p=!1;break}if(h){if(!JM(e,function(b,x){if(!Hb(h,x)&&(m===b||r(m,b,n,o,s)))return h.push(x)})){p=!1;break}}else if(!(m===g||r(m,g,n,o,s))){p=!1;break}}return s.delete(t),s.delete(e),p}function ZM(t){var e=-1,n=Array(t.size);return t.forEach(function(o,r){n[++e]=[r,o]}),n}function QM(t){var e=-1,n=Array(t.size);return t.forEach(function(o){n[++e]=o}),n}var e_=1,t_=2,n_="[object Boolean]",o_="[object Date]",r_="[object Error]",i_="[object Map]",s_="[object Number]",a_="[object RegExp]",l_="[object Set]",c_="[object String]",d_="[object Symbol]",u_="[object ArrayBuffer]",f_="[object DataView]",Ub=wn?wn.prototype:void 0,lp=Ub?Ub.valueOf:void 0;function p_(t,e,n,o,r,s,a){switch(n){case f_:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case u_:return!(t.byteLength!=e.byteLength||!s(new Fb(t),new Fb(e)));case n_:case o_:case s_:return fb(+t,+e);case r_:return t.name==e.name&&t.message==e.message;case a_:case c_:return t==e+"";case i_:var l=ZM;case l_:var c=o&e_;if(l||(l=QM),t.size!=e.size&&!c)return!1;var d=a.get(t);if(d)return d==e;o|=t_,a.set(t,e);var u=jb(l(t),l(e),o,r,s,a);return a.delete(t),u;case d_:if(lp)return lp.call(t)==lp.call(e)}return!1}var h_=1,m_=Object.prototype,g_=m_.hasOwnProperty;function y_(t,e,n,o,r,s){var a=n&h_,l=Db(t),c=l.length,d=Db(e),u=d.length;if(c!=u&&!a)return!1;for(var f=c;f--;){var p=l[f];if(!(a?p in e:g_.call(e,p)))return!1}var h=s.get(t),m=s.get(e);if(h&&m)return h==e&&m==t;var g=!0;s.set(t,e),s.set(e,t);for(var y=a;++f<c;){p=l[f];var b=t[p],x=e[p];if(o)var k=a?o(x,b,p,e,t,s):o(b,x,p,t,e,s);if(!(k===void 0?b===x||r(b,x,n,o,s):k)){g=!1;break}y||(y=p=="constructor")}if(g&&!y){var w=t.constructor,C=e.constructor;w!=C&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof C=="function"&&C instanceof C)&&(g=!1)}return s.delete(t),s.delete(e),g}var b_=1,Wb="[object Arguments]",Kb="[object Array]",Xl="[object Object]",w_=Object.prototype,qb=w_.hasOwnProperty;function x_(t,e,n,o,r,s){var a=xn(t),l=xn(e),c=a?Kb:Lo(t),d=l?Kb:Lo(e);c=c==Wb?Xl:c,d=d==Wb?Xl:d;var u=c==Xl,f=d==Xl,p=c==d;if(p&&Yf(t)){if(!Yf(e))return!1;a=!0,u=!1}if(p&&!u)return s||(s=new Kn),a||Cb(t)?jb(t,e,n,o,r,s):p_(t,e,c,n,o,r,s);if(!(n&b_)){var h=u&&qb.call(t,"__wrapped__"),m=f&&qb.call(e,"__wrapped__");if(h||m){var g=h?t.value():t,y=m?e.value():e;return s||(s=new Kn),r(g,y,n,o,s)}}return p?(s||(s=new Kn),y_(t,e,n,o,r,s)):!1}function Zl(t,e,n,o,r){return t===e?!0:t==null||e==null||!Do(t)&&!Do(e)?t!==t&&e!==e:x_(t,e,n,o,Zl,r)}var k_=1,C_=2;function S_(t,e,n,o){var r=n.length,s=r;if(t==null)return!s;for(t=Object(t);r--;){var a=n[r];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<s;){a=n[r];var l=a[0],c=t[l],d=a[1];if(a[2]){if(c===void 0&&!(l in t))return!1}else{var u=new Kn,f;if(!(f===void 0?Zl(d,c,k_|C_,o,u):f))return!1}}return!0}function Gb(t){return t===t&&!Ro(t)}function E_(t){for(var e=Sb(t),n=e.length;n--;){var o=e[n],r=t[o];e[n]=[o,r,Gb(r)]}return e}function Jb(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function v_(t){var e=E_(t);return e.length==1&&e[0][2]?Jb(e[0][0],e[0][1]):function(n){return n===t||S_(n,t,e)}}function A_(t,e){return t!=null&&e in Object(t)}function M_(t,e,n){e=Eb(e,t);for(var o=-1,r=e.length,s=!1;++o<r;){var a=Yl(e[o]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++o!=r?s:(r=t==null?0:t.length,!!r&&Gf(r)&&ub(a,r)&&(xn(t)||Jf(t)))}function __(t,e){return t!=null&&M_(t,e,A_)}var T_=1,B_=2;function O_(t,e){return Qf(t)&&Gb(e)?Jb(Yl(t),e):function(n){var o=eM(n,t);return o===void 0&&o===e?__(n,t):Zl(e,o,T_|B_)}}function Yb(t){return function(e){return e==null?void 0:e[t]}}function N_(t){return function(e){return vb(e,t)}}function P_(t){return Qf(t)?Yb(Yl(t)):N_(t)}function I_(t){return typeof t=="function"?t:t==null?Wf:typeof t=="object"?xn(t)?O_(t[0],t[1]):v_(t):P_(t)}var cp=function(){return bn.Date.now()},D_="Expected a function",R_=Math.max,L_=Math.min;function $_(t,e,n){var o,r,s,a,l,c,d=0,u=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(D_);e=Uf(e)||0,Ro(n)&&(u=!!n.leading,f="maxWait"in n,s=f?R_(Uf(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function h(S){var v=o,B=r;return o=r=void 0,d=S,a=t.apply(B,v),a}function m(S){return d=S,l=setTimeout(b,e),u?h(S):a}function g(S){var v=S-c,B=S-d,_=e-v;return f?L_(_,s-B):_}function y(S){var v=S-c,B=S-d;return c===void 0||v>=e||v<0||f&&B>=s}function b(){var S=cp();if(y(S))return x(S);l=setTimeout(b,g(S))}function x(S){return l=void 0,p&&o?h(S):(o=r=void 0,a)}function k(){l!==void 0&&clearTimeout(l),d=0,o=c=r=l=void 0}function w(){return l===void 0?a:x(cp())}function C(){var S=cp(),v=y(S);if(o=arguments,r=this,c=S,v){if(l===void 0)return m(c);if(f)return clearTimeout(l),l=setTimeout(b,e),h(c)}return l===void 0&&(l=setTimeout(b,e)),a}return C.cancel=k,C.flush=w,C}function dp(t){return Do(t)&&hb(t)}var V_=200;function z_(t,e,n,o){var r=-1,s=AA,a=!0,l=t.length,c=[],d=e.length;if(!l)return c;n&&(e=ob(e,Xf(n))),e.length>=V_&&(s=Hb,a=!1,e=new Ks(e));e:for(;++r<l;){var u=t[r],f=n==null?u:n(u);if(u=u!==0?u:0,a&&f===f){for(var p=d;p--;)if(e[p]===f)continue e;c.push(u)}else s(e,f,o)||c.push(u)}return c}function F_(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var H_=BA(function(t,e){var n=F_(e);return dp(n)&&(n=void 0),dp(t)?z_(t,nM(e,1,dp),I_(n)):[]});function j_(t,e){return Zl(t,e)}var U_="[object RegExp]";function W_(t){return Do(t)&&vr(t)==U_}var Xb=ql&&ql.isRegExp,K_=Xb?Xf(Xb):W_,q_=Yb("length"),Zb="\\ud800-\\udfff",G_="\\u0300-\\u036f",J_="\\ufe20-\\ufe2f",Y_="\\u20d0-\\u20ff",X_=G_+J_+Y_,Z_="\\ufe0e\\ufe0f",Q_="["+Zb+"]",up="["+X_+"]",fp="\\ud83c[\\udffb-\\udfff]",eT="(?:"+up+"|"+fp+")",Qb="[^"+Zb+"]",ew="(?:\\ud83c[\\udde6-\\uddff]){2}",tw="[\\ud800-\\udbff][\\udc00-\\udfff]",tT="\\u200d",nw=eT+"?",ow="["+Z_+"]?",nT="(?:"+tT+"(?:"+[Qb,ew,tw].join("|")+")"+ow+nw+")*",oT=ow+nw+nT,rT="(?:"+[Qb+up+"?",up,ew,tw,Q_].join("|")+")",rw=RegExp(fp+"(?="+fp+")|"+rT+oT,"g");function iT(t){for(var e=rw.lastIndex=0;rw.test(t);)++e;return e}function sT(t){return np(t)?iT(t):q_(t)}var aT="Expected a function";function Ql(t,e,n){var o=!0,r=!0;if(typeof t!="function")throw new TypeError(aT);return Ro(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),$_(t,e,{leading:o,maxWait:e,trailing:r})}var lT=30,cT="...",dT=/\w*$/;function uT(t,e){var n=lT,o=cT;if(Ro(e)){var r="separator"in e?e.separator:r;n="length"in e?Xv(e.length):n,o="omission"in e?Kl(e.omission):o}t=tp(t);var s=t.length;if(np(t)){var a=MM(t);s=a.length}if(n>=s)return t;var l=n-sT(o);if(l<1)return o;var c=a?rM(a,0,l).join(""):t.slice(0,l);if(r===void 0)return c+o;if(a&&(l+=c.length-l),K_(r)){if(t.slice(l).search(r)){var d,u=c;for(r.global||(r=RegExp(r.source,tp(dT.exec(r))+"g")),r.lastIndex=0;d=r.exec(u);)var f=d.index;c=c.slice(0,f===void 0?l:f)}}else if(t.indexOf(Kl(r),l)!=l){var p=c.lastIndexOf(r);p>-1&&(c=c.slice(0,p))}return c+o}const ec=(t,e="px")=>{if(!t)return t;const n=pp(t)?String(t):t,o=parseFloat(n),r=n.match(/[a-zA-Z%]+$/),s=r?r[0]:e;return isNaN(o)?t:o+s};function fT(t,e,n){return t<e?e:t>n?n:t}const pp=t=>typeof t=="number",pT=t=>typeof t=="function";function tc(t,e){const{extensions:n=[]}=t.extensionManager??{};return!!n.find(r=>r.name===e)}const iw={"editor.remove":"删除","editor.copy":"复制","editor.words":"单词","editor.characters":"字符","editor.default":"默认","editor.recent":"最近使用","editor.moremark":"更多文本样式","editor.nofill":"无填充色","editor.format":"格式刷","editor.close":"关闭","editor.modify":"修改","editor.preview.tooltip":"预览","editor.draghandle.tooltip":"可拖拽和点击","editor.copyToClipboard":"复制到剪切板","editor.importWord.tooltip":"导入Word","editor.importWord.success":"导入成功","editor.importWord.fileTooLarge":"文件大小超出限制","editor.importWord.error":"导入失败,文件不支持","editor.slash":"输入 '/' 唤起更多","editor.slash.empty":"暂无搜索结果","editor.slash.format":"格式","editor.slash.insert":"插入","editor.slash.embed":"嵌入第三方服务","editor.content":"请输入正文","editor.size.small.tooltip":"小尺寸","editor.size.medium.tooltip":"中等尺寸","editor.size.large.tooltip":"铺满","editor.bold.tooltip":"粗体","editor.italic.tooltip":"斜体","editor.underline.tooltip":"下划线","editor.strike.tooltip":"删除线","editor.color.tooltip":"文本颜色","editor.color.more":"更多颜色","editor.lineheight.tooltip":"行高","editor.highlight.tooltip":"文本高亮","editor.heading.tooltip":"正文与标题","editor.heading.h1.tooltip":"标题 1","editor.heading.h2.tooltip":"标题 2","editor.heading.h3.tooltip":"标题 3","editor.heading.h4.tooltip":"标题 4","editor.heading.h5.tooltip":"标题 5","editor.heading.h6.tooltip":"标题 6","editor.paragraph.tooltip":"正文","editor.textalign.tooltip":"对齐方式","editor.textalign.left.tooltip":"左对齐","editor.textalign.center.tooltip":"居中对齐","editor.textalign.right.tooltip":"右对齐","editor.textalign.justify.tooltip":"两端对齐","editor.fontFamily.tooltip":"字体","editor.fontFamily.default":"默认字体","editor.fontSize.tooltip":"字号调整","editor.fontSize.default.tooltip":"默认字号","editor.superscript.tooltip":"上标","editor.subscript.tooltip":"下标","editor.bulletlist.tooltip":"无序列表","editor.bulletlist.disc.tooltip":"默认","editor.bulletlist.circle.tooltip":"空心圆","editor.bulletlist.square.tooltip":"方形","editor.orderedlist.tooltip":"有序列表","editor.orderedlist.decimal.tooltip":"默认","editor.orderedlist.decimalLeadingZero.tooltip":"补零数字","editor.orderedlist.lowerRoman.tooltip":"小写罗马数字","editor.orderedlist.upperRoman.tooltip":"大写罗马数字","editor.orderedlist.lowerLatin.tooltip":"小写英文编号","editor.orderedlist.upperLatin.tooltip":"大写英文编号","editor.orderedlist.tradChineseInformal.tooltip":"中文编号","editor.orderedlist.simpChineseFormal.tooltip":"大写中文编号","editor.tasklist.tooltip":"任务列表","editor.indent":"缩进调整","editor.indent.tooltip":"增加缩进","editor.outdent.tooltip":"减少缩进","editor.columns.tooltip":"分栏","editor.link.tooltip":"链接","editor.link.unlink.tooltip":"取消链接","editor.link.open.tooltip":"打开链接","editor.link.edit.tooltip":"编辑链接","editor.link.dialog.title":"插入链接","editor.link.dialog.link":"链接","editor.link.dialog.text":"文本","editor.link.dialog.openInNewTab":"是否在新窗口打开","editor.link.dialog.link.placeholder":"链接地址","editor.link.dialog.text.placeholder":"添加描述","editor.link.dialog.button.apply":"应用","editor.image.tooltip":"图片","editor.image.menu.flipX":"水平翻转","editor.image.menu.flipY":"垂直翻转","editor.image.menu.size":"宽高","editor.image.menu.size.width":"宽度","editor.image.menu.size.height":"高度","editor.image.dragger.tooltip":"点击或者拖动图片到该区域来上传","editor.image.float.left.tooltip":"左浮动","editor.image.float.none.tooltip":"无浮动","editor.image.float.right.tooltip":"右浮动","editor.image.dialog.title":"插入图片","editor.image.dialog.tab.url":"网络图片","editor.image.dialog.tab.upload":"上传","editor.image.dialog.uploading":"正在上传","editor.image.dialog.form.link":"链接","editor.image.dialog.placeholder":"请输入图片链接","editor.image.dialog.form.alt":"说明","editor.image.dialog.form.aspectRatio":"锁定原有长宽比","editor.image.dialog.form.file":"文件","editor.image.dialog.button.apply":"应用","editor.video.tooltip":"视频","editor.video.dialog.tab.upload":"上传","editor.video.dialog.uploading":"正在上传","editor.video.dialog.title":"插入视频","editor.video.dialog.link":"网络链接","editor.video.dialog.placeholder":"请输入链接地址","editor.video.dialog.button.apply":"应用","editor.table.tooltip":"表格","editor.table.menu.insert_table":"插入表格","editor.table.menu.insert_table.with_header_row":"带标题行","editor.table.menu.insertColumnBefore":"向左插入一列","editor.table.menu.insertColumnAfter":"向右插入一列","editor.table.menu.deleteColumn":"删除列","editor.table.menu.insertRowAbove":"向上插入一行","editor.table.menu.insertRowBelow":"向下插入一行","editor.table.menu.deleteRow":"删除行","editor.table.menu.mergeCells":"合并单元格","editor.table.menu.splitCells":"拆分单元格","editor.table.menu.deleteTable":"删除表格","editor.table.menu.setCellsBgColor":"单元格背景颜色","editor.blockquote.tooltip":"引用","editor.horizontalrule.tooltip":"分隔线","editor.code.tooltip":"代码","editor.codeblock.tooltip":"代码块","editor.clear.tooltip":"清除格式","editor.undo.tooltip":"撤销","editor.redo.tooltip":"重做","editor.fullscreen.tooltip.fullscreen":"全屏","editor.fullscreen.tooltip.exit":"退出全屏","editor.imageUpload.fileTypeNotSupported":"图片类型不支持","editor.imageUpload.fileSizeTooBig":"图片大小不支持, 最大","editor.AI.placeholder":"向智能助手提问 ...","editor.AI.generating":"正在生成","editor.AI.insert":"插入选区下方","editor.AI.replace":"替换选中内容","editor.AI.regenerate":"重新生成","editor.AI.close":"关闭","editor.AI.stop":"停止","editor.AI.ask":"智能助手","editor.AI.error":"AI 错误","editor.AI.editorNotFound":"未找到编辑器","editor.AI.noSelection":"请先选择一些文本","editor.AI.unknownError":"发生未知错误","editor.AI.noCachedPrompt":"未找到缓存的提示","editor.AI.regenerateError":"重新生成失败","editor.AI.shortcutError":"快捷操作执行失败","editor.menubar.file":"文件","editor.menubar.edit":"编辑","editor.menubar.view":"视图","editor.menubar.insert":"插入","editor.menubar.format":"格式","editor.menubar.menu.newDoc":"新的文档","editor.menubar.menu.restoreLastDraft":"恢复上一次的草稿","editor.menubar.menu.print":"打印","editor.menubar.menu.cut":"剪切","editor.menubar.menu.copy":"复制","editor.menubar.menu.paste":"黏贴","editor.menubar.menu.pasteAsText":"纯文本黏贴","editor.menubar.menu.selectAll":"全选","editor.menubar.menu.preview":"预览","editor.menubar.menu.spellCheck":"拼写检查","editor.findAndReplace.tooltip":"查找和替换","editor.findAndReplace.find":"查找","editor.findAndReplace.replace":"替换","editor.findAndReplace.replaceAll":"全部替换","editor.findAndReplace.caseSensitive":"区分大小写","editor.printer.tooltip":"打印","editor.AI.shortcuts.generate.title":"从选中内容生成","editor.AI.shortcuts.generate.improve":"改进写作","editor.AI.shortcuts.generate.shorter":"精简内容","editor.AI.shortcuts.generate.longer":"扩展内容","editor.AI.shortcuts.generate.summarize":"总结内容","editor.AI.shortcuts.generate.continue":"继续写作","editor.AI.shortcuts.tone.title":"改变语气","editor.AI.shortcuts.tone.professional":"专业的","editor.AI.shortcuts.tone.casual":"随意的","editor.AI.shortcuts.tone.direct":"直接的","editor.AI.shortcuts.tone.confident":"自信的","editor.AI.shortcuts.tone.friendly":"友好的","editor.AI.shortcuts.translate.title":"翻译","editor.AI.shortcuts.translate.english":"英语","editor.AI.shortcuts.translate.chinese":"简体中文","editor.AI.shortcuts.translate.spanish":"西班牙语","editor.AI.shortcuts.translate.german":"德语","editor.AI.shortcuts.translate.french":"法语","editor.AI.shortcuts.translate.portuguese":"葡萄牙语","editor.AI.shortcuts.translate.korean":"韩语","editor.AI.shortcuts.translate.japanese":"日语","editor.AI.shortcuts.translate.hindi":"印地语","editor.AI.shortcuts.translate.russian":"俄语","editor.AI.shortcuts.translate.arabic":"阿拉伯语","editor.AI.shortcuts.style.title":"改变风格","editor.AI.shortcuts.style.business":"商务","editor.AI.shortcuts.style.legal":"法律","editor.AI.shortcuts.style.journalism":"新闻","editor.AI.shortcuts.style.medical":"医疗","editor.AI.shortcuts.style.poetic":"诗意的"},sw={"editor.remove":"Remove","editor.copy":"Copy","editor.words":"WORDS","editor.characters":"CHARACTERS","editor.default":"Default","editor.recent":"Recently Used","editor.nofill":"Remove Color","editor.format":"Format Painter","editor.close":"Close","editor.modify":"Modify","editor.preview.tooltip":"Preview","editor.draghandle.tooltip":"Click And Drag","editor.copyToClipboard":"CopyToClipboard","editor.importWord.tooltip":"Import from Word","editor.importWord.success":"Import Success","editor.importWord.fileTooLarge":"File is Too large","editor.importWord.error":"Import Failed, File not supported","editor.slash":"Press '/' for commands","editor.slash.empty":"No Result","editor.slash.format":"Format","editor.slash.insert":"Insert","editor.slash.embed":"Embed Services","editor.content":"Please input content","editor.moremark":"More Text Styles","editor.size.small.tooltip":"Small","editor.size.medium.tooltip":"Medium","editor.size.large.tooltip":"Cover","editor.bold.tooltip":"Bold","editor.italic.tooltip":"Italic","editor.underline.tooltip":"Underline","editor.strike.tooltip":"Strike","editor.color.tooltip":"Color","editor.color.more":"Color Picker","editor.highlight.tooltip":"Highlight","editor.lineheight.tooltip":"Line Height","editor.heading.tooltip":"Headings","editor.heading.h1.tooltip":"Heading 1","editor.heading.h2.tooltip":"Heading 2","editor.heading.h3.tooltip":"Heading 3","editor.heading.h4.tooltip":"Heading 4","editor.heading.h5.tooltip":"Heading 5","editor.heading.h6.tooltip":"Heading 6","editor.paragraph.tooltip":"Paragraph","editor.textalign.tooltip":"Align","editor.textalign.left.tooltip":"Left","editor.textalign.center.tooltip":"Center","editor.textalign.right.tooltip":"Right","editor.textalign.justify.tooltip":"Justify","editor.indent":"Indent","editor.indent.indent":"Increase Indent","editor.indent.outdent":"Decrease Indent","editor.fontFamily.tooltip":"Font family","editor.fontFamily.default":"Default","editor.fontSize.tooltip":"Font size","editor.fontSize.default.tooltip":"Default","editor.superscript.tooltip":"Superscript","editor.subscript.tooltip":"Subscript","editor.bulletlist.tooltip":"Bullet List","editor.bulletlist.disc.tooltip":"Disc","editor.bulletlist.circle.tooltip":"Circle","editor.bulletlist.square.tooltip":"Square","editor.orderedlist.tooltip":"Ordered List","editor.orderedlist.decimal.tooltip":"Decimal","editor.orderedlist.decimalLeadingZero.tooltip":"Decimal with leading zero","editor.orderedlist.lowerRoman.tooltip":"Lower Roman","editor.orderedlist.upperRoman.tooltip":"Upper Roman","editor.orderedlist.lowerLatin.tooltip":"Lower Latin","editor.orderedlist.upperLatin.tooltip":"Upper Latin","editor.orderedlist.tradChineseInformal.tooltip":"Trad Chinese Informal","editor.orderedlist.simpChineseFormal.tooltip":"Simp Chinese Informal","editor.tasklist.tooltip":"Task List","editor.indent.tooltip":"Indent","editor.outdent.tooltip":"Outdent","editor.columns.tooltip":"Columns","editor.link.tooltip":"Link","editor.link.unlink.tooltip":"UnLink","editor.link.open.tooltip":"Open Link","editor.link.edit.tooltip":"Edit Link","editor.link.dialog.title":"Insert Link","editor.link.dialog.link":"Link","editor.link.dialog.text":"Text","editor.link.dialog.openInNewTab":"Open In New Tab","editor.link.dialog.link.placeholder":"Link Address","editor.link.dialog.text.placeholder":"Add Description","editor.link.dialog.button.apply":"Apply","editor.image.tooltip":"Image","editor.image.menu.flipX":"Flip vertical","editor.image.menu.flipY":"Flip horizontal","editor.image.menu.size":"Set Size","editor.image.menu.size.width":"Width","editor.image.menu.size.height":"Height","editor.image.dragger.tooltip":"Click or drag the image to the area to upload","editor.image.float.left.tooltip":"Float left","editor.image.float.none.tooltip":"Float none","editor.image.float.right.tooltip":"Float right","editor.image.dialog.title":"Add an image","editor.image.dialog.tab.url":"Url","editor.image.dialog.tab.upload":"Upload","editor.image.dialog.uploading":"Uploading","editor.image.dialog.form.link":"Link","editor.image.dialog.placeholder":"Link","editor.image.dialog.form.alt":"Alt","editor.image.dialog.form.aspectRatio":"Lock original aspect ratio","editor.image.dialog.form.file":"File","editor.image.dialog.button.apply":"apply","editor.video.tooltip":"Video","editor.video.dialog.tab.upload":"Upload","editor.video.dialog.uploading":"Uploading","editor.video.dialog.title":"Embed or upload a video","editor.video.dialog.link":"link","editor.video.dialog.placeholder":"Link","editor.video.dialog.button.apply":"apply","editor.table.tooltip":"Table","editor.table.menu.insert_table":"Insert Table","editor.table.menu.insert_table.with_header_row":"With header row","editor.table.menu.insertColumnBefore":"Insert Column Before","editor.table.menu.insertColumnAfter":"Insert Column After","editor.table.menu.deleteColumn":"Delete Column","editor.table.menu.insertRowAbove":"Insert Row Above","editor.table.menu.insertRowBelow":"Insert Row Below","editor.table.menu.deleteRow":"Delete Row","editor.table.menu.mergeCells":"Merge Cells","editor.table.menu.splitCells":"Split Cells","editor.table.menu.deleteTable":"Delete Table","editor.table.menu.setCellsBgColor":"Cell Background Color","editor.blockquote.tooltip":"Blockquote","editor.horizontalrule.tooltip":"Horizontal Rule","editor.code.tooltip":"Code","editor.codeblock.tooltip":"Code Block","editor.clear.tooltip":"Clear Format","editor.undo.tooltip":"Undo","editor.redo.tooltip":"Redo","editor.fullscreen.tooltip.fullscreen":"Fullscreen","editor.fullscreen.tooltip.exit":"Fullscreen Exit","editor.imageUpload.fileTypeNotSupported":"File type not supported","editor.imageUpload.fileSizeTooBig":"File size too big, Maximum size is","editor.AI.placeholder":"Ask AI ...","editor.AI.generating":"Generating","editor.AI.insert":"Insert below selection","editor.AI.replace":"Replace selected content","editor.AI.regenerate":"Regenerate","editor.AI.close":"Close","editor.AI.stop":"Stop","editor.AI.ask":"Ask AI","editor.AI.error":"AI Error","editor.AI.editorNotFound":"Editor not found","editor.AI.noSelection":"Please select some text first","editor.AI.unknownError":"An unknown error occurred","editor.AI.noCachedPrompt":"No cached prompt found","editor.AI.regenerateError":"Failed to regenerate response","editor.AI.shortcutError":"Failed to execute shortcut","editor.menubar.file":"File","editor.menubar.edit":"Edit","editor.menubar.view":"View","editor.menubar.insert":"Insert","editor.menubar.format":"Format","editor.menubar.menu.newDoc":"New Document","editor.menubar.menu.restoreLastDraft":"Restore last draft","editor.menubar.menu.print":"Print","editor.menubar.menu.cut":"Cut","editor.menubar.menu.copy":"Copy","editor.menubar.menu.paste":"Paste","editor.menubar.menu.pasteAsText":"Paste as text","editor.menubar.menu.selectAll":"Select all","editor.menubar.menu.preview":"Preview","editor.menubar.menu.spellCheck":"Spell check","editor.findAndReplace.tooltip":"Find and replace","editor.findAndReplace.find":"Find","editor.findAndReplace.replace":"Replace","editor.findAndReplace.replaceAll":"Replace All","editor.findAndReplace.caseSensitive":"Case Sensitive","editor.printer.tooltip":"Print","editor.AI.shortcuts.generate.title":"Generate from selection","editor.AI.shortcuts.generate.improve":"Improve writing","editor.AI.shortcuts.generate.shorter":"Make shorter","editor.AI.shortcuts.generate.longer":"Make longer","editor.AI.shortcuts.generate.summarize":"Summarize","editor.AI.shortcuts.generate.continue":"Continue","editor.AI.shortcuts.tone.title":"Change Tone","editor.AI.shortcuts.tone.professional":"Professional","editor.AI.shortcuts.tone.casual":"Casual","editor.AI.shortcuts.tone.direct":"Direct","editor.AI.shortcuts.tone.confident":"Confident","editor.AI.shortcuts.tone.friendly":"Friendly","editor.AI.shortcuts.translate.title":"Translate","editor.AI.shortcuts.translate.english":"English","editor.AI.shortcuts.translate.chinese":"Simplified Chinese","editor.AI.shortcuts.translate.spanish":"Spanish","editor.AI.shortcuts.translate.german":"German","editor.AI.shortcuts.translate.french":"French","editor.AI.shortcuts.translate.portuguese":"Portuguese","editor.AI.shortcuts.translate.korean":"Korean","editor.AI.shortcuts.translate.japanese":"Japanese","editor.AI.shortcuts.translate.hindi":"Hindi","editor.AI.shortcuts.translate.russian":"Russian","editor.AI.shortcuts.translate.arabic":"Arabic","editor.AI.shortcuts.style.title":"Change Style","editor.AI.shortcuts.style.business":"Business","editor.AI.shortcuts.style.legal":"Legal","editor.AI.shortcuts.style.journalism":"Journalism","editor.AI.shortcuts.style.medical":"Medical","editor.AI.shortcuts.style.poetic":"Poetic"};function hT(t){return t=t||new Map,{all:t,on(e,n){const o=t.get(e);o?o.push(n):t.set(e,[n])},off(e,n){const o=t.get(e);o&&(n?o.splice(o.indexOf(n)>>>0,1):t.set(e,[]))},emit(e,n){let o=t.get(e);o&&o.slice().map(r=>{r(n)}),o=t.get("*"),o&&o.slice().map(r=>{r(e,n)})}}}const Ci={lang:Jy,message:{zhHans:iw,en:sw}};class mT{constructor(){Ja(this,"emitter");this.emitter=hT()}get lang(){return Ci.lang}set lang(e){if(!this.isLangSupported(e)){console.warn(`Can't find the current language "${e}", Using language "${Ci.lang}" by default`);return}Ci.lang=e,this.emitter.emit("lang",e)}get message(){return Ci.message}set message(e){Ci.message=e}loadLangMessage(e){return this.message[e]}isLangSupported(e){return Object.keys(this.message).includes(e)}setLang(e){this.lang=e}registerWatchLang(e){return this.emitter.on("lang",e),{unsubscribe:()=>{this.emitter.off("lang",e)}}}setMessage(e,n){this.message[e]=n}buildLocalesHandler(e){e||(e=this.lang);const n=this.loadLangMessage(e);return function(r){return n[r]||r}}}const hp=new mT,Be=()=>{const t=i.ref(Ci.lang),e=i.computed(()=>hp.buildLocalesHandler(i.unref(t)));return i.watchEffect(n=>{const o=hp.registerWatchLang(r=>{t.value=r});n(()=>{o.unsubscribe()})}),{lang:t,t:e}},gT=hp,yT=i.reactive({extensions:[]});function bT(){return{state:yT}}function Si(t){return i.getCurrentScope()?(i.onScopeDispose(t),!0):!1}function wT(){const t=new Set,e=r=>{t.delete(r)};return{on:r=>{t.add(r);const s=()=>e(r);return Si(s),{off:s}},off:e,trigger:(...r)=>Promise.all(Array.from(t).map(s=>s(...r)))}}function xT(t){let e=!1,n;const o=i.effectScope(!0);return(...r)=>(e||(n=o.run(()=>t(...r)),e=!0),n)}function $o(t){return typeof t=="function"?t():i.unref(t)}const mp=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const kT=t=>typeof t<"u",aw=t=>t!=null,CT=Object.prototype.toString,ST=t=>CT.call(t)==="[object Object]",kn=()=>{},ET=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),vT=AT();function AT(){var t,e;return mp&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function lw(t,e){function n(...o){return new Promise((r,s)=>{Promise.resolve(t(()=>e.apply(this,o),{fn:e,thisArg:this,args:o})).then(r).catch(s)})}return n}const cw=t=>t();function MT(t,e={}){let n,o,r=kn;const s=l=>{clearTimeout(l),r(),r=kn};return l=>{const c=$o(t),d=$o(e.maxWait);return n&&s(n),c<=0||d!==void 0&&d<=0?(o&&(s(o),o=null),Promise.resolve(l())):new Promise((u,f)=>{r=e.rejectOnCancel?f:u,d&&!o&&(o=setTimeout(()=>{n&&s(n),o=null,u(l())},d)),n=setTimeout(()=>{o&&s(o),o=null,u(l())},c)})}}function _T(t=cw){const e=i.ref(!0);function n(){e.value=!1}function o(){e.value=!0}const r=(...s)=>{e.value&&t(...s)};return{isActive:i.readonly(e),pause:n,resume:o,eventFilter:r}}function TT(t){return i.getCurrentInstance()}function BT(...t){if(t.length!==1)return i.toRef(...t);const e=t[0];return typeof e=="function"?i.readonly(i.customRef(()=>({get:e,set:kn}))):i.ref(e)}function OT(t,e=200,n={}){return lw(MT(e,n),t)}function NT(t,e,n={}){const{eventFilter:o=cw,...r}=n;return i.watch(t,lw(o,e),r)}function PT(t,e,n={}){const{eventFilter:o,...r}=n,{eventFilter:s,pause:a,resume:l,isActive:c}=_T(o);return{stop:NT(t,e,{...r,eventFilter:s}),pause:a,resume:l,isActive:c}}function gp(t,e=!0,n){TT()?i.onMounted(t,n):e?t():i.nextTick(t)}function bt(t){var e;const n=$o(t);return(e=n==null?void 0:n.$el)!=null?e:n}const qt=mp?window:void 0,IT=mp?window.document:void 0;function qn(...t){let e,n,o,r;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,o,r]=t,e=qt):[e,n,o,r]=t,!e)return kn;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const s=[],a=()=>{s.forEach(u=>u()),s.length=0},l=(u,f,p,h)=>(u.addEventListener(f,p,h),()=>u.removeEventListener(f,p,h)),c=i.watch(()=>[bt(e),$o(r)],([u,f])=>{if(a(),!u)return;const p=ST(f)?{...f}:f;s.push(...n.flatMap(h=>o.map(m=>l(u,h,m,p))))},{immediate:!0,flush:"post"}),d=()=>{c(),a()};return Si(d),d}let dw=!1;function DT(t,e,n={}){const{window:o=qt,ignore:r=[],capture:s=!0,detectIframe:a=!1}=n;if(!o)return kn;vT&&!dw&&(dw=!0,Array.from(o.document.body.children).forEach(p=>p.addEventListener("click",kn)),o.document.documentElement.addEventListener("click",kn));let l=!0;const c=p=>r.some(h=>{if(typeof h=="string")return Array.from(o.document.querySelectorAll(h)).some(m=>m===p.target||p.composedPath().includes(m));{const m=bt(h);return m&&(p.target===m||p.composedPath().includes(m))}}),u=[qn(o,"click",p=>{const h=bt(t);if(!(!h||h===p.target||p.composedPath().includes(h))){if(p.detail===0&&(l=!c(p)),!l){l=!0;return}e(p)}},{passive:!0,capture:s}),qn(o,"pointerdown",p=>{const h=bt(t);l=!c(p)&&!!(h&&!p.composedPath().includes(h))},{passive:!0}),a&&qn(o,"blur",p=>{setTimeout(()=>{var h;const m=bt(t);((h=o.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(m!=null&&m.contains(o.document.activeElement))&&e(p)},0)})].filter(Boolean);return()=>u.forEach(p=>p())}function RT(){const t=i.ref(!1),e=i.getCurrentInstance();return e&&i.onMounted(()=>{t.value=!0},e),t}function nc(t){const e=RT();return i.computed(()=>(e.value,!!t()))}function LT(t,e={}){const{window:n=qt}=e,o=nc(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const s=i.ref(!1),a=d=>{s.value=d.matches},l=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",a):r.removeListener(a))},c=i.watchEffect(()=>{o.value&&(l(),r=n.matchMedia($o(t)),"addEventListener"in r?r.addEventListener("change",a):r.addListener(a),s.value=r.matches)});return Si(()=>{c(),l(),r=void 0}),s}function $T(t){return JSON.parse(JSON.stringify(t))}const oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rc="__vueuse_ssr_handlers__",VT=zT();function zT(){return rc in oc||(oc[rc]=oc[rc]||{}),oc[rc]}function uw(t,e){return VT[t]||e}function FT(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const HT={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},fw="vueuse-storage";function pw(t,e,n,o={}){var r;const{flush:s="pre",deep:a=!0,listenToStorageChanges:l=!0,writeDefaults:c=!0,mergeDefaults:d=!1,shallow:u,window:f=qt,eventFilter:p,onError:h=E=>{console.error(E)},initOnMounted:m}=o,g=(u?i.shallowRef:i.ref)(typeof e=="function"?e():e);if(!n)try{n=uw("getDefaultStorage",()=>{var E;return(E=qt)==null?void 0:E.localStorage})()}catch(E){h(E)}if(!n)return g;const y=$o(e),b=FT(y),x=(r=o.serializer)!=null?r:HT[b],{pause:k,resume:w}=PT(g,()=>S(g.value),{flush:s,deep:a,eventFilter:p});f&&l&&gp(()=>{qn(f,"storage",B),qn(f,fw,_),m&&B()}),m||B();function C(E,T){f&&f.dispatchEvent(new CustomEvent(fw,{detail:{key:t,oldValue:E,newValue:T,storageArea:n}}))}function S(E){try{const T=n.getItem(t);if(E==null)C(T,null),n.removeItem(t);else{const M=x.write(E);T!==M&&(n.setItem(t,M),C(T,M))}}catch(T){h(T)}}function v(E){const T=E?E.newValue:n.getItem(t);if(T==null)return c&&y!=null&&n.setItem(t,x.write(y)),y;if(!E&&d){const M=x.read(T);return typeof d=="function"?d(M,y):b==="object"&&!Array.isArray(M)?{...y,...M}:M}else return typeof T!="string"?T:x.read(T)}function B(E){if(!(E&&E.storageArea!==n)){if(E&&E.key==null){g.value=y;return}if(!(E&&E.key!==t)){k();try{(E==null?void 0:E.newValue)!==x.write(g.value)&&(g.value=v(E))}catch(T){h(T)}finally{E?i.nextTick(w):w()}}}}function _(E){B(E.detail)}return g}function hw(t){return LT("(prefers-color-scheme: dark)",t)}function jT(t={}){const{selector:e="html",attribute:n="class",initialValue:o="auto",window:r=qt,storage:s,storageKey:a="vueuse-color-scheme",listenToStorageChanges:l=!0,storageRef:c,emitAuto:d,disableTransition:u=!0}=t,f={auto:"",light:"light",dark:"dark",...t.modes||{}},p=hw({window:r}),h=i.computed(()=>p.value?"dark":"light"),m=c||(a==null?BT(o):pw(a,o,s,{window:r,listenToStorageChanges:l})),g=i.computed(()=>m.value==="auto"?h.value:m.value),y=uw("updateHTMLAttrs",(w,C,S)=>{const v=typeof w=="string"?r==null?void 0:r.document.querySelector(w):bt(w);if(!v)return;let B;if(u&&(B=r.document.createElement("style"),B.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),r.document.head.appendChild(B)),C==="class"){const _=S.split(/\s/g);Object.values(f).flatMap(E=>(E||"").split(/\s/g)).filter(Boolean).forEach(E=>{_.includes(E)?v.classList.add(E):v.classList.remove(E)})}else v.setAttribute(C,S);u&&(r.getComputedStyle(B).opacity,document.head.removeChild(B))});function b(w){var C;y(e,n,(C=f[w])!=null?C:w)}function x(w){t.onChanged?t.onChanged(w,b):b(w)}i.watch(g,x,{flush:"post",immediate:!0}),gp(()=>x(g.value));const k=i.computed({get(){return d?m.value:g.value},set(w){m.value=w}});try{return Object.assign(k,{store:m,system:h,state:g})}catch{return k}}function UT(t,e,n={}){const{window:o=qt,...r}=n;let s;const a=nc(()=>o&&"MutationObserver"in o),l=()=>{s&&(s.disconnect(),s=void 0)},c=i.computed(()=>{const p=$o(t),h=(Array.isArray(p)?p:[p]).map(bt).filter(aw);return new Set(h)}),d=i.watch(()=>c.value,p=>{l(),a.value&&o&&p.size&&(s=new MutationObserver(e),p.forEach(h=>s.observe(h,r)))},{immediate:!0,flush:"post"}),u=()=>s==null?void 0:s.takeRecords(),f=()=>{l(),d()};return Si(f),{isSupported:a,stop:f,takeRecords:u}}function WT(t={}){const{valueDark:e="dark",valueLight:n="",window:o=qt}=t,r=jT({...t,onChanged:(l,c)=>{var d;t.onChanged?(d=t.onChanged)==null||d.call(t,l==="dark",c,l):c(l)},modes:{dark:e,light:n}}),s=i.computed(()=>r.system?r.system.value:hw({window:o}).value?"dark":"light");return i.computed({get(){return r.value==="dark"},set(l){const c=l?"dark":"light";s.value===c?r.value="auto":r.value=c}})}function KT(t,e,n={}){const{window:o=qt,...r}=n;let s;const a=nc(()=>o&&"ResizeObserver"in o),l=()=>{s&&(s.disconnect(),s=void 0)},c=i.computed(()=>Array.isArray(t)?t.map(f=>bt(f)):[bt(t)]),d=i.watch(c,f=>{if(l(),a.value&&o){s=new ResizeObserver(e);for(const p of f)p&&s.observe(p,r)}},{immediate:!0,flush:"post"}),u=()=>{l(),d()};return Si(u),{isSupported:a,stop:u}}function qT(t,e={}){const{reset:n=!0,windowResize:o=!0,windowScroll:r=!0,immediate:s=!0}=e,a=i.ref(0),l=i.ref(0),c=i.ref(0),d=i.ref(0),u=i.ref(0),f=i.ref(0),p=i.ref(0),h=i.ref(0);function m(){const g=bt(t);if(!g){n&&(a.value=0,l.value=0,c.value=0,d.value=0,u.value=0,f.value=0,p.value=0,h.value=0);return}const y=g.getBoundingClientRect();a.value=y.height,l.value=y.bottom,c.value=y.left,d.value=y.right,u.value=y.top,f.value=y.width,p.value=y.x,h.value=y.y}return KT(t,m),i.watch(()=>bt(t),g=>!g&&m()),UT(t,m,{attributeFilter:["style","class"]}),r&&qn("scroll",m,{capture:!0,passive:!0}),o&&qn("resize",m,{passive:!0}),gp(()=>{s&&m()}),{height:a,bottom:l,left:c,right:d,top:u,width:f,x:p,y:h,update:m}}function GT(t,e,n={}){const{root:o,rootMargin:r="0px",threshold:s=.1,window:a=qt,immediate:l=!0}=n,c=nc(()=>a&&"IntersectionObserver"in a),d=i.computed(()=>{const m=$o(t);return(Array.isArray(m)?m:[m]).map(bt).filter(aw)});let u=kn;const f=i.ref(l),p=c.value?i.watch(()=>[d.value,bt(o),f.value],([m,g])=>{if(u(),!f.value||!m.length)return;const y=new IntersectionObserver(e,{root:bt(g),rootMargin:r,threshold:s});m.forEach(b=>b&&y.observe(b)),u=()=>{y.disconnect(),u=kn}},{immediate:l,flush:"post"}):kn,h=()=>{u(),p(),f.value=!1};return Si(h),{isSupported:c,isActive:f,pause(){u(),f.value=!1},resume(){f.value=!0},stop:h}}function JT(t,e={}){const{window:n=qt,scrollTarget:o,threshold:r=0}=e,s=i.ref(!1);return GT(t,a=>{let l=s.value,c=0;for(const d of a)d.time>=c&&(c=d.time,l=d.isIntersecting);s.value=l},{root:o,window:n,threshold:r}),s}const YT={multiple:!0,accept:"*",reset:!1,directory:!1};function XT(t={}){const{document:e=IT}=t,n=i.ref(null),{on:o,trigger:r}=wT();let s;e&&(s=e.createElement("input"),s.type="file",s.onchange=c=>{const d=c.target;n.value=d.files,r(n.value)});const a=()=>{n.value=null,s&&(s.value="",r(null))},l=c=>{if(!s)return;const d={...YT,...t,...c};s.multiple=d.multiple,s.accept=d.accept,s.webkitdirectory=d.directory,ET(d,"capture")&&(s.capture=d.capture),d.reset&&a(),s.click()};return{files:i.readonly(n),open:l,reset:a,onChange:o}}function yp(t,e={}){const{initialValue:n=!1,focusVisible:o=!1}=e,r=i.ref(!1),s=i.computed(()=>bt(t));qn(s,"focus",l=>{var c,d;(!o||(d=(c=l.target).matches)!=null&&d.call(c,":focus-visible"))&&(r.value=!0)}),qn(s,"blur",()=>r.value=!1);const a=i.computed({get:()=>r.value,set(l){var c,d;!l&&r.value?(c=s.value)==null||c.blur():l&&!r.value&&((d=s.value)==null||d.focus())}});return i.watch(s,()=>{a.value=n},{immediate:!0,flush:"post"}),{focused:a}}function ZT(t,e,n={}){const{window:o=qt}=n;return pw(t,e,o==null?void 0:o.localStorage,n)}function QT(t,e,n,o={}){var r,s,a;const{clone:l=!1,passive:c=!1,eventName:d,deep:u=!1,defaultValue:f,shouldEmit:p}=o,h=i.getCurrentInstance(),m=n||(h==null?void 0:h.emit)||((r=h==null?void 0:h.$emit)==null?void 0:r.bind(h))||((a=(s=h==null?void 0:h.proxy)==null?void 0:s.$emit)==null?void 0:a.bind(h==null?void 0:h.proxy));let g=d;g=g||`update:${e.toString()}`;const y=k=>l?typeof l=="function"?l(k):$T(k):k,b=()=>kT(t[e])?y(t[e]):f,x=k=>{p?p(k)&&m(g,k):m(g,k)};if(c){const k=b(),w=i.ref(k);let C=!1;return i.watch(()=>t[e],S=>{C||(C=!0,w.value=y(S),i.nextTick(()=>C=!1))}),i.watch(w,S=>{!C&&(S!==t[e]||u)&&x(S)},{deep:u}),w}else return i.computed({get(){return b()},set(k){x(k)}})}const Ot=xT(()=>{const{state:t}=bT(),e=i.reactive({extensions:t.extensions??[],defaultLang:Jy,isFullscreen:!1,color:void 0,highlight:void 0,AIMenu:!1,showPreview:!1,spellCheck:!1,findAndReplace:!1,printer:!1}),n=i.computed(()=>e.isFullscreen);function o(){e.isFullscreen=!e.isFullscreen}function r(){e.showPreview=!e.showPreview}function s(){e.spellCheck=!e.spellCheck}function a(){e.findAndReplace=!e.findAndReplace}function l(){e.printer=!e.printer}return i.watchEffect(()=>{e.extensions=t.extensions,e.defaultLang=t.defaultLang}),{state:e,isFullscreen:n,toggleFullscreen:o,togglePreview:r,toggleSpellCheck:s,toggleFindAndReplace:a,togglePrinter:l}}),bp=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function wp(t,e,n,o){t.addEventListener?t.addEventListener(e,n,o):t.attachEvent&&t.attachEvent("on".concat(e),n)}function qs(t,e,n,o){t.removeEventListener?t.removeEventListener(e,n,o):t.detachEvent&&t.detachEvent("on".concat(e),n)}function mw(t,e){const n=e.slice(0,e.length-1);for(let o=0;o<n.length;o++)n[o]=t[n[o].toLowerCase()];return n}function gw(t){typeof t!="string"&&(t=""),t=t.replace(/\s/g,"");const e=t.split(",");let n=e.lastIndexOf("");for(;n>=0;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}function e9(t,e){const n=t.length>=e.length?t:e,o=t.length>=e.length?e:t;let r=!0;for(let s=0;s<n.length;s++)o.indexOf(n[s])===-1&&(r=!1);return r}const Gs={backspace:8,"⌫":8,tab:9,clear:12,enter:13,"↩":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":bp?173:189,"=":bp?61:187,";":bp?59:186,"'":222,"[":219,"]":221,"\\":220},Cn={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},xp={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},st={16:!1,18:!1,17:!1,91:!1},He={};for(let t=1;t<20;t++)Gs["f".concat(t)]=111+t;let Ie=[],Js=null,yw="all";const Gn=new Map,Ys=t=>Gs[t.toLowerCase()]||Cn[t.toLowerCase()]||t.toUpperCase().charCodeAt(0),t9=t=>Object.keys(Gs).find(e=>Gs[e]===t),n9=t=>Object.keys(Cn).find(e=>Cn[e]===t);function bw(t){yw=t||"all"}function Xs(){return yw||"all"}function o9(){return Ie.slice(0)}function r9(){return Ie.map(t=>t9(t)||n9(t)||String.fromCharCode(t))}function i9(){const t=[];return Object.keys(He).forEach(e=>{He[e].forEach(n=>{let{key:o,scope:r,mods:s,shortcut:a}=n;t.push({scope:r,shortcut:a,mods:s,keys:o.split("+").map(l=>Ys(l))})})}),t}function s9(t){const e=t.target||t.srcElement,{tagName:n}=e;let o=!0;const r=n==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(e.type);return(e.isContentEditable||(r||n==="TEXTAREA"||n==="SELECT")&&!e.readOnly)&&(o=!1),o}function a9(t){return typeof t=="string"&&(t=Ys(t)),Ie.indexOf(t)!==-1}function l9(t,e){let n,o;t||(t=Xs());for(const r in He)if(Object.prototype.hasOwnProperty.call(He,r))for(n=He[r],o=0;o<n.length;)n[o].scope===t?n.splice(o,1).forEach(a=>{let{element:l}=a;return kp(l)}):o++;Xs()===t&&bw(e||"all")}function c9(t){let e=t.keyCode||t.which||t.charCode;const n=Ie.indexOf(e);if(n>=0&&Ie.splice(n,1),t.key&&t.key.toLowerCase()==="meta"&&Ie.splice(0,Ie.length),(e===93||e===224)&&(e=91),e in st){st[e]=!1;for(const o in Cn)Cn[o]===e&&(on[o]=!1)}}function ww(t){if(typeof t>"u")Object.keys(He).forEach(r=>{Array.isArray(He[r])&&He[r].forEach(s=>ic(s)),delete He[r]}),kp(null);else if(Array.isArray(t))t.forEach(r=>{r.key&&ic(r)});else if(typeof t=="object")t.key&&ic(t);else if(typeof t=="string"){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];let[r,s]=n;typeof r=="function"&&(s=r,r=""),ic({key:t,scope:r,method:s,splitKey:"+"})}}const ic=t=>{let{key:e,scope:n,method:o,splitKey:r="+"}=t;gw(e).forEach(a=>{const l=a.split(r),c=l.length,d=l[c-1],u=d==="*"?"*":Ys(d);if(!He[u])return;n||(n=Xs());const f=c>1?mw(Cn,l):[],p=[];He[u]=He[u].filter(h=>{const g=(o?h.method===o:!0)&&h.scope===n&&e9(h.mods,f);return g&&p.push(h.element),!g}),p.forEach(h=>kp(h))})};function xw(t,e,n,o){if(e.element!==o)return;let r;if(e.scope===n||e.scope==="all"){r=e.mods.length>0;for(const s in st)Object.prototype.hasOwnProperty.call(st,s)&&(!st[s]&&e.mods.indexOf(+s)>-1||st[s]&&e.mods.indexOf(+s)===-1)&&(r=!1);(e.mods.length===0&&!st[16]&&!st[18]&&!st[17]&&!st[91]||r||e.shortcut==="*")&&(e.keys=[],e.keys=e.keys.concat(Ie),e.method(t,e)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0)))}}function kw(t,e){const n=He["*"];let o=t.keyCode||t.which||t.charCode;if(!on.filter.call(this,t))return;if((o===93||o===224)&&(o=91),Ie.indexOf(o)===-1&&o!==229&&Ie.push(o),["ctrlKey","altKey","shiftKey","metaKey"].forEach(l=>{const c=xp[l];t[l]&&Ie.indexOf(c)===-1?Ie.push(c):!t[l]&&Ie.indexOf(c)>-1?Ie.splice(Ie.indexOf(c),1):l==="metaKey"&&t[l]&&Ie.length===3&&(t.ctrlKey||t.shiftKey||t.altKey||(Ie=Ie.slice(Ie.indexOf(c))))}),o in st){st[o]=!0;for(const l in Cn)Cn[l]===o&&(on[l]=!0);if(!n)return}for(const l in st)Object.prototype.hasOwnProperty.call(st,l)&&(st[l]=t[xp[l]]);t.getModifierState&&!(t.altKey&&!t.ctrlKey)&&t.getModifierState("AltGraph")&&(Ie.indexOf(17)===-1&&Ie.push(17),Ie.indexOf(18)===-1&&Ie.push(18),st[17]=!0,st[18]=!0);const r=Xs();if(n)for(let l=0;l<n.length;l++)n[l].scope===r&&(t.type==="keydown"&&n[l].keydown||t.type==="keyup"&&n[l].keyup)&&xw(t,n[l],r,e);if(!(o in He))return;const s=He[o],a=s.length;for(let l=0;l<a;l++)if((t.type==="keydown"&&s[l].keydown||t.type==="keyup"&&s[l].keyup)&&s[l].key){const c=s[l],{splitKey:d}=c,u=c.key.split(d),f=[];for(let p=0;p<u.length;p++)f.push(Ys(u[p]));f.sort().join("")===Ie.sort().join("")&&xw(t,c,r,e)}}function on(t,e,n){Ie=[];const o=gw(t);let r=[],s="all",a=document,l=0,c=!1,d=!0,u="+",f=!1,p=!1;for(n===void 0&&typeof e=="function"&&(n=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(s=e.scope),e.element&&(a=e.element),e.keyup&&(c=e.keyup),e.keydown!==void 0&&(d=e.keydown),e.capture!==void 0&&(f=e.capture),typeof e.splitKey=="string"&&(u=e.splitKey),e.single===!0&&(p=!0)),typeof e=="string"&&(s=e),p&&ww(t,s);l<o.length;l++)t=o[l].split(u),r=[],t.length>1&&(r=mw(Cn,t)),t=t[t.length-1],t=t==="*"?"*":Ys(t),t in He||(He[t]=[]),He[t].push({keyup:c,keydown:d,scope:s,mods:r,shortcut:o[l],method:n,key:o[l],splitKey:u,element:a});if(typeof a<"u"&&window){if(!Gn.has(a)){const h=function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;return kw(g,a)},m=function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;kw(g,a),c9(g)};Gn.set(a,{keydownListener:h,keyupListenr:m,capture:f}),wp(a,"keydown",h,f),wp(a,"keyup",m,f)}if(!Js){const h=()=>{Ie=[]};Js={listener:h,capture:f},wp(window,"focus",h,f)}}}function d9(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(He).forEach(n=>{He[n].filter(r=>r.scope===e&&r.shortcut===t).forEach(r=>{r&&r.method&&r.method()})})}function kp(t){const e=Object.values(He).flat();if(e.findIndex(o=>{let{element:r}=o;return r===t})<0){const{keydownListener:o,keyupListenr:r,capture:s}=Gn.get(t)||{};o&&r&&(qs(t,"keyup",r,s),qs(t,"keydown",o,s),Gn.delete(t))}if((e.length<=0||Gn.size<=0)&&(Object.keys(Gn).forEach(r=>{const{keydownListener:s,keyupListenr:a,capture:l}=Gn.get(r)||{};s&&a&&(qs(r,"keyup",a,l),qs(r,"keydown",s,l),Gn.delete(r))}),Gn.clear(),Object.keys(He).forEach(r=>delete He[r]),Js)){const{listener:r,capture:s}=Js;qs(window,"focus",r,s),Js=null}}const Cp={getPressedKeyString:r9,setScope:bw,getScope:Xs,deleteScope:l9,getPressedKeyCodes:o9,getAllKeyCodes:i9,isPressed:a9,filter:s9,trigger:d9,unbind:ww,keyMap:Gs,modifier:Cn,modifierMap:xp};for(const t in Cp)Object.prototype.hasOwnProperty.call(Cp,t)&&(on[t]=Cp[t]);if(typeof window<"u"){const t=window.hotkeys;on.noConflict=e=>(e&&window.hotkeys===on&&(window.hotkeys=t),on),window.hotkeys=on}const Cw=(t,e)=>{on.filter=()=>!0;const n=()=>{on(t,r=>(r.preventDefault(),e(),!1))},o=()=>{on.unbind(t)};return i.onBeforeUnmount(()=>{o()}),{bind:n,unbind:o}},u9=["top","right","bottom","left"],Sn=Math.min,Nt=Math.max,sc=Math.round,ac=Math.floor,Vo=t=>({x:t,y:t}),f9={left:"right",right:"left",bottom:"top",top:"bottom"},p9={start:"end",end:"start"};function Sp(t,e,n){return Nt(t,Sn(e,n))}function Jn(t,e){return typeof t=="function"?t(e):t}function Yn(t){return t.split("-")[0]}function Ei(t){return t.split("-")[1]}function Ep(t){return t==="x"?"y":"x"}function vp(t){return t==="y"?"height":"width"}function vi(t){return["top","bottom"].includes(Yn(t))?"y":"x"}function Ap(t){return Ep(vi(t))}function h9(t,e,n){n===void 0&&(n=!1);const o=Ei(t),r=Ap(t),s=vp(r);let a=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=lc(a)),[a,lc(a)]}function m9(t){const e=lc(t);return[Mp(t),e,Mp(e)]}function Mp(t){return t.replace(/start|end/g,e=>p9[e])}function g9(t,e,n){const o=["left","right"],r=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:o:e?o:r;case"left":case"right":return e?s:a;default:return[]}}function y9(t,e,n,o){const r=Ei(t);let s=g9(Yn(t),n==="start",o);return r&&(s=s.map(a=>a+"-"+r),e&&(s=s.concat(s.map(Mp)))),s}function lc(t){return t.replace(/left|right|bottom|top/g,e=>f9[e])}function b9(t){return{top:0,right:0,bottom:0,left:0,...t}}function Sw(t){return typeof t!="number"?b9(t):{top:t,right:t,bottom:t,left:t}}function cc(t){const{x:e,y:n,width:o,height:r}=t;return{width:o,height:r,top:n,left:e,right:e+o,bottom:n+r,x:e,y:n}}function Ew(t,e,n){let{reference:o,floating:r}=t;const s=vi(e),a=Ap(e),l=vp(a),c=Yn(e),d=s==="y",u=o.x+o.width/2-r.width/2,f=o.y+o.height/2-r.height/2,p=o[l]/2-r[l]/2;let h;switch(c){case"top":h={x:u,y:o.y-r.height};break;case"bottom":h={x:u,y:o.y+o.height};break;case"right":h={x:o.x+o.width,y:f};break;case"left":h={x:o.x-r.width,y:f};break;default:h={x:o.x,y:o.y}}switch(Ei(e)){case"start":h[a]-=p*(n&&d?-1:1);break;case"end":h[a]+=p*(n&&d?-1:1);break}return h}const w9=async(t,e,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:f}=Ew(d,o,c),p=o,h={},m=0;for(let g=0;g<l.length;g++){const{name:y,fn:b}=l[g],{x,y:k,data:w,reset:C}=await b({x:u,y:f,initialPlacement:o,placement:p,strategy:r,middlewareData:h,rects:d,platform:a,elements:{reference:t,floating:e}});u=x??u,f=k??f,h={...h,[y]:{...h[y],...w}},C&&m<=50&&(m++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(d=C.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:r}):C.rects),{x:u,y:f}=Ew(d,p,c)),g=-1)}return{x:u,y:f,placement:p,strategy:r,middlewareData:h}};async function Zs(t,e){var n;e===void 0&&(e={});const{x:o,y:r,platform:s,rects:a,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=Jn(e,t),m=Sw(h),y=l[p?f==="floating"?"reference":"floating":f],b=cc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),x=f==="floating"?{x:o,y:r,width:a.floating.width,height:a.floating.height}:a.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),w=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},C=cc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:k,strategy:c}):x);return{top:(b.top-C.top+m.top)/w.y,bottom:(C.bottom-b.bottom+m.bottom)/w.y,left:(b.left-C.left+m.left)/w.x,right:(C.right-b.right+m.right)/w.x}}const x9=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:r,rects:s,platform:a,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=Jn(t,e)||{};if(d==null)return{};const f=Sw(u),p={x:n,y:o},h=Ap(r),m=vp(h),g=await a.getDimensions(d),y=h==="y",b=y?"top":"left",x=y?"bottom":"right",k=y?"clientHeight":"clientWidth",w=s.reference[m]+s.reference[h]-p[h]-s.floating[m],C=p[h]-s.reference[h],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let v=S?S[k]:0;(!v||!await(a.isElement==null?void 0:a.isElement(S)))&&(v=l.floating[k]||s.floating[m]);const B=w/2-C/2,_=v/2-g[m]/2-1,E=Sn(f[b],_),T=Sn(f[x],_),M=E,$=v-g[m]-T,L=v/2-g[m]/2+B,U=Sp(M,L,$),O=!c.arrow&&Ei(r)!=null&&L!==U&&s.reference[m]/2-(L<M?E:T)-g[m]/2<0,A=O?L<M?L-M:L-$:0;return{[h]:p[h]+A,data:{[h]:U,centerOffset:L-U-A,...O&&{alignmentOffset:A}},reset:O}}}),k9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:r,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...y}=Jn(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=Yn(r),x=Yn(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(d.floating)),w=p||(x||!g?[lc(l)]:m9(l));!p&&m!=="none"&&w.push(...y9(l,g,m,k));const C=[l,...w],S=await Zs(e,y),v=[];let B=((o=s.flip)==null?void 0:o.overflows)||[];if(u&&v.push(S[b]),f){const M=h9(r,a,k);v.push(S[M[0]],S[M[1]])}if(B=[...B,{placement:r,overflows:v}],!v.every(M=>M<=0)){var _,E;const M=(((_=s.flip)==null?void 0:_.index)||0)+1,$=C[M];if($)return{data:{index:M,overflows:B},reset:{placement:$}};let L=(E=B.filter(U=>U.overflows[0]<=0).sort((U,O)=>U.overflows[1]-O.overflows[1])[0])==null?void 0:E.placement;if(!L)switch(h){case"bestFit":{var T;const U=(T=B.map(O=>[O.placement,O.overflows.filter(A=>A>0).reduce((A,N)=>A+N,0)]).sort((O,A)=>O[1]-A[1])[0])==null?void 0:T[0];U&&(L=U);break}case"initialPlacement":L=l;break}if(r!==L)return{reset:{placement:L}}}return{}}}};function vw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Aw(t){return u9.some(e=>t[e]>=0)}const C9=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...r}=Jn(t,e);switch(o){case"referenceHidden":{const s=await Zs(e,{...r,elementContext:"reference"}),a=vw(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Aw(a)}}}case"escaped":{const s=await Zs(e,{...r,altBoundary:!0}),a=vw(s,n.floating);return{data:{escapedOffsets:a,escaped:Aw(a)}}}default:return{}}}}};async function S9(t,e){const{placement:n,platform:o,elements:r}=t,s=await(o.isRTL==null?void 0:o.isRTL(r.floating)),a=Yn(n),l=Ei(n),c=vi(n)==="y",d=["left","top"].includes(a)?-1:1,u=s&&c?-1:1,f=Jn(e,t);let{mainAxis:p,crossAxis:h,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return l&&typeof m=="number"&&(h=l==="end"?m*-1:m),c?{x:h*u,y:p*d}:{x:p*d,y:h*u}}const E9=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:r,y:s,placement:a,middlewareData:l}=e,c=await S9(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:r+c.x,y:s+c.y,data:{...c,placement:a}}}}},v9=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:r}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:y=>{let{x:b,y:x}=y;return{x:b,y:x}}},...c}=Jn(t,e),d={x:n,y:o},u=await Zs(e,c),f=vi(Yn(r)),p=Ep(f);let h=d[p],m=d[f];if(s){const y=p==="y"?"top":"left",b=p==="y"?"bottom":"right",x=h+u[y],k=h-u[b];h=Sp(x,h,k)}if(a){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=m+u[y],k=m-u[b];m=Sp(x,m,k)}const g=l.fn({...e,[p]:h,[f]:m});return{...g,data:{x:g.x-n,y:g.y-o}}}}},A9=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:r,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Jn(t,e),u={x:n,y:o},f=vi(r),p=Ep(f);let h=u[p],m=u[f];const g=Jn(l,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const k=p==="y"?"height":"width",w=s.reference[p]-s.floating[k]+y.mainAxis,C=s.reference[p]+s.reference[k]-y.mainAxis;h<w?h=w:h>C&&(h=C)}if(d){var b,x;const k=p==="y"?"width":"height",w=["top","left"].includes(Yn(r)),C=s.reference[f]-s.floating[k]+(w&&((b=a.offset)==null?void 0:b[f])||0)+(w?0:y.crossAxis),S=s.reference[f]+s.reference[k]+(w?0:((x=a.offset)==null?void 0:x[f])||0)-(w?y.crossAxis:0);m<C?m=C:m>S&&(m=S)}return{[p]:h,[f]:m}}}},M9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:r,elements:s}=e,{apply:a=()=>{},...l}=Jn(t,e),c=await Zs(e,l),d=Yn(n),u=Ei(n),f=vi(n)==="y",{width:p,height:h}=o.floating;let m,g;d==="top"||d==="bottom"?(m=d,g=u===(await(r.isRTL==null?void 0:r.isRTL(s.floating))?"start":"end")?"left":"right"):(g=d,m=u==="end"?"top":"bottom");const y=h-c.top-c.bottom,b=p-c.left-c.right,x=Sn(h-c[m],y),k=Sn(p-c[g],b),w=!e.middlewareData.shift;let C=x,S=k;if(f?S=u||w?Sn(k,b):b:C=u||w?Sn(x,y):y,w&&!u){const B=Nt(c.left,0),_=Nt(c.right,0),E=Nt(c.top,0),T=Nt(c.bottom,0);f?S=p-2*(B!==0||_!==0?B+_:Nt(c.left,c.right)):C=h-2*(E!==0||T!==0?E+T:Nt(c.top,c.bottom))}await a({...e,availableWidth:S,availableHeight:C});const v=await r.getDimensions(s.floating);return p!==v.width||h!==v.height?{reset:{rects:!0}}:{}}}};function Tr(t){return _p(t)?(t.nodeName||"").toLowerCase():"#document"}function Pt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Xn(t){var e;return(e=(_p(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function _p(t){return t instanceof Node||t instanceof Pt(t).Node}function En(t){return t instanceof Element||t instanceof Pt(t).Element}function vn(t){return t instanceof HTMLElement||t instanceof Pt(t).HTMLElement}function Mw(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Pt(t).ShadowRoot}function Qs(t){const{overflow:e,overflowX:n,overflowY:o,display:r}=rn(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(r)}function _9(t){return["table","td","th"].includes(Tr(t))}function Tp(t){const e=Bp(),n=rn(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function T9(t){let e=zo(t);for(;vn(e)&&!Ai(e);){if(Tp(e))return e;e=zo(e)}return null}function Bp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ai(t){return["html","body","#document"].includes(Tr(t))}function rn(t){return Pt(t).getComputedStyle(t)}function dc(t){return En(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function zo(t){if(Tr(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Mw(t)&&t.host||Xn(t);return Mw(e)?e.host:e}function _w(t){const e=zo(t);return Ai(e)?t.ownerDocument?t.ownerDocument.body:t.body:vn(e)&&Qs(e)?e:_w(e)}function ea(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=_w(t),s=r===((o=t.ownerDocument)==null?void 0:o.body),a=Pt(r);return s?e.concat(a,a.visualViewport||[],Qs(r)?r:[],a.frameElement&&n?ea(a.frameElement):[]):e.concat(r,ea(r,[],n))}function Tw(t){const e=rn(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=vn(t),s=r?t.offsetWidth:n,a=r?t.offsetHeight:o,l=sc(n)!==s||sc(o)!==a;return l&&(n=s,o=a),{width:n,height:o,$:l}}function Op(t){return En(t)?t:t.contextElement}function Mi(t){const e=Op(t);if(!vn(e))return Vo(1);const n=e.getBoundingClientRect(),{width:o,height:r,$:s}=Tw(e);let a=(s?sc(n.width):n.width)/o,l=(s?sc(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const B9=Vo(0);function Bw(t){const e=Pt(t);return!Bp()||!e.visualViewport?B9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function O9(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Pt(t)?!1:e}function Br(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=Op(t);let a=Vo(1);e&&(o?En(o)&&(a=Mi(o)):a=Mi(t));const l=O9(s,n,o)?Bw(s):Vo(0);let c=(r.left+l.x)/a.x,d=(r.top+l.y)/a.y,u=r.width/a.x,f=r.height/a.y;if(s){const p=Pt(s),h=o&&En(o)?Pt(o):o;let m=p,g=m.frameElement;for(;g&&o&&h!==m;){const y=Mi(g),b=g.getBoundingClientRect(),x=rn(g),k=b.left+(g.clientLeft+parseFloat(x.paddingLeft))*y.x,w=b.top+(g.clientTop+parseFloat(x.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,f*=y.y,c+=k,d+=w,m=Pt(g),g=m.frameElement}}return cc({width:u,height:f,x:c,y:d})}const N9=[":popover-open",":modal"];function Np(t){return N9.some(e=>{try{return t.matches(e)}catch{return!1}})}function P9(t){let{elements:e,rect:n,offsetParent:o,strategy:r}=t;const s=r==="fixed",a=Xn(o),l=e?Np(e.floating):!1;if(o===a||l&&s)return n;let c={scrollLeft:0,scrollTop:0},d=Vo(1);const u=Vo(0),f=vn(o);if((f||!f&&!s)&&((Tr(o)!=="body"||Qs(a))&&(c=dc(o)),vn(o))){const p=Br(o);d=Mi(o),u.x=p.x+o.clientLeft,u.y=p.y+o.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x,y:n.y*d.y-c.scrollTop*d.y+u.y}}function I9(t){return Array.from(t.getClientRects())}function Ow(t){return Br(Xn(t)).left+dc(t).scrollLeft}function D9(t){const e=Xn(t),n=dc(t),o=t.ownerDocument.body,r=Nt(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),s=Nt(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let a=-n.scrollLeft+Ow(t);const l=-n.scrollTop;return rn(o).direction==="rtl"&&(a+=Nt(e.clientWidth,o.clientWidth)-r),{width:r,height:s,x:a,y:l}}function R9(t,e){const n=Pt(t),o=Xn(t),r=n.visualViewport;let s=o.clientWidth,a=o.clientHeight,l=0,c=0;if(r){s=r.width,a=r.height;const d=Bp();(!d||d&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:s,height:a,x:l,y:c}}function L9(t,e){const n=Br(t,!0,e==="fixed"),o=n.top+t.clientTop,r=n.left+t.clientLeft,s=vn(t)?Mi(t):Vo(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,c=r*s.x,d=o*s.y;return{width:a,height:l,x:c,y:d}}function Nw(t,e,n){let o;if(e==="viewport")o=R9(t,n);else if(e==="document")o=D9(Xn(t));else if(En(e))o=L9(e,n);else{const r=Bw(t);o={...e,x:e.x-r.x,y:e.y-r.y}}return cc(o)}function Pw(t,e){const n=zo(t);return n===e||!En(n)||Ai(n)?!1:rn(n).position==="fixed"||Pw(n,e)}function $9(t,e){const n=e.get(t);if(n)return n;let o=ea(t,[],!1).filter(l=>En(l)&&Tr(l)!=="body"),r=null;const s=rn(t).position==="fixed";let a=s?zo(t):t;for(;En(a)&&!Ai(a);){const l=rn(a),c=Tp(a);!c&&l.position==="fixed"&&(r=null),(s?!c&&!r:!c&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Qs(a)&&!c&&Pw(t,a))?o=o.filter(u=>u!==a):r=l,a=zo(a)}return e.set(t,o),o}function V9(t){let{element:e,boundary:n,rootBoundary:o,strategy:r}=t;const a=[...n==="clippingAncestors"?Np(e)?[]:$9(e,this._c):[].concat(n),o],l=a[0],c=a.reduce((d,u)=>{const f=Nw(e,u,r);return d.top=Nt(f.top,d.top),d.right=Sn(f.right,d.right),d.bottom=Sn(f.bottom,d.bottom),d.left=Nt(f.left,d.left),d},Nw(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function z9(t){const{width:e,height:n}=Tw(t);return{width:e,height:n}}function F9(t,e,n){const o=vn(e),r=Xn(e),s=n==="fixed",a=Br(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=Vo(0);if(o||!o&&!s)if((Tr(e)!=="body"||Qs(r))&&(l=dc(e)),o){const f=Br(e,!0,s,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else r&&(c.x=Ow(r));const d=a.left+l.scrollLeft-c.x,u=a.top+l.scrollTop-c.y;return{x:d,y:u,width:a.width,height:a.height}}function Pp(t){return rn(t).position==="static"}function Iw(t,e){return!vn(t)||rn(t).position==="fixed"?null:e?e(t):t.offsetParent}function Dw(t,e){const n=Pt(t);if(Np(t))return n;if(!vn(t)){let r=zo(t);for(;r&&!Ai(r);){if(En(r)&&!Pp(r))return r;r=zo(r)}return n}let o=Iw(t,e);for(;o&&_9(o)&&Pp(o);)o=Iw(o,e);return o&&Ai(o)&&Pp(o)&&!Tp(o)?n:o||T9(t)||n}const H9=async function(t){const e=this.getOffsetParent||Dw,n=this.getDimensions,o=await n(t.floating);return{reference:F9(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function j9(t){return rn(t).direction==="rtl"}const U9={convertOffsetParentRelativeRectToViewportRelativeRect:P9,getDocumentElement:Xn,getClippingRect:V9,getOffsetParent:Dw,getElementRects:H9,getClientRects:I9,getDimensions:z9,getScale:Mi,isElement:En,isRTL:j9};function W9(t,e){let n=null,o;const r=Xn(t);function s(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const{left:d,top:u,width:f,height:p}=t.getBoundingClientRect();if(l||e(),!f||!p)return;const h=ac(u),m=ac(r.clientWidth-(d+f)),g=ac(r.clientHeight-(u+p)),y=ac(d),x={rootMargin:-h+"px "+-m+"px "+-g+"px "+-y+"px",threshold:Nt(0,Sn(1,c))||1};let k=!0;function w(C){const S=C[0].intersectionRatio;if(S!==c){if(!k)return a();S?a(!1,S):o=setTimeout(()=>{a(!1,1e-7)},1e3)}k=!1}try{n=new IntersectionObserver(w,{...x,root:r.ownerDocument})}catch{n=new IntersectionObserver(w,x)}n.observe(t)}return a(!0),s}function K9(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=o,d=Op(t),u=r||s?[...d?ea(d):[],...ea(e)]:[];u.forEach(b=>{r&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=d&&l?W9(d,n):null;let p=-1,h=null;a&&(h=new ResizeObserver(b=>{let[x]=b;x&&x.target===d&&h&&(h.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var k;(k=h)==null||k.observe(e)})),n()}),d&&!c&&h.observe(d),h.observe(e));let m,g=c?Br(t):null;c&&y();function y(){const b=Br(t);g&&(b.x!==g.x||b.y!==g.y||b.width!==g.width||b.height!==g.height)&&n(),g=b,m=requestAnimationFrame(y)}return n(),()=>{var b;u.forEach(x=>{r&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),f==null||f(),(b=h)==null||b.disconnect(),h=null,c&&cancelAnimationFrame(m)}}const q9=E9,G9=v9,Rw=k9,J9=M9,Y9=C9,X9=x9,Z9=A9,Q9=(t,e,n)=>{const o=new Map,r={platform:U9,...n},s={...r.platform,_c:o};return w9(t,e,{...r,platform:s})};function eB(t){return t!=null&&typeof t=="object"&&"$el"in t}function Ip(t){if(eB(t)){const e=t.$el;return _p(e)&&Tr(e)==="#comment"?null:e}return t}function tB(t){return{name:"arrow",options:t,fn(e){const n=Ip(i.unref(t.element));return n==null?{}:X9({element:n,padding:t.padding}).fn(e)}}}function Lw(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function $w(t,e){const n=Lw(t);return Math.round(e*n)/n}function nB(t,e,n){n===void 0&&(n={});const o=n.whileElementsMounted,r=i.computed(()=>{var v;return(v=i.unref(n.open))!=null?v:!0}),s=i.computed(()=>i.unref(n.middleware)),a=i.computed(()=>{var v;return(v=i.unref(n.placement))!=null?v:"bottom"}),l=i.computed(()=>{var v;return(v=i.unref(n.strategy))!=null?v:"absolute"}),c=i.computed(()=>{var v;return(v=i.unref(n.transform))!=null?v:!0}),d=i.computed(()=>Ip(t.value)),u=i.computed(()=>Ip(e.value)),f=i.ref(0),p=i.ref(0),h=i.ref(l.value),m=i.ref(a.value),g=i.shallowRef({}),y=i.ref(!1),b=i.computed(()=>{const v={position:h.value,left:"0",top:"0"};if(!u.value)return v;const B=$w(u.value,f.value),_=$w(u.value,p.value);return c.value?{...v,transform:"translate("+B+"px, "+_+"px)",...Lw(u.value)>=1.5&&{willChange:"transform"}}:{position:h.value,left:B+"px",top:_+"px"}});let x;function k(){d.value==null||u.value==null||Q9(d.value,u.value,{middleware:s.value,placement:a.value,strategy:l.value}).then(v=>{f.value=v.x,p.value=v.y,h.value=v.strategy,m.value=v.placement,g.value=v.middlewareData,y.value=!0})}function w(){typeof x=="function"&&(x(),x=void 0)}function C(){if(w(),o===void 0){k();return}if(d.value!=null&&u.value!=null){x=o(d.value,u.value,k);return}}function S(){r.value||(y.value=!1)}return i.watch([s,a,l],k,{flush:"sync"}),i.watch([d,u],C,{flush:"sync"}),i.watch(r,S,{flush:"sync"}),i.getCurrentScope()&&i.onScopeDispose(w),{x:i.shallowReadonly(f),y:i.shallowReadonly(p),strategy:i.shallowReadonly(h),placement:i.shallowReadonly(m),middlewareData:i.shallowReadonly(g),isPositioned:i.shallowReadonly(y),floatingStyles:b,update:k}}function Ce(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,o=Symbol(n);return[r=>{const s=i.inject(o,r);if(s||s===null)return s;throw new Error(`Injection \`${o.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},r=>(i.provide(o,r),r)]}function Vw(t,e,n){const o=n.originalEvent.target,r=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),o.dispatchEvent(r)}function Dp(t,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.min(Math.max(t,e),n)}function oB(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const ta=typeof document<"u";function rB(t){return t==null}function iB(t,e){var n;const o=i.shallowRef();return i.watchEffect(()=>{o.value=t()},{...e,flush:(n=void 0)!=null?n:"sync"}),i.readonly(o)}function Or(t){return i.getCurrentScope()?(i.onScopeDispose(t),!0):!1}function sB(){const t=new Set,e=n=>{t.delete(n)};return{on:n=>{t.add(n);const o=()=>e(n);return Or(o),{off:o}},off:e,trigger:(...n)=>Promise.all(Array.from(t).map(o=>o(...n)))}}function aB(t){let e=!1,n;const o=i.effectScope(!0);return(...r)=>(e||(n=o.run(()=>t(...r)),e=!0),n)}function lB(t){let e=0,n,o;const r=()=>{e-=1,o&&e<=0&&(o.stop(),n=void 0,o=void 0)};return(...s)=>(e+=1,n||(o=i.effectScope(!0),n=o.run(()=>t(...s))),Or(r),n)}function An(t){return typeof t=="function"?t():i.unref(t)}const Mn=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const cB=t=>typeof t<"u",dB=Object.prototype.toString,uB=t=>dB.call(t)==="[object Object]",uc=()=>{},zw=fB();function fB(){var t,e;return Mn&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function pB(t,e){function n(...o){return new Promise((r,s)=>{Promise.resolve(t(()=>e.apply(this,o),{fn:e,thisArg:this,args:o})).then(r).catch(s)})}return n}function hB(t,e={}){let n,o,r=uc;const s=a=>{clearTimeout(a),r(),r=uc};return a=>{const l=An(t),c=An(e.maxWait);return n&&s(n),l<=0||c!==void 0&&c<=0?(o&&(s(o),o=null),Promise.resolve(a())):new Promise((d,u)=>{r=e.rejectOnCancel?u:d,c&&!o&&(o=setTimeout(()=>{n&&s(n),o=null,d(a())},c)),n=setTimeout(()=>{o&&s(o),o=null,d(a())},l)})}}function mB(t){return i.getCurrentInstance()}function Fw(t,e=1e4){return i.customRef((n,o)=>{let r=An(t),s;const a=()=>setTimeout(()=>{r=An(t),o()},An(e));return Or(()=>{clearTimeout(s)}),{get(){return n(),r},set(l){r=l,o(),clearTimeout(s),s=a()}}})}function Hw(t,e=200,n={}){return pB(hB(e,n),t)}function gB(t,e){mB()&&i.onBeforeUnmount(t,e)}function Rp(t,e,n={}){const{immediate:o=!0}=n,r=i.ref(!1);let s=null;function a(){s&&(clearTimeout(s),s=null)}function l(){r.value=!1,a()}function c(...d){a(),r.value=!0,s=setTimeout(()=>{r.value=!1,s=null,t(...d)},An(e))}return o&&(r.value=!0,Mn&&c()),Or(l),{isPending:i.readonly(r),start:c,stop:l}}function yB(t=1e3,e={}){const{controls:n=!1,callback:o}=e,r=Rp(o??uc,t,e),s=i.computed(()=>!r.isPending.value);return n?{ready:s,...r}:s}function bB(t,e,n){const o=i.watch(t,(...r)=>(i.nextTick(()=>o()),e(...r)),n);return o}function It(t){var e;const n=An(t);return(e=n==null?void 0:n.$el)!=null?e:n}const fc=Mn?window:void 0;function pc(...t){let e,n,o,r;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,o,r]=t,e=fc):[e,n,o,r]=t,!e)return uc;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const s=[],a=()=>{s.forEach(u=>u()),s.length=0},l=(u,f,p,h)=>(u.addEventListener(f,p,h),()=>u.removeEventListener(f,p,h)),c=i.watch(()=>[It(e),An(r)],([u,f])=>{if(a(),!u)return;const p=uB(f)?{...f}:f;s.push(...n.flatMap(h=>o.map(m=>l(u,h,m,p))))},{immediate:!0,flush:"post"}),d=()=>{c(),a()};return Or(d),d}function wB(t){return typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0}function Lp(...t){let e,n,o={};t.length===3?(e=t[0],n=t[1],o=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,n=t[0],o=t[1]):(e=t[0],n=t[1]):(e=!0,n=t[0]);const{target:r=fc,eventName:s="keydown",passive:a=!1,dedupe:l=!1}=o,c=wB(e);return pc(r,s,d=>{d.repeat&&An(l)||c(d)&&n(d)},a)}function jw(){const t=i.ref(!1),e=i.getCurrentInstance();return e&&i.onMounted(()=>{t.value=!0},e),t}function xB(t){const e=jw();return i.computed(()=>(e.value,!!t()))}function Uw(t,e={}){const{immediate:n=!0,fpsLimit:o=void 0,window:r=fc}=e,s=i.ref(!1),a=o?1e3/o:null;let l=0,c=null;function d(p){if(!s.value||!r)return;l||(l=p);const h=p-l;if(a&&h<a){c=r.requestAnimationFrame(d);return}l=p,t({delta:h,timestamp:p}),c=r.requestAnimationFrame(d)}function u(){!s.value&&r&&(s.value=!0,l=0,c=r.requestAnimationFrame(d))}function f(){s.value=!1,c!=null&&r&&(r.cancelAnimationFrame(c),c=null)}return n&&u(),Or(f),{isActive:i.readonly(s),pause:f,resume:u}}function kB(t){return JSON.parse(JSON.stringify(t))}function _i(t,e,n={}){const{window:o=fc,...r}=n;let s;const a=xB(()=>o&&"ResizeObserver"in o),l=()=>{s&&(s.disconnect(),s=void 0)},c=i.computed(()=>Array.isArray(t)?t.map(f=>It(f)):[It(t)]),d=i.watch(c,f=>{if(l(),a.value&&o){s=new ResizeObserver(e);for(const p of f)p&&s.observe(p,r)}},{immediate:!0,flush:"post"}),u=()=>{l(),d()};return Or(u),{isSupported:a,stop:u}}function at(t,e,n,o={}){var r,s,a;const{clone:l=!1,passive:c=!1,eventName:d,deep:u=!1,defaultValue:f,shouldEmit:p}=o,h=i.getCurrentInstance(),m=n||(h==null?void 0:h.emit)||((r=h==null?void 0:h.$emit)==null?void 0:r.bind(h))||((a=(s=h==null?void 0:h.proxy)==null?void 0:s.$emit)==null?void 0:a.bind(h==null?void 0:h.proxy));let g=d;e||(e="modelValue"),g=g||`update:${e.toString()}`;const y=k=>l?typeof l=="function"?l(k):kB(k):k,b=()=>cB(t[e])?y(t[e]):f,x=k=>{p?p(k)&&m(g,k):m(g,k)};if(c){const k=b(),w=i.ref(k);let C=!1;return i.watch(()=>t[e],S=>{C||(C=!0,w.value=y(S),i.nextTick(()=>C=!1))}),i.watch(w,S=>{!C&&(S!==t[e]||u)&&x(S)},{deep:u}),w}else return i.computed({get(){return b()},set(k){x(k)}})}function hc(t){return t?t.flatMap(e=>e.type===i.Fragment?hc(e.children):[e]):[]}const CB=["INPUT","TEXTAREA"];function SB(t,e,n,o={}){if(!e||o.enableIgnoredElement&&CB.includes(e.nodeName))return null;const{arrowKeyOptions:r="both",attributeName:s="[data-radix-vue-collection-item]",itemsArray:a=[],loop:l=!0,dir:c="ltr",preventScroll:d=!0,focus:u=!1}=o,[f,p,h,m,g,y]=[t.key==="ArrowRight",t.key==="ArrowLeft",t.key==="ArrowUp",t.key==="ArrowDown",t.key==="Home",t.key==="End"],b=h||m,x=f||p;if(!g&&!y&&(!b&&!x||r==="vertical"&&x||r==="horizontal"&&b))return null;const k=n?Array.from(n.querySelectorAll(s)):a;if(!k.length)return null;d&&t.preventDefault();let w=null;return x||b?w=Ww(k,e,{goForward:b?m:c==="ltr"?f:p,loop:l}):g?w=k.at(0)||null:y&&(w=k.at(-1)||null),u&&(w==null||w.focus()),w}function Ww(t,e,n,o=t.length){if(--o===0)return null;const r=t.indexOf(e),s=n.goForward?r+1:r-1;if(!n.loop&&(s<0||s>=t.length))return null;const a=(s+t.length)%t.length,l=t[a];return l?l.hasAttribute("disabled")&&l.getAttribute("disabled")!=="false"?Ww(t,l,n,o):l:null}function $p(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function Vp(t,e,n=".",o){if(!$p(e))return Vp(t,{},n);const r=Object.assign({},e);for(const s in t){if(s==="__proto__"||s==="constructor")continue;const a=t[s];a!=null&&(Array.isArray(a)&&Array.isArray(r[s])?r[s]=[...a,...r[s]]:$p(a)&&$p(r[s])?r[s]=Vp(a,r[s],(n?`${n}.`:"")+s.toString()):r[s]=a)}return r}function EB(t){return(...e)=>e.reduce((n,o)=>Vp(n,o,""),{})}const vB=EB(),[zp,oG]=Ce("ConfigProvider");let AB="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",MB=(t=21)=>{let e="",n=t;for(;n--;)e+=AB[Math.random()*64|0];return e};const _B=lB(()=>{const t=i.ref(new Map),e=i.ref(),n=i.computed(()=>{for(const a of t.value.values())if(a)return!0;return!1}),o=zp({scrollBody:i.ref(!0)});let r=null;const s=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.body.style.removeProperty("--scrollbar-width"),document.body.style.overflow=e.value??"",zw&&(r==null||r()),e.value=void 0};return i.watch(n,(a,l)=>{var c;if(!Mn)return;if(!a){l&&s();return}e.value===void 0&&(e.value=document.body.style.overflow);const d=window.innerWidth-document.documentElement.clientWidth,u={padding:d,margin:0},f=(c=o.scrollBody)!=null&&c.value?typeof o.scrollBody.value=="object"?vB({padding:o.scrollBody.value.padding===!0?d:o.scrollBody.value.padding,margin:o.scrollBody.value.margin===!0?d:o.scrollBody.value.margin},u):u:{padding:0,margin:0};d>0&&(document.body.style.paddingRight=`${f.padding}px`,document.body.style.marginRight=`${f.margin}px`,document.body.style.setProperty("--scrollbar-width",`${d}px`),document.body.style.overflow="hidden"),zw&&(r=pc(document,"touchmove",p=>{var h;p.target===document.documentElement&&(p.touches.length>1||(h=p.preventDefault)==null||h.call(p))},{passive:!1})),i.nextTick(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),t});function mc(t){const e=MB(6),n=_B();n.value.set(e,t??!1);const o=i.computed({get:()=>n.value.get(e)??!1,set:r=>n.value.set(e,r)});return gB(()=>{n.value.delete(e)}),o}const TB="data-radix-vue-collection-item";function _n(t,e=TB){const n=t??Symbol();return{createCollection:o=>{const r=i.ref([]);function s(){const a=It(o);return a?r.value=Array.from(a.querySelectorAll(`[${e}]:not([data-disabled])`)):r.value=[]}return i.onBeforeUpdate(()=>{r.value=[]}),i.onMounted(s),i.onUpdated(s),i.watch(()=>o==null?void 0:o.value,s,{immediate:!0}),i.provide(n,r),r},injectCollection:()=>i.inject(n,i.ref([]))}}function Zn(t){const e=zp({dir:i.ref("ltr")});return i.computed(()=>{var n;return(t==null?void 0:t.value)||((n=e.dir)==null?void 0:n.value)||"ltr"})}function Fo(t){const e=i.getCurrentInstance(),n=e==null?void 0:e.type.emits,o={};return n!=null&&n.length||console.warn(`No emitted event found. Please check component: ${e==null?void 0:e.type.__name}`),n==null||n.forEach(r=>{o[i.toHandlerKey(i.camelize(r))]=(...s)=>t(r,...s)}),o}let Fp=0;function Hp(){i.watchEffect(t=>{if(!Mn)return;const e=document.querySelectorAll("[data-radix-focus-guard]");document.body.insertAdjacentElement("afterbegin",e[0]??Kw()),document.body.insertAdjacentElement("beforeend",e[1]??Kw()),Fp++,t(()=>{Fp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Fp--})})}function Kw(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}function qw(t){return i.computed(()=>{var e;return An(t)?!!((e=It(t))!=null&&e.closest("form")):!0})}function Ze(t){const e=i.getCurrentInstance(),n=Object.keys((e==null?void 0:e.type.props)??{}).reduce((r,s)=>{const a=(e==null?void 0:e.type.props[s]).default;return a!==void 0&&(r[s]=a),r},{}),o=i.toRef(t);return i.computed(()=>{const r={},s=(e==null?void 0:e.vnode.props)??{};return Object.keys(s).forEach(a=>{r[i.camelize(a)]=s[a]}),Object.keys({...n,...r}).reduce((a,l)=>(o.value[l]!==void 0&&(a[l]=o.value[l]),a),{})})}function he(t,e){const n=Ze(t),o=e?Fo(e):{};return i.computed(()=>({...n.value,...o}))}function V(){const t=i.getCurrentInstance(),e=i.ref(),n=i.computed(()=>{var a,l;return["#text","#comment"].includes((a=e.value)==null?void 0:a.$el.nodeName)?(l=e.value)==null?void 0:l.$el.nextElementSibling:It(e)}),o=Object.assign({},t.exposed),r={};for(const a in t.props)Object.defineProperty(r,a,{enumerable:!0,configurable:!0,get:()=>t.props[a]});if(Object.keys(o).length>0)for(const a in o)Object.defineProperty(r,a,{enumerable:!0,configurable:!0,get:()=>o[a]});Object.defineProperty(r,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=r;function s(a){e.value=a,!(a instanceof Element||!a)&&(Object.defineProperty(r,"$el",{enumerable:!0,configurable:!0,get:()=>a.$el}),t.exposed=r)}return{forwardRef:s,currentRef:e,currentElement:n}}function BB(t,e){const n=Fw(!1,300),o=i.ref(null),r=sB();function s(){o.value=null,n.value=!1}function a(l,c){const d=l.currentTarget,u={x:l.clientX,y:l.clientY},f=OB(u,d.getBoundingClientRect()),p=NB(u,f),h=PB(c.getBoundingClientRect()),m=DB([...p,...h]);o.value=m,n.value=!0}return i.watchEffect(l=>{if(t.value&&e.value){const c=u=>a(u,e.value),d=u=>a(u,t.value);t.value.addEventListener("pointerleave",c),e.value.addEventListener("pointerleave",d),l(()=>{var u,f;(u=t.value)==null||u.removeEventListener("pointerleave",c),(f=e.value)==null||f.removeEventListener("pointerleave",d)})}}),i.watchEffect(l=>{if(o.value){const c=d=>{var u,f;if(!o.value)return;const p=d.target,h={x:d.clientX,y:d.clientY},m=((u=t.value)==null?void 0:u.contains(p))||((f=e.value)==null?void 0:f.contains(p)),g=!IB(h,o.value);m?s():g&&(s(),r.trigger())};document.addEventListener("pointermove",c),l(()=>document.removeEventListener("pointermove",c))}}),{isPointerInTransit:n,onPointerExit:r.on}}function OB(t,e){const n=Math.abs(e.top-t.y),o=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,o,r,s)){case s:return"left";case r:return"right";case n:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function NB(t,e,n=5){const o=[];switch(e){case"top":o.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":o.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":o.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":o.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return o}function PB(t){const{top:e,right:n,bottom:o,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:o},{x:r,y:o}]}function IB(t,e){const{x:n,y:o}=t;let r=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s].x,c=e[s].y,d=e[a].x,u=e[a].y;c>o!=u>o&&n<(d-l)*(o-c)/(u-c)+l&&(r=!r)}return r}function DB(t){const e=t.slice();return e.sort((n,o)=>n.x<o.x?-1:n.x>o.x?1:n.y<o.y?-1:n.y>o.y?1:0),RB(e)}function RB(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const r=t[o];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(r.y-a.y)>=(s.y-a.y)*(r.x-a.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const r=t[o];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(r.y-a.y)>=(s.y-a.y)*(r.x-a.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var LB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ti=new WeakMap,gc=new WeakMap,yc={},jp=0,Gw=function(t){return t&&(t.host||Gw(t.parentNode))},$B=function(t,e){return e.map(function(n){if(t.contains(n))return n;var o=Gw(n);return o&&t.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},VB=function(t,e,n,o){var r=$B(e,Array.isArray(t)?t:[t]);yc[n]||(yc[n]=new WeakMap);var s=yc[n],a=[],l=new Set,c=new Set(r),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};r.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))u(p);else{var h=p.getAttribute(o),m=h!==null&&h!=="false",g=(Ti.get(p)||0)+1,y=(s.get(p)||0)+1;Ti.set(p,g),s.set(p,y),a.push(p),g===1&&m&&gc.set(p,!0),y===1&&p.setAttribute(n,"true"),m||p.setAttribute(o,"true")}})};return u(e),l.clear(),jp++,function(){a.forEach(function(f){var p=Ti.get(f)-1,h=s.get(f)-1;Ti.set(f,p),s.set(f,h),p||(gc.has(f)||f.removeAttribute(o),gc.delete(f)),h||f.removeAttribute(n)}),jp--,jp||(Ti=new WeakMap,Ti=new WeakMap,gc=new WeakMap,yc={})}},zB=function(t,e,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),r=LB(t);return r?(o.push.apply(o,Array.from(r.querySelectorAll("[aria-live]"))),VB(o,r,n,"aria-hidden")):function(){return null}};function bc(t){let e;i.watch(()=>It(t),n=>{n?e=zB(n):e&&e()}),i.onUnmounted(()=>{e&&e()})}let FB=0;function Qe(t,e="radix"){if(t)return t;const{useId:n}=zp({useId:void 0});return n&&typeof n=="function"?`${e}-${n()}`:`${e}-${++FB}`}function HB(t){const e=i.ref(),n=i.computed(()=>{var r;return((r=e.value)==null?void 0:r.width)??0}),o=i.computed(()=>{var r;return((r=e.value)==null?void 0:r.height)??0});return i.onMounted(()=>{const r=It(t);if(r){e.value={width:r.offsetWidth,height:r.offsetHeight};const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let c,d;if("borderBoxSize"in l){const u=l.borderBoxSize,f=Array.isArray(u)?u[0]:u;c=f.inlineSize,d=f.blockSize}else c=r.offsetWidth,d=r.offsetHeight;e.value={width:c,height:d}});return s.observe(r,{box:"border-box"}),()=>s.unobserve(r)}else e.value=void 0}),{width:n,height:o}}function Jw(t,e){const n=i.ref(t);function o(r){return e[n.value][r]??n.value}return{state:n,dispatch:r=>{n.value=o(r)}}}function Up(t){const e=Fw("",1e3);return{search:e,handleTypeaheadSearch:(n,o)=>{var r,s;if(!(t!=null&&t.value)&&!o)return;e.value=e.value+n;const a=(t==null?void 0:t.value)??o,l=document.activeElement,c=((s=(r=a.find(p=>p===l))==null?void 0:r.textContent)==null?void 0:s.trim())??"",d=a.map(p=>{var h;return((h=p.textContent)==null?void 0:h.trim())??""}),u=jB(d,e.value,c),f=a.find(p=>{var h;return((h=p.textContent)==null?void 0:h.trim())===u});return f&&f.focus(),f},resetTypeahead:()=>{e.value=""}}}function Yw(t,e){return t.map((n,o)=>t[(e+o)%t.length])}function jB(t,e,n){const o=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,r=n?t.indexOf(n):-1;let s=Yw(t,Math.max(r,0));o.length===1&&(s=s.filter(l=>l!==n));const a=s.find(l=>l.toLowerCase().startsWith(o.toLowerCase()));return a!==n?a:void 0}const Wp=i.defineComponent({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{var o,r;if(!n.default)return null;const s=hc(n.default()),a=s.findIndex(u=>u.type!==i.Comment);if(a===-1)return s;const l=s[a];(o=l.props)==null||delete o.ref;const c=l.props?i.mergeProps(e,l.props):e;e.class&&(r=l.props)!=null&&r.class&&delete l.props.class;const d=i.cloneVNode(l,c);for(const u in c)u.startsWith("on")&&(d.props||(d.props={}),d.props[u]=c[u]);return s.length===1?d:(s[a]=d,s)}}}),G=i.defineComponent({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const o=t.asChild?"template":t.as;return typeof o=="string"&&["area","img","input"].includes(o)?()=>i.h(o,e):o!=="template"?()=>i.h(t.as,e,{default:n.default}):()=>i.h(Wp,e,{default:n.default})}});function Xw(){const t=i.ref(),e=i.computed(()=>{var n,o;return["#text","#comment"].includes((n=t.value)==null?void 0:n.$el.nodeName)?(o=t.value)==null?void 0:o.$el.nextElementSibling:It(t)});return{primitiveElement:t,currentElement:e}}function UB(t,e){const n=i.ref({}),o=i.ref("none"),r=t.value?"mounted":"unmounted",{state:s,dispatch:a}=Jw(r,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),l=p=>{var h;if(Mn){const m=new CustomEvent(p,{bubbles:!1,cancelable:!1});(h=e.value)==null||h.dispatchEvent(m)}};i.watch(t,async(p,h)=>{var m;const g=h!==p;if(await i.nextTick(),g){const y=o.value,b=wc(e.value);p?(a("MOUNT"),l("enter"),b==="none"&&l("after-enter")):b==="none"||((m=n.value)==null?void 0:m.display)==="none"?(a("UNMOUNT"),l("leave"),l("after-leave")):h&&y!==b?(a("ANIMATION_OUT"),l("leave")):(a("UNMOUNT"),l("after-leave"))}},{immediate:!0});const c=p=>{const h=wc(e.value),m=h.includes(p.animationName),g=s.value==="mounted"?"enter":"leave";p.target===e.value&&m&&(l(`after-${g}`),a("ANIMATION_END")),p.target===e.value&&h==="none"&&a("ANIMATION_END")},d=p=>{p.target===e.value&&(o.value=wc(e.value))},u=i.watch(e,(p,h)=>{p?(n.value=getComputedStyle(p),p.addEventListener("animationstart",d),p.addEventListener("animationcancel",c),p.addEventListener("animationend",c)):(a("ANIMATION_END"),h==null||h.removeEventListener("animationstart",d),h==null||h.removeEventListener("animationcancel",c),h==null||h.removeEventListener("animationend",c))},{immediate:!0}),f=i.watch(s,()=>{const p=wc(e.value);o.value=s.value==="mounted"?p:"none"});return i.onUnmounted(()=>{u(),f()}),{isPresent:i.computed(()=>["mounted","unmountSuspended"].includes(s.value))}}function wc(t){return t&&getComputedStyle(t).animationName||"none"}const Dt=i.defineComponent({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:n}){var o;const{present:r,forceMount:s}=i.toRefs(t),a=i.ref(),{isPresent:l}=UB(r,a);n({present:l});let c=e.default({present:l});c=hc(c||[]);const d=i.getCurrentInstance();if(c&&(c==null?void 0:c.length)>1){const u=(o=d==null?void 0:d.parent)!=null&&o.type.name?`<${d.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${u}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}return()=>s.value||r.value||l.value?i.h(e.default({present:l})[0],{ref:u=>{const f=It(u);return typeof(f==null?void 0:f.hasAttribute)>"u"||(f!=null&&f.hasAttribute("data-radix-popper-content-wrapper")?a.value=f.firstElementChild:a.value=f),f}}):null}});function Zw({type:t,defaultValue:e,modelValue:n}){const o=n||e;if(!t&&!n&&!e)throw new Error("Either the `type` or the `value` or `default-value` prop must be defined.");if(n!==void 0&&e!==void 0&&typeof n!=typeof e)throw new Error(`Invalid prop \`value\` of value \`${n}\` supplied, should be the same type as the \`defaultValue\` prop, which is \`${e}\`. The \`value\` prop must be:
  ${t==="single"?"- a string":t==="multiple"?"- an array of strings":`- a string
- an array of strings`}
  - \`undefined\``);const r=n!==void 0||e!==void 0;if(t&&r){const s=Array.isArray(n)||Array.isArray(e),a=n!==void 0?"modelValue":"defaultValue",l=a==="modelValue"?typeof n:typeof e;if(t==="single"&&s)return console.error(`Invalid prop \`${a}\` of type ${l} supplied with type \`single\`. The \`modelValue\` prop must be a string or \`undefined\`.
You can remove the \`type\` prop to let the component infer the type from the ${a} prop.`),"multiple";if(t==="multiple"&&!s)return console.error(`Invalid prop \`${a}\` of type ${l} supplied with type \`multiple\`. The \`modelValue\` prop must be an array of strings or \`undefined\`.
    You can remove the \`type\` prop to let the component infer the type from the ${a} prop.`),"single"}return r?Array.isArray(o)?"multiple":"single":t}function WB({type:t,defaultValue:e,modelValue:n}){return t||Zw({type:t,defaultValue:e,modelValue:n})}function KB({type:t,defaultValue:e}){return e!==void 0?e:t==="single"?void 0:[]}function qB(t,e){const n=i.ref(WB(t)),o=at(t,"modelValue",e,{defaultValue:KB(t),passive:t.modelValue===void 0});i.watch(()=>[t.type,t.modelValue,t.defaultValue],()=>{const a=Zw(t);n.value!==a&&(n.value=a)},{immediate:!0});function r(a){if(n.value==="single")o.value=a===o.value?void 0:a;else{const l=o.value||[];if(l.includes(a)){const c=l.findIndex(d=>d===a);l.splice(c,1)}else l.push(a);o.value=l,e("update:modelValue",o.value)}}const s=i.computed(()=>n.value==="single");return{modelValue:o,type:n,changeModelValue:r,isSingle:s}}const[Qn,GB]=Ce("DialogRoot"),JB=i.defineComponent({__name:"DialogRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:!1},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(t,{emit:e}){const n=t,o=at(n,"open",e,{defaultValue:n.defaultOpen,passive:n.open===void 0}),r=i.ref(),s=i.ref(),{modal:a}=i.toRefs(n);return GB({open:o,modal:a,openModal:()=>{o.value=!0},onOpenChange:l=>{o.value=l},onOpenToggle:()=>{o.value=!o.value},contentId:"",titleId:"",descriptionId:"",triggerElement:r,contentElement:s}),(l,c)=>i.renderSlot(l.$slots,"default",{open:i.unref(o)})}}),na=i.defineComponent({__name:"Teleport",props:{to:{default:"body"},disabled:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=jw();return(n,o)=>i.unref(e)||n.forceMount?(i.openBlock(),i.createBlock(i.Teleport,{key:0,to:n.to,disabled:n.disabled},[i.renderSlot(n.$slots,"default")],8,["to","disabled"])):i.createCommentVNode("",!0)}}),YB=i.defineComponent({__name:"DialogPortal",props:{to:{},disabled:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(na),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),XB="dismissableLayer.pointerDownOutside",ZB="dismissableLayer.focusOutside";function Qw(t,e){const n=e.closest("[data-dismissable-layer]"),o=t.querySelector("[data-dismissable-layer]"),r=Array.from(t.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&o===n||r.indexOf(o)<r.indexOf(n))}function QB(t,e){var n;const o=((n=e==null?void 0:e.value)==null?void 0:n.ownerDocument)??(globalThis==null?void 0:globalThis.document),r=i.ref(!1),s=i.ref(()=>{});return i.watchEffect(a=>{if(!Mn)return;const l=async d=>{const u=d.target;if(e!=null&&e.value){if(Qw(e.value,u)){r.value=!1;return}if(d.target&&!r.value){let f=function(){Vw(XB,t,p)};const p={originalEvent:d};d.pointerType==="touch"?(o.removeEventListener("click",s.value),s.value=f,o.addEventListener("click",s.value,{once:!0})):f()}else o.removeEventListener("click",s.value);r.value=!1}},c=window.setTimeout(()=>{o.addEventListener("pointerdown",l)},0);a(()=>{window.clearTimeout(c),o.removeEventListener("pointerdown",l),o.removeEventListener("click",s.value)})}),{onPointerDownCapture:()=>r.value=!0}}function eO(t,e){var n;const o=((n=e==null?void 0:e.value)==null?void 0:n.ownerDocument)??(globalThis==null?void 0:globalThis.document),r=i.ref(!1);return i.watchEffect(s=>{if(!Mn)return;const a=async l=>{e!=null&&e.value&&(await i.nextTick(),!(!e.value||Qw(e.value,l.target))&&l.target&&!r.value&&Vw(ZB,t,{originalEvent:l}))};o.addEventListener("focusin",a),s(()=>o.removeEventListener("focusin",a))}),{onFocusCapture:()=>r.value=!0,onBlurCapture:()=>r.value=!1}}const sn=i.reactive({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oa=i.defineComponent({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r,currentElement:s}=V(),a=i.computed(()=>{var m;return((m=s.value)==null?void 0:m.ownerDocument)??globalThis.document}),l=i.computed(()=>sn.layersRoot),c=i.computed(()=>s.value?Array.from(l.value).indexOf(s.value):-1),d=i.computed(()=>sn.layersWithOutsidePointerEventsDisabled.size>0),u=i.computed(()=>{const m=Array.from(l.value),[g]=[...sn.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g);return c.value>=y}),f=QB(async m=>{const g=[...sn.branches].some(y=>y.contains(m.target));!u.value||g||(o("pointerDownOutside",m),o("interactOutside",m),await i.nextTick(),m.defaultPrevented||o("dismiss"))},s),p=eO(m=>{[...sn.branches].some(g=>g.contains(m.target))||(o("focusOutside",m),o("interactOutside",m),m.defaultPrevented||o("dismiss"))},s);Lp("Escape",m=>{c.value===l.value.size-1&&(o("escapeKeyDown",m),m.defaultPrevented||o("dismiss"))});let h;return i.watchEffect(m=>{s.value&&(n.disableOutsidePointerEvents&&(sn.layersWithOutsidePointerEventsDisabled.size===0&&(h=a.value.body.style.pointerEvents,a.value.body.style.pointerEvents="none"),sn.layersWithOutsidePointerEventsDisabled.add(s.value)),l.value.add(s.value),m(()=>{n.disableOutsidePointerEvents&&sn.layersWithOutsidePointerEventsDisabled.size===1&&(a.value.body.style.pointerEvents=h)}))}),i.watchEffect(m=>{m(()=>{s.value&&(l.value.delete(s.value),sn.layersWithOutsidePointerEventsDisabled.delete(s.value))})}),(m,g)=>(i.openBlock(),i.createBlock(i.unref(G),{ref:i.unref(r),"as-child":m.asChild,as:m.as,"data-dismissable-layer":"",style:i.normalizeStyle({pointerEvents:d.value?u.value?"auto":"none":void 0}),onFocusCapture:i.unref(p).onFocusCapture,onBlurCapture:i.unref(p).onBlurCapture,onPointerdownCapture:i.unref(f).onPointerDownCapture},{default:i.withCtx(()=>[i.renderSlot(m.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),tO=i.defineComponent({__name:"DismissableLayerBranch",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n,currentElement:o}=V();return i.onMounted(()=>{sn.branches.add(o.value)}),i.onUnmounted(()=>{sn.branches.delete(o.value)}),(r,s)=>(i.openBlock(),i.createBlock(i.unref(G),i.mergeProps({ref:i.unref(n)},e),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3},16))}}),Kp="focusScope.autoFocusOnMount",qp="focusScope.autoFocusOnUnmount",e2={bubbles:!1,cancelable:!0};function xc(t,{select:e=!1}={}){const n=document.activeElement;for(const o of t)if(Ho(o,{select:e}),document.activeElement!==n)return!0}function nO(t){const e=Gp(t),n=t2(e,t),o=t2(e.reverse(),t);return[n,o]}function Gp(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function t2(t,e){for(const n of t)if(!oO(n,{upTo:e}))return n}function oO(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function rO(t){return t instanceof HTMLInputElement&&"select"in t}function Ho(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&rO(t)&&e&&t.select()}}const iO=aB(()=>i.ref([]));function sO(){const t=iO();return{add(e){const n=t.value[0];e!==n&&(n==null||n.pause()),t.value=n2(t.value,e),t.value.unshift(e)},remove(e){var n;t.value=n2(t.value,e),(n=t.value[0])==null||n.resume()}}}function n2(t,e){const n=[...t],o=n.indexOf(e);return o!==-1&&n.splice(o,1),n}function aO(t){return t.filter(e=>e.tagName!=="A")}const kc=i.defineComponent({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(t,{emit:e}){const n=t,o=e,{currentRef:r,currentElement:s}=V(),a=i.ref(null),l=sO(),c=i.reactive({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});i.watchEffect(u=>{if(!Mn)return;const f=s.value;if(!n.trapped)return;function p(y){if(c.paused||!f)return;const b=y.target;f.contains(b)?a.value=b:Ho(a.value,{select:!0})}function h(y){if(c.paused||!f)return;const b=y.relatedTarget;b!==null&&(f.contains(b)||Ho(a.value,{select:!0}))}function m(y){f.contains(a.value)||Ho(f)}document.addEventListener("focusin",p),document.addEventListener("focusout",h);const g=new MutationObserver(m);f&&g.observe(f,{childList:!0,subtree:!0}),u(()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",h),g.disconnect()})}),i.watchEffect(async u=>{const f=s.value;if(await i.nextTick(),!f)return;l.add(c);const p=document.activeElement;if(!f.contains(p)){const h=new CustomEvent(Kp,e2);f.addEventListener(Kp,m=>o("mountAutoFocus",m)),f.dispatchEvent(h),h.defaultPrevented||(xc(aO(Gp(f)),{select:!0}),document.activeElement===p&&Ho(f))}u(()=>{f.removeEventListener(Kp,g=>o("mountAutoFocus",g));const h=new CustomEvent(qp,e2),m=g=>{o("unmountAutoFocus",g)};f.addEventListener(qp,m),f.dispatchEvent(h),setTimeout(()=>{h.defaultPrevented||Ho(p??document.body,{select:!0}),f.removeEventListener(qp,m),l.remove(c)},0)})});function d(u){if(!n.loop&&!n.trapped||c.paused)return;const f=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,p=document.activeElement;if(f&&p){const h=u.currentTarget,[m,g]=nO(h);m&&g?!u.shiftKey&&p===g?(u.preventDefault(),n.loop&&Ho(m,{select:!0})):u.shiftKey&&p===m&&(u.preventDefault(),n.loop&&Ho(g,{select:!0})):p===h&&u.preventDefault()}}return(u,f)=>(i.openBlock(),i.createBlock(i.unref(G),{ref_key:"currentRef",ref:r,tabindex:"-1","as-child":u.asChild,as:u.as,onKeydown:d},{default:i.withCtx(()=>[i.renderSlot(u.$slots,"default")]),_:3},8,["as-child","as"]))}}),lO="menu.itemSelect",Jp=["Enter"," "],cO=["ArrowDown","PageUp","Home"],o2=["ArrowUp","PageDown","End"],dO=[...cO,...o2],uO={ltr:[...Jp,"ArrowRight"],rtl:[...Jp,"ArrowLeft"]},fO={ltr:["ArrowLeft"],rtl:["ArrowRight"]};function Yp(t){return t?"open":"closed"}function Cc(t){return t==="indeterminate"}function r2(t){return Cc(t)?"indeterminate":t?"checked":"unchecked"}function Xp(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function pO(t,e){const{x:n,y:o}=t;let r=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s].x,c=e[s].y,d=e[a].x,u=e[a].y;c>o!=u>o&&n<(d-l)*(o-c)/(u-c)+l&&(r=!r)}return r}function hO(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return pO(n,e)}function ra(t){return t.pointerType==="mouse"}function mO(){const t="DialogContent",e="DialogTitle",n=Qn(),o=`Warning: \`${t}\` requires a \`${e}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://www.radix-vue.com/components/dialog.html#title;`,r=`Warning: Missing \`Description\` or \`aria-describedby="undefined"\` for ${t}.`;i.onMounted(()=>{var s;document.getElementById(n.titleId)||console.warn(o);const a=(s=n.contentElement.value)==null?void 0:s.getAttribute("aria-describedby");n.descriptionId&&a&&(document.getElementById(n.descriptionId)||console.warn(r))})}const i2=i.defineComponent({__name:"DialogContentImpl",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=Qn(),{forwardRef:s,currentElement:a}=V();return r.titleId||(r.titleId=Qe(void 0,"radix-vue-dialog-title")),r.descriptionId||(r.descriptionId=Qe(void 0,"radix-vue-dialog-description")),i.onMounted(()=>{r.contentElement=a,document.activeElement!==document.body&&(r.triggerElement.value=document.activeElement)}),process.env.NODE_ENV!=="production"&&mO(),(l,c)=>(i.openBlock(),i.createBlock(i.unref(kc),{"as-child":"",loop:"",trapped:n.trapFocus,onMountAutoFocus:c[5]||(c[5]=d=>o("openAutoFocus",d)),onUnmountAutoFocus:c[6]||(c[6]=d=>o("closeAutoFocus",d))},{default:i.withCtx(()=>[i.createVNode(i.unref(oa),i.mergeProps({id:i.unref(r).contentId,ref:i.unref(s),as:l.as,"as-child":l.asChild,"disable-outside-pointer-events":l.disableOutsidePointerEvents,role:"dialog","aria-describedby":i.unref(r).descriptionId,"aria-labelledby":i.unref(r).titleId,"data-state":i.unref(Yp)(i.unref(r).open.value)},l.$attrs,{onDismiss:c[0]||(c[0]=d=>i.unref(r).onOpenChange(!1)),onEscapeKeyDown:c[1]||(c[1]=d=>o("escapeKeyDown",d)),onFocusOutside:c[2]||(c[2]=d=>o("focusOutside",d)),onInteractOutside:c[3]||(c[3]=d=>o("interactOutside",d)),onPointerDownOutside:c[4]||(c[4]=d=>o("pointerDownOutside",d))}),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),gO=i.defineComponent({__name:"DialogContentModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=Qn(),s=Fo(o),{forwardRef:a,currentElement:l}=V();return bc(l),(c,d)=>(i.openBlock(),i.createBlock(i2,i.mergeProps({...n,...i.unref(s)},{ref:i.unref(a),"trap-focus":i.unref(r).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:d[0]||(d[0]=u=>{var f;o("closeAutoFocus",u),u.defaultPrevented||(u.preventDefault(),(f=i.unref(r).triggerElement.value)==null||f.focus())}),onPointerDownOutside:d[1]||(d[1]=u=>{const f=u.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0;(f.button===2||p)&&u.preventDefault()}),onFocusOutside:d[2]||(d[2]=u=>{u.preventDefault()}),onOpenAutoFocus:d[3]||(d[3]=u=>o("openAutoFocus",u))}),{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default")]),_:3},16,["trap-focus"]))}}),yO=i.defineComponent({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=Fo(o);V();const s=Qn(),a=i.ref(!1),l=i.ref(!1);return(c,d)=>(i.openBlock(),i.createBlock(i2,i.mergeProps({...n,...i.unref(r)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:d[0]||(d[0]=u=>{var f;o("closeAutoFocus",u),u.defaultPrevented||(a.value||(f=i.unref(s).triggerElement.value)==null||f.focus(),u.preventDefault()),a.value=!1,l.value=!1}),onInteractOutside:d[1]||(d[1]=u=>{var f;u.defaultPrevented||(a.value=!0,u.detail.originalEvent.type==="pointerdown"&&(l.value=!0));const p=u.target;(f=i.unref(s).triggerElement.value)!=null&&f.contains(p)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&l.value&&u.preventDefault()})}),{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default")]),_:3},16))}}),bO=i.defineComponent({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=Qn(),s=Fo(o),{forwardRef:a}=V();return(l,c)=>(i.openBlock(),i.createBlock(i.unref(Dt),{present:l.forceMount||i.unref(r).open.value},{default:i.withCtx(()=>[i.unref(r).modal.value?(i.openBlock(),i.createBlock(gO,i.mergeProps({key:0,ref:i.unref(a)},{...n,...i.unref(s),...l.$attrs},{onOpenAutoFocus:c[0]||(c[0]=d=>o("openAutoFocus",d))}),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16)):(i.openBlock(),i.createBlock(yO,i.mergeProps({key:1,ref:i.unref(a)},{...n,...i.unref(s),...l.$attrs}),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),wO=i.defineComponent({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean},as:{}},setup(t){const e=Qn();return mc(!0),V(),(n,o)=>(i.openBlock(),i.createBlock(i.unref(G),{as:n.as,"as-child":n.asChild,"data-state":i.unref(e).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),xO=i.defineComponent({__name:"DialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=Qn(),{forwardRef:n}=V();return(o,r)=>{var s;return(s=i.unref(e))!=null&&s.modal.value?(i.openBlock(),i.createBlock(i.unref(Dt),{key:0,present:o.forceMount||i.unref(e).open.value},{default:i.withCtx(()=>[i.createVNode(wO,i.mergeProps(o.$attrs,{ref:i.unref(n),as:o.as,"as-child":o.asChild}),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):i.createCommentVNode("",!0)}}}),kO=i.defineComponent({__name:"DialogClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t;V();const n=Qn();return(o,r)=>(i.openBlock(),i.createBlock(i.unref(G),i.mergeProps(e,{type:o.as==="button"?"button":void 0,onClick:r[0]||(r[0]=s=>i.unref(n).onOpenChange(!1))}),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["type"]))}}),CO=i.defineComponent({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{default:"h2"}},setup(t){const e=t,n=Qn();return V(),(o,r)=>(i.openBlock(),i.createBlock(i.unref(G),i.mergeProps(e,{id:i.unref(n).titleId}),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["id"]))}});function Sc(t){return t==="indeterminate"}function s2(t){return Sc(t)?"indeterminate":t?"checked":"unchecked"}const SO=["value","checked","name","disabled","required"],[EO,vO]=Ce("CheckboxRoot"),AO=i.defineComponent({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultChecked:{type:Boolean},checked:{type:[Boolean,String],default:void 0},disabled:{type:Boolean},required:{type:Boolean},name:{},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"}},emits:["update:checked"],setup(t,{emit:e}){const n=t,o=e,{disabled:r}=i.toRefs(n),s=at(n,"checked",o,{defaultValue:n.defaultChecked,passive:n.checked===void 0}),{forwardRef:a,currentElement:l}=V(),c=qw(l),d=i.computed(()=>{var u;return n.id&&l.value?(u=document.querySelector(`[for="${n.id}"]`))==null?void 0:u.innerText:void 0});return vO({disabled:r,state:s}),(u,f)=>(i.openBlock(),i.createElementBlock(i.Fragment,null,[i.createVNode(i.unref(G),i.mergeProps(u.$attrs,{id:u.id,ref:i.unref(a),role:"checkbox","as-child":n.asChild,as:u.as,type:u.as==="button"?"button":void 0,"aria-checked":i.unref(Sc)(i.unref(s))?"mixed":i.unref(s),"aria-required":!1,"aria-label":u.$attrs["aria-label"]||d.value,"data-state":i.unref(s2)(i.unref(s)),"data-disabled":i.unref(r)?"":void 0,disabled:i.unref(r),onKeydown:i.withKeys(i.withModifiers(()=>{},["prevent"]),["enter"]),onClick:f[0]||(f[0]=p=>s.value=i.unref(Sc)(i.unref(s))?!0:!i.unref(s))}),{default:i.withCtx(()=>[i.renderSlot(u.$slots,"default",{checked:i.unref(s)})]),_:3},16,["id","as-child","as","type","aria-checked","aria-label","data-state","data-disabled","disabled","onKeydown"]),i.unref(c)?(i.openBlock(),i.createElementBlock("input",{key:0,type:"checkbox",tabindex:"-1","aria-hidden":"",value:u.value,checked:!!i.unref(s),name:n.name,disabled:n.disabled,required:n.required,style:i.normalizeStyle({transform:"translateX(-100%)",position:"absolute",pointerEvents:"none",opacity:0,margin:0})},null,12,SO)):i.createCommentVNode("",!0)],64))}}),MO=i.defineComponent({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(t){const{forwardRef:e}=V(),n=EO();return(o,r)=>(i.openBlock(),i.createBlock(i.unref(Dt),{present:o.forceMount||i.unref(Sc)(i.unref(n).state.value)||i.unref(n).state.value===!0},{default:i.withCtx(()=>[i.createVNode(i.unref(G),i.mergeProps({ref:i.unref(e),"data-state":i.unref(s2)(i.unref(n).state.value),"data-disabled":i.unref(n).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":o.asChild,as:o.as},o.$attrs),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),[a2,_O]=Ce("PopperRoot"),ia=i.defineComponent({__name:"PopperRoot",setup(t){const e=i.ref();return _O({anchor:e,onAnchorChange:n=>e.value=n}),(n,o)=>i.renderSlot(n.$slots,"default")}}),Ec=i.defineComponent({__name:"PopperAnchor",props:{element:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n,currentElement:o}=V(),r=a2();return i.watch(o,()=>{r.onAnchorChange(e.element??o.value)}),(s,a)=>(i.openBlock(),i.createBlock(i.unref(G),{ref:i.unref(n),as:s.as,"as-child":s.asChild},{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},8,["as","as-child"]))}});function TO(t){return t!==null}function BO(t){return{name:"transformOrigin",options:t,fn(e){var n,o,r;const{placement:s,rects:a,middlewareData:l}=e,c=((n=l.arrow)==null?void 0:n.centerOffset)!==0,d=c?0:t.arrowWidth,u=c?0:t.arrowHeight,[f,p]=Zp(s),h={start:"0%",center:"50%",end:"100%"}[p],m=(((o=l.arrow)==null?void 0:o.x)??0)+d/2,g=(((r=l.arrow)==null?void 0:r.y)??0)+u/2;let y="",b="";return f==="bottom"?(y=c?h:`${m}px`,b=`${-u}px`):f==="top"?(y=c?h:`${m}px`,b=`${a.floating.height+u}px`):f==="right"?(y=`${-u}px`,b=c?h:`${g}px`):f==="left"&&(y=`${a.floating.width+u}px`,b=c?h:`${g}px`),{data:{x:y,y:b}}}}}function Zp(t){const[e,n="center"]=t.split("-");return[e,n]}const l2={side:"bottom",sideOffset:0,align:"center",alignOffset:0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,updatePositionStrategy:"optimized",prioritizePosition:!1},[rG,OO]=Ce("PopperContent"),vc=i.defineComponent({inheritAttrs:!1,__name:"PopperContent",props:i.mergeDefaults({side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{}},{...l2}),emits:["placed"],setup(t,{emit:e}){const n=t,o=e,r=a2(),{forwardRef:s,currentElement:a}=V(),l=i.ref(),c=i.ref(),{width:d,height:u}=HB(c),f=i.computed(()=>n.side+(n.align!=="center"?`-${n.align}`:"")),p=i.computed(()=>typeof n.collisionPadding=="number"?n.collisionPadding:{top:0,right:0,bottom:0,left:0,...n.collisionPadding}),h=i.computed(()=>Array.isArray(n.collisionBoundary)?n.collisionBoundary:[n.collisionBoundary]),m=i.computed(()=>({padding:p.value,boundary:h.value.filter(TO),altBoundary:h.value.length>0})),g=iB(()=>[q9({mainAxis:n.sideOffset+u.value,alignmentAxis:n.alignOffset}),n.prioritizePosition&&n.avoidCollisions&&Rw({...m.value}),n.avoidCollisions&&G9({mainAxis:!0,crossAxis:!!n.prioritizePosition,limiter:n.sticky==="partial"?Z9():void 0,...m.value}),!n.prioritizePosition&&n.avoidCollisions&&Rw({...m.value}),J9({...m.value,apply:({elements:E,rects:T,availableWidth:M,availableHeight:$})=>{const{width:L,height:U}=T.reference,O=E.floating.style;Object.assign(E.floating.style,{maxWidth:`${M}px`,maxHeight:`${$}px`}),O.setProperty("--radix-popper-available-width",`${M}px`),O.setProperty("--radix-popper-available-height",`${$}px`),O.setProperty("--radix-popper-anchor-width",`${L}px`),O.setProperty("--radix-popper-anchor-height",`${U}px`)}}),c.value&&tB({element:c.value,padding:n.arrowPadding}),BO({arrowWidth:d.value,arrowHeight:u.value}),n.hideWhenDetached&&Y9({strategy:"referenceHidden",...m.value})]),{floatingStyles:y,placement:b,isPositioned:x,middlewareData:k}=nB(r.anchor,l,{strategy:"fixed",placement:f,whileElementsMounted:(...E)=>K9(...E,{animationFrame:n.updatePositionStrategy==="always"}),middleware:g}),w=i.computed(()=>Zp(b.value)[0]),C=i.computed(()=>Zp(b.value)[1]);i.watchEffect(()=>{x.value&&o("placed")});const S=i.computed(()=>{var E;return((E=k.value.arrow)==null?void 0:E.centerOffset)!==0}),v=i.ref("");i.watchEffect(()=>{a.value&&(v.value=window.getComputedStyle(a.value).zIndex)});const B=i.computed(()=>{var E;return((E=k.value.arrow)==null?void 0:E.x)??0}),_=i.computed(()=>{var E;return((E=k.value.arrow)==null?void 0:E.y)??0});return OO({placedSide:w,onArrowChange:E=>c.value=E,arrowX:B,arrowY:_,shouldHideArrow:S}),(E,T)=>{var M,$,L;return i.openBlock(),i.createElementBlock("div",{ref_key:"floatingRef",ref:l,"data-radix-popper-content-wrapper":"",style:i.normalizeStyle({...i.unref(y),transform:i.unref(x)?i.unref(y).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:v.value,"--radix-popper-transform-origin":[(M=i.unref(k).transformOrigin)==null?void 0:M.x,($=i.unref(k).transformOrigin)==null?void 0:$.y].join(" "),...((L=i.unref(k).hide)==null?void 0:L.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}})},[i.createVNode(i.unref(G),i.mergeProps({ref:i.unref(s)},E.$attrs,{"as-child":n.asChild,as:E.as,"data-side":w.value,"data-align":C.value,style:{animation:i.unref(x)?void 0:"none"}}),{default:i.withCtx(()=>[i.renderSlot(E.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4)}}}),Ac=i.defineComponent({__name:"VisuallyHidden",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){return V(),(e,n)=>(i.openBlock(),i.createBlock(i.unref(G),{as:e.as,"as-child":e.asChild,style:i.normalizeStyle({position:"absolute",border:0,width:"1px",display:"inline-block",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"})},{default:i.withCtx(()=>[i.renderSlot(e.$slots,"default")]),_:3},8,["as","as-child","style"]))}}),[c2,iG]=Ce("CollectionProvider");i.defineComponent({name:"CollectionSlot",setup(t,{slots:e}){const n=c2(),{primitiveElement:o,currentElement:r}=Xw();return i.watch(r,()=>{n.collectionRef.value=r.value}),()=>i.h(Wp,{ref:o},e)}}),i.defineComponent({name:"CollectionItem",setup(t,{slots:e,attrs:n}){const o=c2(),{primitiveElement:r,currentElement:s}=Xw(),a=i.getCurrentInstance();return i.watchEffect(l=>{var c;if(s.value){const d=i.markRaw(s.value);o.itemMap.value.set(d,{ref:s.value,...i.markRaw(((c=a==null?void 0:a.parent)==null?void 0:c.props)??{})}),l(()=>o.itemMap.value.delete(d))}}),()=>i.h(Wp,{...n,[o.attrName]:"",ref:r},e)}});const Qp=i.defineComponent({__name:"MenuAnchor",props:{element:{},asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(Ec),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),[Nr,d2]=Ce(["MenuRoot","MenuSub"],"MenuContext"),[sa,NO]=Ce("MenuRoot"),u2=i.defineComponent({__name:"MenuRoot",props:{open:{type:Boolean,default:!1},dir:{},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(t,{emit:e}){const n=t,o=e,{modal:r,dir:s}=i.toRefs(n),a=Zn(s),l=at(n,"open",o),c=i.ref(),d=i.ref(!1);return i.watchEffect(u=>{if(!Mn)return;const f=()=>{d.value=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.value=!1;document.addEventListener("keydown",f,{capture:!0}),u(()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})})}),d2({open:l,onOpenChange:u=>{l.value=u},content:c,onContentChange:u=>{c.value=u}}),NO({onClose:()=>{l.value=!1},isUsingKeyboardRef:d,dir:a,modal:r}),(u,f)=>(i.openBlock(),i.createBlock(i.unref(ia),null,{default:i.withCtx(()=>[i.renderSlot(u.$slots,"default")]),_:3}))}}),PO="rovingFocusGroup.onEntryFocus",IO={bubbles:!1,cancelable:!0},DO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function RO(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function LO(t,e,n){const o=RO(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return DO[o]}function f2(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function $O(t,e){return t.map((n,o)=>t[(e+o)%t.length])}const[VO,zO]=Ce("RovingFocusGroup"),Mc=i.defineComponent({__name:"RovingFocusGroup",props:{orientation:{default:void 0},dir:{},loop:{type:Boolean,default:!1},currentTabStopId:{},defaultCurrentTabStopId:{},asChild:{type:Boolean},as:{}},emits:["entryFocus","update:currentTabStopId"],setup(t,{emit:e}){const n=t,o=e,{loop:r,orientation:s,dir:a}=i.toRefs(n),l=Zn(a),c=at(n,"currentTabStopId",o,{defaultValue:n.defaultCurrentTabStopId,passive:n.currentTabStopId===void 0}),d=i.ref(!1),u=i.ref(!1),f=i.ref(0),{forwardRef:p,currentElement:h}=V(),{createCollection:m}=_n("rovingFocus"),g=m(h);function y(b){const x=!u.value;if(b.currentTarget&&b.target===b.currentTarget&&x&&!d.value){const k=new CustomEvent(PO,IO);if(b.currentTarget.dispatchEvent(k),o("entryFocus",k),!k.defaultPrevented){const w=g.value,C=w.find(B=>B.getAttribute("data-active")==="true"),S=w.find(B=>B.id===c.value),v=[C,S,...w].filter(Boolean);f2(v)}}u.value=!1}return zO({loop:r,dir:l,orientation:s,currentTabStopId:c,onItemFocus:b=>{c.value=b},onItemShiftTab:()=>{d.value=!0},onFocusableItemAdd:()=>{f.value++},onFocusableItemRemove:()=>{f.value--}}),(b,x)=>(i.openBlock(),i.createBlock(i.unref(G),{ref:i.unref(p),tabindex:d.value||f.value===0?-1:0,"data-orientation":i.unref(s),as:b.as,"as-child":b.asChild,dir:i.unref(l),style:{outline:"none"},onMousedown:x[0]||(x[0]=k=>u.value=!0),onFocus:y,onBlur:x[1]||(x[1]=k=>d.value=!1)},{default:i.withCtx(()=>[i.renderSlot(b.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"]))}}),eh=i.defineComponent({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!0},asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=t,n=VO(),o=i.computed(()=>e.tabStopId||Qe()),r=i.computed(()=>n.currentTabStopId.value===o.value),{injectCollection:s}=_n("rovingFocus"),a=s();i.onMounted(()=>{e.focusable&&n.onFocusableItemAdd()}),i.onUnmounted(()=>{e.focusable&&n.onFocusableItemRemove()});function l(c){if(c.key==="Tab"&&c.shiftKey){n.onItemShiftTab();return}if(c.target!==c.currentTarget)return;const d=LO(c,n.orientation.value,n.dir.value);if(d!==void 0){if(c.metaKey||c.ctrlKey||c.altKey||c.shiftKey)return;c.preventDefault();let u=[...a.value];if(d==="last")u.reverse();else if(d==="prev"||d==="next"){d==="prev"&&u.reverse();const f=u.indexOf(c.currentTarget);u=n.loop.value?$O(u,f+1):u.slice(f+1)}i.nextTick(()=>f2(u))}}return(c,d)=>(i.openBlock(),i.createBlock(i.unref(G),{"data-radix-vue-collection-item":"",tabindex:r.value?0:-1,"data-orientation":i.unref(n).orientation.value,"data-active":c.active,"data-disabled":!c.focusable||void 0,as:c.as,"as-child":c.asChild,onMousedown:d[0]||(d[0]=u=>{c.focusable?i.unref(n).onItemFocus(o.value):u.preventDefault()}),onFocus:d[1]||(d[1]=u=>i.unref(n).onItemFocus(o.value)),onKeydown:l},{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"]))}}),[th,FO]=Ce("MenuContent"),nh=i.defineComponent({__name:"MenuContentImpl",props:i.mergeDefaults({loop:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},disableOutsideScroll:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{}},{...l2}),emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus","dismiss"],setup(t,{emit:e}){const n=t,o=e,r=Nr(),s=sa(),{trapFocus:a,disableOutsidePointerEvents:l,loop:c}=i.toRefs(n);Hp(),mc(l.value);const d=i.ref(""),u=i.ref(0),f=i.ref(0),p=i.ref(null),h=i.ref("right"),m=i.ref(0),g=i.ref(null),{createCollection:y}=_n(),{forwardRef:b,currentElement:x}=V(),k=y(x);i.watch(x,E=>{r.onContentChange(E)});const{handleTypeaheadSearch:w}=Up(k);i.onUnmounted(()=>{window.clearTimeout(u.value)});function C(E){var T,M;return h.value===((T=p.value)==null?void 0:T.side)&&hO(E,(M=p.value)==null?void 0:M.area)}async function S(E){var T;o("openAutoFocus",E),!E.defaultPrevented&&(E.preventDefault(),(T=x.value)==null||T.focus())}function v(E){if(E.defaultPrevented)return;const T=E.target.closest("[data-radix-menu-content]")===E.currentTarget,M=E.ctrlKey||E.altKey||E.metaKey,$=E.key.length===1,L=SB(E,document.activeElement,x.value,{loop:c.value,arrowKeyOptions:"vertical",dir:s==null?void 0:s.dir.value,focus:!0,attributeName:"[data-radix-vue-collection-item]:not([data-disabled])"});if(L)return L==null?void 0:L.focus();if(E.code==="Space"||(T&&(E.key==="Tab"&&E.preventDefault(),!M&&$&&w(E.key)),E.target!==x.value)||!dO.includes(E.key))return;E.preventDefault();const U=k.value;o2.includes(E.key)&&U.reverse(),Xp(U)}function B(E){var T,M;(M=(T=E==null?void 0:E.currentTarget)==null?void 0:T.contains)!=null&&M.call(T,E.target)||(window.clearTimeout(u.value),d.value="")}function _(E){var T;if(!ra(E))return;const M=E.target,$=m.value!==E.clientX;if((T=E==null?void 0:E.currentTarget)!=null&&T.contains(M)&&$){const L=E.clientX>m.value?"right":"left";h.value=L,m.value=E.clientX}}return FO({onItemEnter:E=>!!C(E),onItemLeave:E=>{var T;C(E)||((T=x.value)==null||T.focus(),g.value=null)},onTriggerLeave:E=>!!C(E),searchRef:d,pointerGraceTimerRef:f,onPointerGraceIntentChange:E=>{p.value=E}}),(E,T)=>(i.openBlock(),i.createBlock(i.unref(kc),{"as-child":"",trapped:i.unref(a),onMountAutoFocus:S,onUnmountAutoFocus:T[7]||(T[7]=M=>o("closeAutoFocus",M))},{default:i.withCtx(()=>[i.createVNode(i.unref(oa),{"as-child":"","disable-outside-pointer-events":i.unref(l),onEscapeKeyDown:T[2]||(T[2]=M=>o("escapeKeyDown",M)),onPointerDownOutside:T[3]||(T[3]=M=>o("pointerDownOutside",M)),onFocusOutside:T[4]||(T[4]=M=>o("focusOutside",M)),onInteractOutside:T[5]||(T[5]=M=>o("interactOutside",M)),onDismiss:T[6]||(T[6]=M=>o("dismiss"))},{default:i.withCtx(()=>[i.createVNode(i.unref(Mc),{"current-tab-stop-id":g.value,"onUpdate:currentTabStopId":T[0]||(T[0]=M=>g.value=M),"as-child":"",orientation:"vertical",dir:i.unref(s).dir.value,loop:i.unref(c),onEntryFocus:T[1]||(T[1]=M=>{o("entryFocus",M),i.unref(s).isUsingKeyboardRef.value||M.preventDefault()})},{default:i.withCtx(()=>[i.createVNode(i.unref(vc),{ref:i.unref(b),role:"menu",as:E.as,"as-child":E.asChild,"aria-orientation":"vertical","data-radix-menu-content":"","data-state":i.unref(Yp)(i.unref(r).open.value),dir:i.unref(s).dir.value,side:E.side,"side-offset":E.sideOffset,align:E.align,"align-offset":E.alignOffset,"avoid-collisions":E.avoidCollisions,"collision-boundary":E.collisionBoundary,"collision-padding":E.collisionPadding,"arrow-padding":E.arrowPadding,"prioritize-position":E.prioritizePosition,sticky:E.sticky,"hide-when-detached":E.hideWhenDetached,onKeydown:v,onBlur:B,onPointermove:_},{default:i.withCtx(()=>[i.renderSlot(E.$slots,"default")]),_:3},8,["as","as-child","data-state","dir","side","side-offset","align","align-offset","avoid-collisions","collision-boundary","collision-padding","arrow-padding","prioritize-position","sticky","hide-when-detached"])]),_:3},8,["current-tab-stop-id","dir","loop"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),p2=i.defineComponent({__name:"MenuItemImpl",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,n=th(),o=i.ref(!1);async function r(a){if(!a.defaultPrevented&&ra(a)){if(e.disabled)n.onItemLeave(a);else if(!n.onItemEnter(a)){const l=a.currentTarget;l==null||l.focus()}}}async function s(a){await i.nextTick(),!a.defaultPrevented&&ra(a)&&n.onItemLeave(a)}return(a,l)=>(i.openBlock(),i.createBlock(i.unref(G),{role:"menuitem",tabindex:"-1",as:a.as,"as-child":a.asChild,"data-radix-vue-collection-item":"","aria-disabled":a.disabled||void 0,"data-disabled":a.disabled?"":void 0,"data-highlighted":o.value?"":void 0,onPointermove:r,onPointerleave:s,onFocus:l[0]||(l[0]=async c=>{await i.nextTick(),!(c.defaultPrevented||a.disabled)&&(o.value=!0)}),onBlur:l[1]||(l[1]=async c=>{await i.nextTick(),!c.defaultPrevented&&(o.value=!1)})},{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},8,["as","as-child","aria-disabled","data-disabled","data-highlighted"]))}}),oh=i.defineComponent({__name:"MenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r,currentElement:s}=V(),a=sa(),l=th(),c=i.ref(!1);async function d(){const u=s.value;if(!n.disabled&&u){const f=new CustomEvent(lO,{bubbles:!0,cancelable:!0});o("select",f),await i.nextTick(),f.defaultPrevented?c.value=!1:a.onClose()}}return(u,f)=>(i.openBlock(),i.createBlock(p2,i.mergeProps(n,{ref:i.unref(r),onClick:d,onPointerdown:f[0]||(f[0]=()=>{c.value=!0}),onPointerup:f[1]||(f[1]=async p=>{var h;await i.nextTick(),!p.defaultPrevented&&(c.value||(h=p.currentTarget)==null||h.click())}),onKeydown:f[2]||(f[2]=async p=>{const h=i.unref(l).searchRef.value!=="";u.disabled||h&&p.key===" "||i.unref(Jp).includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})}),{default:i.withCtx(()=>[i.renderSlot(u.$slots,"default")]),_:3},16))}}),[HO,jO]=Ce(["MenuCheckboxItem","MenuRadioItem"],"MenuItemIndicatorContext"),h2=i.defineComponent({__name:"MenuItemIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=HO({checked:i.ref(!1)});return(n,o)=>(i.openBlock(),i.createBlock(i.unref(Dt),{present:n.forceMount||i.unref(Cc)(i.unref(e).checked.value)||i.unref(e).checked.value===!0},{default:i.withCtx(()=>[i.createVNode(i.unref(G),{as:n.as,"as-child":n.asChild,"data-state":i.unref(r2)(i.unref(e).checked.value)},{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},8,["as","as-child","data-state"])]),_:3},8,["present"]))}}),m2=i.defineComponent({__name:"MenuCheckboxItem",props:{checked:{type:[Boolean,String],default:!1},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select","update:checked"],setup(t,{emit:e}){const n=t,o=e,r=at(n,"checked",o);return jO({checked:r}),(s,a)=>(i.openBlock(),i.createBlock(oh,i.mergeProps({role:"menuitemcheckbox"},n,{"aria-checked":i.unref(Cc)(i.unref(r))?"mixed":i.unref(r),"data-state":i.unref(r2)(i.unref(r)),onSelect:a[0]||(a[0]=async l=>{o("select",l),i.unref(Cc)(i.unref(r))?r.value=!0:r.value=!i.unref(r)})}),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default",{checked:i.unref(r)})]),_:3},16,["aria-checked","data-state"]))}}),UO=i.defineComponent({__name:"MenuRootContentModal",props:{loop:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=he(n,o),s=Nr(),{forwardRef:a,currentElement:l}=V();return bc(l),(c,d)=>(i.openBlock(),i.createBlock(nh,i.mergeProps(i.unref(r),{ref:i.unref(a),"trap-focus":i.unref(s).open.value,"disable-outside-pointer-events":i.unref(s).open.value,"disable-outside-scroll":!0,onDismiss:d[0]||(d[0]=u=>i.unref(s).onOpenChange(!1)),onFocusOutside:d[1]||(d[1]=i.withModifiers(u=>o("focusOutside",u),["prevent"]))}),{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default")]),_:3},16,["trap-focus","disable-outside-pointer-events"]))}}),WO=i.defineComponent({__name:"MenuRootContentNonModal",props:{loop:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=he(t,e),o=Nr();return(r,s)=>(i.openBlock(),i.createBlock(nh,i.mergeProps(i.unref(n),{"trap-focus":!1,"disable-outside-pointer-events":!1,"disable-outside-scroll":!1,onDismiss:s[0]||(s[0]=a=>i.unref(o).onOpenChange(!1))}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3},16))}}),g2=i.defineComponent({__name:"MenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=he(t,e),o=Nr(),r=sa();return(s,a)=>(i.openBlock(),i.createBlock(i.unref(Dt),{present:s.forceMount||i.unref(o).open.value},{default:i.withCtx(()=>[i.unref(r).modal.value?(i.openBlock(),i.createBlock(UO,i.normalizeProps(i.mergeProps({key:0},{...s.$attrs,...i.unref(n)})),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16)):(i.openBlock(),i.createBlock(WO,i.normalizeProps(i.mergeProps({key:1},{...s.$attrs,...i.unref(n)})),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),y2=i.defineComponent({__name:"MenuPortal",props:{to:{},disabled:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(na),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),b2=i.defineComponent({__name:"MenuSeparator",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(G),i.mergeProps(e,{role:"separator","aria-orientation":"horizontal"}),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),[w2,KO]=Ce("MenuSub"),qO=i.defineComponent({__name:"MenuSub",props:{open:{type:Boolean,default:void 0}},emits:["update:open"],setup(t,{emit:e}){const n=t,o=at(n,"open",e,{defaultValue:!1,passive:n.open===void 0}),r=Nr(),s=i.ref(),a=i.ref();return i.watchEffect(l=>{(r==null?void 0:r.open.value)===!1&&(o.value=!1),l(()=>o.value=!1)}),d2({open:o,onOpenChange:l=>{o.value=l},content:a,onContentChange:l=>{a.value=l}}),KO({triggerId:"",contentId:"",trigger:s,onTriggerChange:l=>{s.value=l}}),(l,c)=>(i.openBlock(),i.createBlock(i.unref(ia),null,{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3}))}}),GO=i.defineComponent({__name:"MenuSubContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},sideOffset:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=he(t,e),o=Nr(),r=sa(),s=w2(),{forwardRef:a,currentElement:l}=V();return s.contentId||(s.contentId=Qe(void 0,"radix-vue-menu-sub-content")),(c,d)=>(i.openBlock(),i.createBlock(i.unref(Dt),{present:c.forceMount||i.unref(o).open.value},{default:i.withCtx(()=>[i.createVNode(nh,i.mergeProps(i.unref(n),{id:i.unref(s).contentId,ref:i.unref(a),"aria-labelledby":i.unref(s).triggerId,align:"start",side:i.unref(r).dir.value==="rtl"?"left":"right","disable-outside-pointer-events":!1,"disable-outside-scroll":!1,"trap-focus":!1,onOpenAutoFocus:d[0]||(d[0]=i.withModifiers(u=>{var f;i.unref(r).isUsingKeyboardRef.value&&((f=i.unref(l))==null||f.focus())},["prevent"])),onCloseAutoFocus:d[1]||(d[1]=i.withModifiers(()=>{},["prevent"])),onFocusOutside:d[2]||(d[2]=u=>{u.defaultPrevented||u.target!==i.unref(s).trigger.value&&i.unref(o).onOpenChange(!1)}),onEscapeKeyDown:d[3]||(d[3]=u=>{i.unref(r).onClose(),u.preventDefault()}),onKeydown:d[4]||(d[4]=u=>{var f,p;const h=(f=u.currentTarget)==null?void 0:f.contains(u.target),m=i.unref(fO)[i.unref(r).dir.value].includes(u.key);h&&m&&(i.unref(o).onOpenChange(!1),(p=i.unref(s).trigger.value)==null||p.focus(),u.preventDefault())})}),{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default")]),_:3},16,["id","aria-labelledby","side"])]),_:3},8,["present"]))}}),JO=i.defineComponent({__name:"MenuSubTrigger",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,n=Nr(),o=sa(),r=w2(),s=th(),a=i.ref(null);r.triggerId||(r.triggerId=Qe(void 0,"radix-vue-menu-sub-trigger"));function l(){a.value&&window.clearTimeout(a.value),a.value=null}i.onUnmounted(()=>{l()});function c(f){!ra(f)||s.onItemEnter(f)||!e.disabled&&!n.open.value&&!a.value&&(s.onPointerGraceIntentChange(null),a.value=window.setTimeout(()=>{n.onOpenChange(!0),l()},100))}async function d(f){var p,h;if(!ra(f))return;l();const m=(p=n.content.value)==null?void 0:p.getBoundingClientRect();if(m!=null&&m.width){const g=(h=n.content.value)==null?void 0:h.dataset.side,y=g==="right",b=y?-5:5,x=m[y?"left":"right"],k=m[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x,y:m.top},{x:k,y:m.top},{x:k,y:m.bottom},{x,y:m.bottom}],side:g}),window.clearTimeout(s.pointerGraceTimerRef.value),s.pointerGraceTimerRef.value=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f))return;s.onPointerGraceIntentChange(null)}}async function u(f){var p;const h=s.searchRef.value!=="";e.disabled||h&&f.key===" "||uO[o.dir.value].includes(f.key)&&(n.onOpenChange(!0),await i.nextTick(),(p=n.content.value)==null||p.focus(),f.preventDefault())}return(f,p)=>(i.openBlock(),i.createBlock(Qp,{"as-child":""},{default:i.withCtx(()=>[i.createVNode(p2,i.mergeProps(e,{id:i.unref(r).triggerId,ref:h=>{var m;(m=i.unref(r))==null||m.onTriggerChange(h==null?void 0:h.$el)},"aria-haspopup":"menu","aria-expanded":i.unref(n).open.value,"aria-controls":i.unref(r).contentId,"data-state":i.unref(Yp)(i.unref(n).open.value),onClick:p[0]||(p[0]=async h=>{e.disabled||h.defaultPrevented||(h.currentTarget.focus(),i.unref(n).open.value||i.unref(n).onOpenChange(!0))}),onPointermove:c,onPointerleave:d,onKeydown:u}),{default:i.withCtx(()=>[i.renderSlot(f.$slots,"default")]),_:3},16,["id","aria-expanded","aria-controls","data-state"])]),_:3}))}}),[x2,YO]=Ce("DropdownMenuRoot"),XO=i.defineComponent({__name:"DropdownMenuRoot",props:{defaultOpen:{type:Boolean},open:{type:Boolean,default:void 0},dir:{},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(t,{emit:e}){const n=t,o=e;V();const r=at(n,"open",o,{defaultValue:n.defaultOpen,passive:n.open===void 0}),s=i.ref(),{modal:a,dir:l}=i.toRefs(n),c=Zn(l);return YO({open:r,onOpenChange:d=>{r.value=d},onOpenToggle:()=>{r.value=!r.value},triggerId:"",triggerElement:s,contentId:"",modal:a,dir:c}),(d,u)=>(i.openBlock(),i.createBlock(i.unref(u2),{open:i.unref(r),"onUpdate:open":u[0]||(u[0]=f=>i.isRef(r)?r.value=f:null),dir:i.unref(c),modal:i.unref(a)},{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default",{open:i.unref(r)})]),_:3},8,["open","dir","modal"]))}}),ZO=i.defineComponent({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=x2(),{forwardRef:o,currentElement:r}=V();return i.onMounted(()=>{n.triggerElement=r}),n.triggerId||(n.triggerId=Qe(void 0,"radix-vue-dropdown-menu-trigger")),(s,a)=>(i.openBlock(),i.createBlock(i.unref(Qp),{"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(G),{id:i.unref(n).triggerId,ref:i.unref(o),type:s.as==="button"?"button":void 0,"as-child":e.asChild,as:s.as,"aria-haspopup":"menu","aria-expanded":i.unref(n).open.value,"aria-controls":i.unref(n).open.value?i.unref(n).contentId:void 0,"data-disabled":s.disabled?"":void 0,disabled:s.disabled,"data-state":i.unref(n).open.value?"open":"closed",onClick:a[0]||(a[0]=async l=>{var c;!s.disabled&&l.button===0&&l.ctrlKey===!1&&((c=i.unref(n))==null||c.onOpenToggle(),await i.nextTick(),i.unref(n).open.value&&l.preventDefault())}),onKeydown:a[1]||(a[1]=i.withKeys(l=>{s.disabled||(["Enter"," "].includes(l.key)&&i.unref(n).onOpenToggle(),l.key==="ArrowDown"&&i.unref(n).onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())},["enter","space","arrow-down"]))},{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},8,["id","type","as-child","as","aria-expanded","aria-controls","data-disabled","disabled","data-state"])]),_:3}))}}),rh=i.defineComponent({__name:"DropdownMenuPortal",props:{to:{},disabled:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(y2),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),QO=i.defineComponent({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:e}){const n=he(t,e);V();const o=x2(),r=i.ref(!1);function s(a){a.defaultPrevented||(r.value||setTimeout(()=>{var l;(l=o.triggerElement.value)==null||l.focus()},0),r.value=!1,a.preventDefault())}return o.contentId||(o.contentId=Qe(void 0,"radix-vue-dropdown-menu-content")),(a,l)=>{var c;return i.openBlock(),i.createBlock(i.unref(g2),i.mergeProps(i.unref(n),{id:i.unref(o).contentId,"aria-labelledby":(c=i.unref(o))==null?void 0:c.triggerId,style:{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"},onCloseAutoFocus:s,onInteractOutside:l[0]||(l[0]=d=>{var u;if(d.defaultPrevented)return;const f=d.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,h=f.button===2||p;(!i.unref(o).modal.value||h)&&(r.value=!0),(u=i.unref(o).triggerElement.value)!=null&&u.contains(d.target)&&d.preventDefault()})}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["id","aria-labelledby","style"])}}}),eN=i.defineComponent({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select"],setup(t,{emit:e}){const n=t,o=Fo(e);return V(),(r,s)=>(i.openBlock(),i.createBlock(i.unref(oh),i.normalizeProps(i.guardReactiveProps({...n,...i.unref(o)})),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3},16))}}),tN=i.defineComponent({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return V(),(n,o)=>(i.openBlock(),i.createBlock(i.unref(b2),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),nN=i.defineComponent({__name:"DropdownMenuCheckboxItem",props:{checked:{type:[Boolean,String]},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select","update:checked"],setup(t,{emit:e}){const n=t,o=Fo(e);return V(),(r,s)=>(i.openBlock(),i.createBlock(i.unref(m2),i.normalizeProps(i.guardReactiveProps({...n,...i.unref(o)})),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3},16))}}),oN=i.defineComponent({__name:"DropdownMenuItemIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=t;return V(),(n,o)=>(i.openBlock(),i.createBlock(i.unref(h2),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),rN=i.defineComponent({__name:"DropdownMenuSub",props:{defaultOpen:{type:Boolean},open:{type:Boolean,default:void 0}},emits:["update:open"],setup(t,{emit:e}){const n=t,o=at(n,"open",e,{passive:n.open===void 0,defaultValue:n.defaultOpen??!1});return V(),(r,s)=>(i.openBlock(),i.createBlock(i.unref(qO),{open:i.unref(o),"onUpdate:open":s[0]||(s[0]=a=>i.isRef(o)?o.value=a:null)},{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default",{open:i.unref(o)})]),_:3},8,["open"]))}}),iN=i.defineComponent({__name:"DropdownMenuSubContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},sideOffset:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=he(t,e);return V(),(o,r)=>(i.openBlock(),i.createBlock(i.unref(GO),i.mergeProps(i.unref(n),{style:{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["style"]))}}),sN=i.defineComponent({__name:"DropdownMenuSubTrigger",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},setup(t){const e=t;return V(),(n,o)=>(i.openBlock(),i.createBlock(i.unref(JO),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),aN=i.defineComponent({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{default:"label"}},setup(t){const e=t;return V(),(n,o)=>(i.openBlock(),i.createBlock(i.unref(G),i.mergeProps(e,{onMousedown:o[0]||(o[0]=r=>{!r.defaultPrevented&&r.detail>1&&r.preventDefault()})}),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),[ih,lN]=Ce("MenubarRoot"),cN=i.defineComponent({__name:"MenubarRoot",props:{modelValue:{},defaultValue:{},dir:{},loop:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r,currentElement:s}=V(),{createCollection:a}=_n("menubar");a(s);const l=at(n,"modelValue",o,{defaultValue:n.defaultValue??"",passive:n.modelValue===void 0}),c=i.ref(null),{dir:d,loop:u}=i.toRefs(n),f=Zn(d);return lN({modelValue:l,dir:f,loop:u,onMenuOpen:p=>{l.value=p,c.value=p},onMenuClose:()=>{l.value=""},onMenuToggle:p=>{l.value=l.value?"":p,c.value=p}}),(p,h)=>(i.openBlock(),i.createBlock(i.unref(Mc),{"current-tab-stop-id":c.value,"onUpdate:currentTabStopId":h[0]||(h[0]=m=>c.value=m),orientation:"horizontal",loop:i.unref(u),dir:i.unref(f),"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(G),{ref:i.unref(r),role:"menubar"},{default:i.withCtx(()=>[i.renderSlot(p.$slots,"default",{modelValue:i.unref(l)})]),_:3},512)]),_:3},8,["current-tab-stop-id","loop","dir"]))}}),[k2,dN]=Ce("MenubarMenu"),uN=i.defineComponent({__name:"MenubarMenu",props:{value:{}},setup(t){const e=Qe(t.value),n=ih();V();const o=i.ref(),r=i.ref(!1),s=i.computed(()=>n.modelValue.value===e);return i.watch(s,()=>{s.value||(r.value=!1)}),dN({value:e,triggerElement:o,triggerId:e,contentId:"",wasKeyboardTriggerOpenRef:r}),(a,l)=>(i.openBlock(),i.createBlock(i.unref(u2),{open:s.value,modal:!1,dir:i.unref(n).dir.value,"onUpdate:open":l[0]||(l[0]=c=>{c||i.unref(n).onMenuClose()})},{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},8,["open","dir"]))}}),fN=i.defineComponent({__name:"MenubarTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=ih(),n=k2(),{forwardRef:o,currentElement:r}=V(),s=i.ref(!1),a=i.computed(()=>e.modelValue.value===n.value);return i.onMounted(()=>{n.triggerElement=r}),(l,c)=>(i.openBlock(),i.createBlock(i.unref(eh),{"as-child":"",focusable:!l.disabled,"tab-stop-id":i.unref(n).value},{default:i.withCtx(()=>[i.createVNode(i.unref(Qp),{"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(G),{id:i.unref(n).triggerId,ref:i.unref(o),as:l.as,type:l.as==="button"?"button":void 0,role:"menuitem","aria-haspopup":"menu","aria-expanded":a.value,"aria-controls":a.value?i.unref(n).contentId:void 0,"data-highlighted":s.value?"":void 0,"data-state":a.value?"open":"closed","data-disabled":l.disabled?"":void 0,disabled:l.disabled,"data-value":i.unref(n).value,"data-radix-vue-collection-item":"",onPointerdown:c[0]||(c[0]=d=>{!l.disabled&&d.button===0&&d.ctrlKey===!1&&(i.unref(e).onMenuOpen(i.unref(n).value),a.value||d.preventDefault())}),onPointerenter:c[1]||(c[1]=()=>{var d;i.unref(e).modelValue.value&&!a.value&&(i.unref(e).onMenuOpen(i.unref(n).value),(d=i.unref(r))==null||d.focus())}),onKeydown:c[2]||(c[2]=i.withKeys(d=>{l.disabled||(["Enter"," "].includes(d.key)&&i.unref(e).onMenuToggle(i.unref(n).value),d.key==="ArrowDown"&&i.unref(e).onMenuOpen(i.unref(n).value),["Enter"," ","ArrowDown"].includes(d.key)&&(i.unref(n).wasKeyboardTriggerOpenRef.value=!0,d.preventDefault()))},["enter","space","arrow-down"])),onFocus:c[3]||(c[3]=d=>s.value=!0),onBlur:c[4]||(c[4]=d=>s.value=!1)},{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},8,["id","as","type","aria-expanded","aria-controls","data-highlighted","data-state","data-disabled","disabled","data-value"])]),_:3})]),_:3},8,["focusable","tab-stop-id"]))}}),pN=i.defineComponent({__name:"MenubarPortal",props:{to:{},disabled:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(y2),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),hN=i.defineComponent({__name:"MenubarContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{},align:{default:"start"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:e}){const n=he(t,e);V();const o=ih(),r=k2();r.contentId||(r.contentId=Qe(void 0,"radix-vue-menubar-content"));const{injectCollection:s}=_n("menubar"),a=s(),l=i.ref(!1);function c(d){const u=d.target.hasAttribute("data-radix-menubar-subtrigger"),f=(o.dir.value==="rtl"?"ArrowRight":"ArrowLeft")===d.key;if(!f&&u)return;let p=a.value.map(g=>g.dataset.value);f&&p.reverse();const h=p.indexOf(r.value);p=o.loop.value?Yw(p,h+1):p.slice(h+1);const[m]=p;m&&o.onMenuOpen(m)}return(d,u)=>(i.openBlock(),i.createBlock(i.unref(g2),i.mergeProps(i.unref(n),{id:i.unref(r).contentId,"data-radix-menubar-content":"","aria-labelledby":i.unref(r).triggerId,style:{"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"},onCloseAutoFocus:u[0]||(u[0]=f=>{var p;!i.unref(o).modelValue.value&&!l.value&&((p=i.unref(r).triggerElement.value)==null||p.focus()),l.value=!1,f.preventDefault()}),onFocusOutside:u[1]||(u[1]=f=>{const p=f.target;i.unref(a).some(h=>h.contains(p))&&f.preventDefault()}),onInteractOutside:u[2]||(u[2]=f=>{l.value=!0}),onEntryFocus:u[3]||(u[3]=f=>{i.unref(r).wasKeyboardTriggerOpenRef.value||f.preventDefault()}),onKeydown:i.withKeys(c,["arrow-right","arrow-left"])}),{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default")]),_:3},16,["id","aria-labelledby","style"]))}}),mN=i.defineComponent({__name:"MenubarItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select"],setup(t,{emit:e}){const n=t,o=Fo(e);return V(),(r,s)=>(i.openBlock(),i.createBlock(i.unref(oh),i.normalizeProps(i.guardReactiveProps({...n,...i.unref(o)})),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3},16))}}),gN=i.defineComponent({__name:"MenubarSeparator",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return V(),(n,o)=>(i.openBlock(),i.createBlock(i.unref(b2),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),yN=i.defineComponent({__name:"MenubarCheckboxItem",props:{checked:{type:[Boolean,String]},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select","update:checked"],setup(t,{emit:e}){const n=t,o=Fo(e);return V(),(r,s)=>(i.openBlock(),i.createBlock(i.unref(m2),i.normalizeProps(i.guardReactiveProps({...n,...i.unref(o)})),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3},16))}}),bN=i.defineComponent({__name:"MenubarItemIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=t;return V(),(n,o)=>(i.openBlock(),i.createBlock(i.unref(h2),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),[aa,wN]=Ce("PopoverRoot"),xN=i.defineComponent({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},modal:{type:Boolean,default:!1}},emits:["update:open"],setup(t,{emit:e}){const n=t,o=e,{modal:r}=i.toRefs(n),s=at(n,"open",o,{defaultValue:n.defaultOpen,passive:n.open===void 0}),a=i.ref(),l=i.ref(!1);return wN({contentId:"",modal:r,open:s,onOpenChange:c=>{s.value=c},onOpenToggle:()=>{s.value=!s.value},triggerElement:a,hasCustomAnchor:l}),(c,d)=>(i.openBlock(),i.createBlock(i.unref(ia),null,{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default",{open:i.unref(s)})]),_:3}))}}),kN=i.defineComponent({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=aa(),{forwardRef:o,currentElement:r}=V();return i.onMounted(()=>{n.triggerElement.value=r.value}),(s,a)=>(i.openBlock(),i.createBlock(i.resolveDynamicComponent(i.unref(n).hasCustomAnchor.value?i.unref(G):i.unref(Ec)),{"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(G),{ref:i.unref(o),type:s.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":i.unref(n).open.value,"aria-controls":i.unref(n).contentId,"data-state":i.unref(n).open.value?"open":"closed",as:s.as,"as-child":e.asChild,onClick:i.unref(n).onOpenToggle},{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},8,["type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),CN=i.defineComponent({__name:"PopoverPortal",props:{to:{},disabled:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(na),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),C2=i.defineComponent({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=Ze(n),{forwardRef:s}=V(),a=aa();return Hp(),(l,c)=>(i.openBlock(),i.createBlock(i.unref(kc),{"as-child":"",loop:"",trapped:l.trapFocus,onMountAutoFocus:c[5]||(c[5]=d=>o("openAutoFocus",d)),onUnmountAutoFocus:c[6]||(c[6]=d=>o("closeAutoFocus",d))},{default:i.withCtx(()=>[i.createVNode(i.unref(oa),{"as-child":"","disable-outside-pointer-events":l.disableOutsidePointerEvents,onPointerDownOutside:c[0]||(c[0]=d=>o("pointerDownOutside",d)),onInteractOutside:c[1]||(c[1]=d=>o("interactOutside",d)),onEscapeKeyDown:c[2]||(c[2]=d=>o("escapeKeyDown",d)),onFocusOutside:c[3]||(c[3]=d=>o("focusOutside",d)),onDismiss:c[4]||(c[4]=d=>i.unref(a).onOpenChange(!1))},{default:i.withCtx(()=>[i.createVNode(i.unref(vc),i.mergeProps(i.unref(r),{id:i.unref(a).contentId,ref:i.unref(s),"data-state":i.unref(a).open.value?"open":"closed",role:"dialog",style:{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16,["id","data-state","style"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),SN=i.defineComponent({__name:"PopoverContentModal",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=aa(),s=i.ref(!1);mc(!0);const a=he(n,o),{forwardRef:l,currentElement:c}=V();return bc(c),(d,u)=>(i.openBlock(),i.createBlock(C2,i.mergeProps(i.unref(a),{ref:i.unref(l),"trap-focus":i.unref(r).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:u[0]||(u[0]=i.withModifiers(f=>{var p;o("closeAutoFocus",f),s.value||(p=i.unref(r).triggerElement.value)==null||p.focus()},["prevent"])),onPointerDownOutside:u[1]||(u[1]=f=>{o("pointerDownOutside",f);const p=f.detail.originalEvent,h=p.button===0&&p.ctrlKey===!0,m=p.button===2||h;s.value=m}),onFocusOutside:u[2]||(u[2]=i.withModifiers(()=>{},["prevent"]))}),{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default")]),_:3},16,["trap-focus"]))}}),EN=i.defineComponent({__name:"PopoverContentNonModal",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=aa(),s=i.ref(!1),a=i.ref(!1),l=he(n,o);return(c,d)=>(i.openBlock(),i.createBlock(C2,i.mergeProps(i.unref(l),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:d[0]||(d[0]=u=>{var f;o("closeAutoFocus",u),u.defaultPrevented||(s.value||(f=i.unref(r).triggerElement.value)==null||f.focus(),u.preventDefault()),s.value=!1,a.value=!1}),onInteractOutside:d[1]||(d[1]=async u=>{var f;o("interactOutside",u),u.defaultPrevented||(s.value=!0,u.detail.originalEvent.type==="pointerdown"&&(a.value=!0));const p=u.target;(f=i.unref(r).triggerElement.value)!=null&&f.contains(p)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&a.value&&u.preventDefault()})}),{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default")]),_:3},16))}}),vN=i.defineComponent({__name:"PopoverContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=aa(),s=he(n,o),{forwardRef:a}=V();return r.contentId||(r.contentId=Qe(void 0,"radix-vue-popover-content")),(l,c)=>(i.openBlock(),i.createBlock(i.unref(Dt),{present:l.forceMount||i.unref(r).open.value},{default:i.withCtx(()=>[i.unref(r).modal.value?(i.openBlock(),i.createBlock(SN,i.mergeProps({key:0},i.unref(s),{ref:i.unref(a)}),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16)):(i.openBlock(),i.createBlock(EN,i.mergeProps({key:1},i.unref(s),{ref:i.unref(a)}),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),[Gt,AN]=Ce("ScrollAreaRoot"),MN=i.defineComponent({__name:"ScrollAreaRoot",props:{type:{default:"hover"},dir:{},scrollHideDelay:{default:600},asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n,currentElement:o}=V(),r=i.ref(0),s=i.ref(0),a=i.ref(),l=i.ref(),c=i.ref(),d=i.ref(),u=i.ref(!1),f=i.ref(!1),{type:p,dir:h,scrollHideDelay:m}=i.toRefs(e),g=Zn(h);return AN({type:p,dir:g,scrollHideDelay:m,scrollArea:o,viewport:a,onViewportChange:y=>{a.value=y||void 0},content:l,onContentChange:y=>{l.value=y},scrollbarX:c,scrollbarXEnabled:u,scrollbarY:d,scrollbarYEnabled:f,onScrollbarXChange:y=>{c.value=y||void 0},onScrollbarYChange:y=>{d.value=y||void 0},onScrollbarXEnabledChange:y=>{u.value=y},onScrollbarYEnabledChange:y=>{f.value=y},onCornerWidthChange:y=>{r.value=y},onCornerHeightChange:y=>{s.value=y}}),(y,b)=>(i.openBlock(),i.createBlock(i.unref(G),{ref:i.unref(n),"as-child":e.asChild,as:y.as,dir:i.unref(g),style:i.normalizeStyle({position:"relative","--radix-scroll-area-corner-width":`${r.value}px`,"--radix-scroll-area-corner-height":`${s.value}px`})},{default:i.withCtx(()=>[i.renderSlot(y.$slots,"default")]),_:3},8,["as-child","as","dir","style"]))}}),_N=i.defineComponent({inheritAttrs:!1,__name:"ScrollAreaViewport",props:{nonce:{},asChild:{type:Boolean},as:{}},setup(t,{expose:e}){const n=t,o=Gt(),r=i.ref();i.onMounted(()=>{o.onViewportChange(r.value),o.onContentChange(a.value)}),e({viewportElement:r});const{forwardRef:s,currentElement:a}=V();return(l,c)=>(i.openBlock(),i.createElementBlock(i.Fragment,null,[i.createElementVNode("div",i.mergeProps({ref_key:"viewportElement",ref:r,"data-radix-scroll-area-viewport":"",style:{overflowX:i.unref(o).scrollbarXEnabled.value?"scroll":"hidden",overflowY:i.unref(o).scrollbarYEnabled.value?"scroll":"hidden"}},l.$attrs,{tabindex:0}),[i.createVNode(i.unref(G),{ref:i.unref(s),style:{minWidth:"100%",display:"table"},"as-child":n.asChild,as:l.as},{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},8,["as-child","as"])],16),i.createVNode(i.unref(G),{as:"style",nonce:l.nonce},{default:i.withCtx(()=>[i.createTextVNode(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-radix-scroll-area-viewport] { scrollbar-width:none; -ms-overflow-style:none; -webkit-overflow-scrolling:touch; } [data-radix-scroll-area-viewport]::-webkit-scrollbar { display:none; } ")]),_:1},8,["nonce"])],64))}});function S2(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const o=(e[1]-e[0])/(t[1]-t[0]);return e[0]+o*(n-t[0])}}function _c(t){const e=E2(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=(t.scrollbar.size-n)*e;return Math.max(o,18)}function E2(t,e){const n=t/e;return Number.isNaN(n)?0:n}function TN(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},o=0;return function r(){const s={left:t.scrollLeft,top:t.scrollTop},a=n.left!==s.left,l=n.top!==s.top;(a||l)&&e(),n=s,o=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(o)}function v2(t,e,n="ltr"){const o=_c(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-r,a=e.content-e.viewport,l=s-o,c=n==="ltr"?[0,a]:[a*-1,0],d=Dp(t,c[0],c[1]);return S2([0,a],[0,l])(d)}function Tc(t){return t?Number.parseInt(t,10):0}function BN(t,e,n,o="ltr"){const r=_c(n),s=r/2,a=e||s,l=r-a,c=n.scrollbar.paddingStart+a,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,f=o==="ltr"?[0,u]:[u*-1,0];return S2([c,d],f)(t)}function A2(t,e){return t>0&&t<e}const M2=i.defineComponent({__name:"ScrollAreaScrollbarImpl",props:{isHorizontal:{type:Boolean}},emits:["onDragScroll","onWheelScroll","onThumbPointerDown"],setup(t,{emit:e}){const n=t,o=e,r=Gt(),s=Bc(),a=Oc(),{forwardRef:l,currentElement:c}=V(),d=i.ref(""),u=i.ref();function f(b){var x,k;if(u.value){const w=b.clientX-((x=u.value)==null?void 0:x.left),C=b.clientY-((k=u.value)==null?void 0:k.top);o("onDragScroll",{x:w,y:C})}}function p(b){b.button===0&&(b.target.setPointerCapture(b.pointerId),u.value=c.value.getBoundingClientRect(),d.value=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",r.viewport&&(r.viewport.value.style.scrollBehavior="auto"),f(b))}function h(b){f(b)}function m(b){const x=b.target;x.hasPointerCapture(b.pointerId)&&x.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=d.value,r.viewport&&(r.viewport.value.style.scrollBehavior=""),u.value=void 0}function g(b){var x;const k=b.target,w=(x=c.value)==null?void 0:x.contains(k),C=s.sizes.value.content-s.sizes.value.viewport;w&&s.handleWheelScroll(b,C)}i.onMounted(()=>{document.addEventListener("wheel",g,{passive:!1})}),i.onUnmounted(()=>{document.removeEventListener("wheel",g)});function y(){var b,x,k,w,C;c.value&&(n.isHorizontal?s.handleSizeChange({content:((b=r.viewport.value)==null?void 0:b.scrollWidth)??0,viewport:((x=r.viewport.value)==null?void 0:x.offsetWidth)??0,scrollbar:{size:c.value.clientWidth??0,paddingStart:Tc(getComputedStyle(c.value).paddingLeft),paddingEnd:Tc(getComputedStyle(c.value).paddingRight)}}):s.handleSizeChange({content:((k=r.viewport.value)==null?void 0:k.scrollHeight)??0,viewport:((w=r.viewport.value)==null?void 0:w.offsetHeight)??0,scrollbar:{size:((C=c.value)==null?void 0:C.clientHeight)??0,paddingStart:Tc(getComputedStyle(c.value).paddingLeft),paddingEnd:Tc(getComputedStyle(c.value).paddingRight)}}))}return _i(c,y),_i(r.content,y),(b,x)=>(i.openBlock(),i.createBlock(i.unref(G),{ref:i.unref(l),style:{position:"absolute"},"data-scrollbarimpl":"",as:i.unref(a).as.value,"as-child":i.unref(a).asChild.value,onPointerdown:p,onPointermove:h,onPointerup:m},{default:i.withCtx(()=>[i.renderSlot(b.$slots,"default")]),_:3},8,["as","as-child"]))}}),ON=i.defineComponent({__name:"ScrollAreaScrollbarX",setup(t){const e=Gt(),n=Bc(),{forwardRef:o,currentElement:r}=V();i.onMounted(()=>{r.value&&e.onScrollbarXChange(r.value)});const s=i.computed(()=>n.sizes.value);return(a,l)=>(i.openBlock(),i.createBlock(M2,{ref:i.unref(o),"is-horizontal":!0,"data-orientation":"horizontal",style:i.normalizeStyle({bottom:0,left:i.unref(e).dir.value==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.unref(e).dir.value==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":s.value?`${i.unref(_c)(s.value)}px`:void 0}),onOnDragScroll:l[0]||(l[0]=c=>i.unref(n).onDragScroll(c.x))},{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},8,["style"]))}}),NN=i.defineComponent({__name:"ScrollAreaScrollbarY",setup(t){const e=Gt(),n=Bc(),{forwardRef:o,currentElement:r}=V();i.onMounted(()=>{r.value&&e.onScrollbarYChange(r.value)});const s=i.computed(()=>n.sizes.value);return(a,l)=>(i.openBlock(),i.createBlock(M2,{ref:i.unref(o),"is-horizontal":!1,"data-orientation":"vertical",style:i.normalizeStyle({top:0,right:i.unref(e).dir.value==="ltr"?0:void 0,left:i.unref(e).dir.value==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":s.value?`${i.unref(_c)(s.value)}px`:void 0}),onOnDragScroll:l[0]||(l[0]=c=>i.unref(n).onDragScroll(c.y))},{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},8,["style"]))}}),[Bc,PN]=Ce("ScrollAreaScrollbarVisible"),sh=i.defineComponent({__name:"ScrollAreaScrollbarVisible",setup(t){const e=Gt(),n=Oc(),{forwardRef:o}=V(),r=i.ref({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),s=i.computed(()=>{const b=E2(r.value.viewport,r.value.content);return b>0&&b<1}),a=i.ref(),l=i.ref(0);function c(b,x){if(h.value){const k=e.viewport.value.scrollLeft+b.deltaY;e.viewport.value.scrollLeft=k,A2(k,x)&&b.preventDefault()}else{const k=e.viewport.value.scrollTop+b.deltaY;e.viewport.value.scrollTop=k,A2(k,x)&&b.preventDefault()}}function d(b,x){h.value?l.value=x.x:l.value=x.y}function u(b){l.value=0}function f(b){r.value=b}function p(b,x){return BN(b,l.value,r.value,x)}const h=i.computed(()=>n.isHorizontal.value);function m(b){h.value?e.viewport.value.scrollLeft=p(b,e.dir.value):e.viewport.value.scrollTop=p(b)}function g(){if(h.value){if(e.viewport.value&&a.value){const b=e.viewport.value.scrollLeft,x=v2(b,r.value,e.dir.value);a.value.style.transform=`translate3d(${x}px, 0, 0)`}}else if(e.viewport.value&&a.value){const b=e.viewport.value.scrollTop,x=v2(b,r.value);a.value.style.transform=`translate3d(0, ${x}px, 0)`}}function y(b){a.value=b}return PN({sizes:r,hasThumb:s,handleWheelScroll:c,handleThumbDown:d,handleThumbUp:u,handleSizeChange:f,onThumbPositionChange:g,onThumbChange:y,onDragScroll:m}),(b,x)=>h.value?(i.openBlock(),i.createBlock(ON,i.mergeProps({key:0},b.$attrs,{ref:i.unref(o)}),{default:i.withCtx(()=>[i.renderSlot(b.$slots,"default")]),_:3},16)):(i.openBlock(),i.createBlock(NN,i.mergeProps({key:1},b.$attrs,{ref:i.unref(o)}),{default:i.withCtx(()=>[i.renderSlot(b.$slots,"default")]),_:3},16))}}),_2=i.defineComponent({__name:"ScrollAreaScrollbarAuto",props:{forceMount:{type:Boolean}},setup(t){const e=Gt(),n=Oc(),{forwardRef:o}=V(),r=i.ref(!1),s=Hw(()=>{if(e.viewport.value){const a=e.viewport.value.offsetWidth<e.viewport.value.scrollWidth,l=e.viewport.value.offsetHeight<e.viewport.value.scrollHeight;r.value=n.isHorizontal.value?a:l}},10);return i.onMounted(()=>s()),_i(e.viewport,s),_i(e.content,s),(a,l)=>(i.openBlock(),i.createBlock(i.unref(Dt),{present:a.forceMount||r.value},{default:i.withCtx(()=>[i.createVNode(sh,i.mergeProps(a.$attrs,{ref:i.unref(o),"data-state":r.value?"visible":"hidden"}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),IN=i.defineComponent({inheritAttrs:!1,__name:"ScrollAreaScrollbarHover",props:{forceMount:{type:Boolean}},setup(t){const e=Gt(),{forwardRef:n}=V();let o;const r=i.ref(!1);function s(){window.clearTimeout(o),r.value=!0}function a(){o=window.setTimeout(()=>{r.value=!1},e.scrollHideDelay.value)}return i.onMounted(()=>{const l=e.scrollArea.value;l&&(l.addEventListener("pointerenter",s),l.addEventListener("pointerleave",a))}),i.onUnmounted(()=>{const l=e.scrollArea.value;l&&(window.clearTimeout(o),l.removeEventListener("pointerenter",s),l.removeEventListener("pointerleave",a))}),(l,c)=>(i.openBlock(),i.createBlock(i.unref(Dt),{present:l.forceMount||r.value},{default:i.withCtx(()=>[i.createVNode(_2,i.mergeProps(l.$attrs,{ref:i.unref(n),"data-state":r.value?"visible":"hidden"}),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),DN=i.defineComponent({__name:"ScrollAreaScrollbarScroll",props:{forceMount:{type:Boolean}},setup(t){const e=Gt(),n=Oc(),{forwardRef:o}=V(),{state:r,dispatch:s}=Jw("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});i.watchEffect(l=>{if(r.value==="idle"){const c=window.setTimeout(()=>s("HIDE"),e.scrollHideDelay.value);l(()=>{window.clearTimeout(c)})}});const a=Hw(()=>s("SCROLL_END"),100);return i.watchEffect(l=>{const c=e.viewport.value,d=n.isHorizontal.value?"scrollLeft":"scrollTop";if(c){let u=c[d];const f=()=>{const p=c[d];u!==p&&(s("SCROLL"),a()),u=p};c.addEventListener("scroll",f),l(()=>{c.removeEventListener("scroll",f)})}}),(l,c)=>(i.openBlock(),i.createBlock(i.unref(Dt),{present:l.forceMount||i.unref(r)!=="hidden"},{default:i.withCtx(()=>[i.createVNode(sh,i.mergeProps(l.$attrs,{ref:i.unref(o)}),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),[Oc,RN]=Ce("ScrollAreaScrollbar"),LN=i.defineComponent({inheritAttrs:!1,__name:"ScrollAreaScrollbar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"div"}},setup(t){const e=t,{forwardRef:n}=V(),o=Gt(),r=i.computed(()=>e.orientation==="horizontal");i.watch(r,()=>{r.value?o.onScrollbarXEnabledChange(!0):o.onScrollbarYEnabledChange(!0)},{immediate:!0}),i.onUnmounted(()=>{o.onScrollbarXEnabledChange(!1),o.onScrollbarYEnabledChange(!1)});const{orientation:s,forceMount:a,asChild:l,as:c}=i.toRefs(e);return RN({orientation:s,forceMount:a,isHorizontal:r,as:c,asChild:l}),(d,u)=>i.unref(o).type.value==="hover"?(i.openBlock(),i.createBlock(IN,i.mergeProps({key:0},d.$attrs,{ref:i.unref(n),"force-mount":i.unref(a)}),{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default")]),_:3},16,["force-mount"])):i.unref(o).type.value==="scroll"?(i.openBlock(),i.createBlock(DN,i.mergeProps({key:1},d.$attrs,{ref:i.unref(n),"force-mount":i.unref(a)}),{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default")]),_:3},16,["force-mount"])):i.unref(o).type.value==="auto"?(i.openBlock(),i.createBlock(_2,i.mergeProps({key:2},d.$attrs,{ref:i.unref(n),"force-mount":i.unref(a)}),{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default")]),_:3},16,["force-mount"])):i.unref(o).type.value==="always"?(i.openBlock(),i.createBlock(sh,i.mergeProps({key:3},d.$attrs,{ref:i.unref(n),"data-state":"visible"}),{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default")]),_:3},16)):i.createCommentVNode("",!0)}}),$N=i.defineComponent({__name:"ScrollAreaThumb",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t,n=Gt(),o=Bc();function r(p){const h=p.target.getBoundingClientRect(),m=p.clientX-h.left,g=p.clientY-h.top;o.handleThumbDown(p,{x:m,y:g})}function s(p){o.handleThumbUp(p)}const{forwardRef:a,currentElement:l}=V(),c=i.ref(),d=i.computed(()=>n.viewport.value);function u(){if(!c.value){const p=TN(d.value,o.onThumbPositionChange);c.value=p,o.onThumbPositionChange()}}const f=i.computed(()=>o.sizes.value);return bB(f,()=>{o.onThumbChange(l.value),d.value&&(o.onThumbPositionChange(),d.value.addEventListener("scroll",u))}),i.onUnmounted(()=>{var p;d.value.removeEventListener("scroll",u),(p=n.viewport.value)==null||p.removeEventListener("scroll",u)}),(p,h)=>(i.openBlock(),i.createBlock(i.unref(G),{ref:i.unref(a),"data-state":i.unref(o).hasThumb?"visible":"hidden",style:i.normalizeStyle({width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)"}),"as-child":e.asChild,as:p.as,onPointerdown:r,onPointerup:s},{default:i.withCtx(()=>[i.renderSlot(p.$slots,"default")]),_:3},8,["data-state","style","as-child","as"]))}}),VN=i.defineComponent({__name:"ScrollAreaCornerImpl",setup(t){const e=Gt(),n=i.ref(0),o=i.ref(0),r=i.computed(()=>!!n.value&&!!o.value);function s(){var l;const c=((l=e.scrollbarX.value)==null?void 0:l.offsetHeight)||0;e.onCornerHeightChange(c),o.value=c}function a(){var l;const c=((l=e.scrollbarY.value)==null?void 0:l.offsetWidth)||0;e.onCornerWidthChange(c),n.value=c}return _i(e.scrollbarX.value,s),_i(e.scrollbarY.value,a),i.watch(()=>e.scrollbarX.value,s),i.watch(()=>e.scrollbarY.value,a),(l,c)=>{var d;return r.value?(i.openBlock(),i.createBlock(i.unref(G),i.mergeProps({key:0,style:{width:`${n.value}px`,height:`${o.value}px`,position:"absolute",right:i.unref(e).dir.value==="ltr"?0:void 0,left:i.unref(e).dir.value==="rtl"?0:void 0,bottom:0}},(d=l.$parent)==null?void 0:d.$props),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16,["style"])):i.createCommentVNode("",!0)}}}),zN=i.defineComponent({__name:"ScrollAreaCorner",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n}=V(),o=Gt(),r=i.computed(()=>!!o.scrollbarX.value&&!!o.scrollbarY.value),s=i.computed(()=>o.type.value!=="scroll"&&r.value);return(a,l)=>s.value?(i.openBlock(),i.createBlock(VN,i.mergeProps({key:0},e,{ref:i.unref(n)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16)):i.createCommentVNode("",!0)}}),FN=["default-value"],HN=i.defineComponent({__name:"BubbleSelect",props:{autocomplete:{},autofocus:{type:Boolean},disabled:{type:Boolean},form:{},multiple:{type:Boolean},name:{},required:{type:Boolean},size:{},value:{}},setup(t){const e=t,{value:n}=i.toRefs(e),o=i.ref();return(r,s)=>(i.openBlock(),i.createBlock(i.unref(Ac),{"as-child":""},{default:i.withCtx(()=>[i.withDirectives(i.createElementVNode("select",i.mergeProps({ref_key:"selectElement",ref:o},e,{"onUpdate:modelValue":s[0]||(s[0]=a=>i.isRef(n)?n.value=a:null),"default-value":i.unref(n)}),[i.renderSlot(r.$slots,"default")],16,FN),[[i.vModelSelect,i.unref(n)]])]),_:3}))}}),jN={key:0,value:""},[Pr,T2]=Ce("SelectRoot"),[UN,WN]=Ce("SelectRoot"),KN=i.defineComponent({__name:"SelectRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean},defaultValue:{default:""},modelValue:{default:void 0},dir:{},name:{},autocomplete:{},disabled:{type:Boolean},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(t,{emit:e}){const n=t,o=e,r=at(n,"modelValue",o,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),s=at(n,"open",o,{defaultValue:n.defaultOpen,passive:n.open===void 0}),a=i.ref(),l=i.ref(),c=i.ref({x:0,y:0}),d=i.ref(!1),{required:u,disabled:f,dir:p}=i.toRefs(n),h=Zn(p);T2({triggerElement:a,onTriggerChange:b=>{a.value=b},valueElement:l,onValueElementChange:b=>{l.value=b},valueElementHasChildren:d,onValueElementHasChildrenChange:b=>{d.value=b},contentId:"",modelValue:r,onValueChange:b=>{r.value=b},open:s,required:u,onOpenChange:b=>{s.value=b},dir:h,triggerPointerDownPosRef:c,disabled:f});const m=qw(a),g=i.ref(new Set),y=i.computed(()=>Array.from(g.value).map(b=>{var x;return(x=b.props)==null?void 0:x.value}).join(";"));return WN({onNativeOptionAdd:b=>{g.value.add(b)},onNativeOptionRemove:b=>{g.value.delete(b)}}),(b,x)=>(i.openBlock(),i.createBlock(i.unref(ia),null,{default:i.withCtx(()=>[i.renderSlot(b.$slots,"default",{modelValue:i.unref(r),open:i.unref(s)}),i.unref(m)?(i.openBlock(),i.createBlock(HN,i.mergeProps({key:y.value},b.$attrs,{"aria-hidden":"",tabindex:"-1",required:i.unref(u),name:b.name,autocomplete:b.autocomplete,disabled:i.unref(f),value:i.unref(r),onChange:x[0]||(x[0]=k=>r.value=k.target.value)}),{default:i.withCtx(()=>[i.unref(r)===void 0?(i.openBlock(),i.createElementBlock("option",jN)):i.createCommentVNode("",!0),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(Array.from(g.value),k=>(i.openBlock(),i.createBlock(i.resolveDynamicComponent(k),i.mergeProps(k.props,{key:k.key??""}),null,16))),128))]),_:1},16,["required","name","autocomplete","disabled","value"])):i.createCommentVNode("",!0)]),_:3}))}}),qN=[" ","Enter","ArrowUp","ArrowDown"],GN=[" ","Enter"],eo=10;function B2(t){return t===""||rB(t)}const JN=i.defineComponent({__name:"SelectTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=Pr(),o=i.computed(()=>{var h;return((h=n.disabled)==null?void 0:h.value)||e.disabled}),{forwardRef:r,currentElement:s}=V();n.contentId||(n.contentId=Qe(void 0,"radix-vue-select-content")),i.onMounted(()=>{n.triggerElement=s});const{injectCollection:a}=_n(),l=a(),{search:c,handleTypeaheadSearch:d,resetTypeahead:u}=Up(l);function f(){o.value||(n.onOpenChange(!0),u())}function p(h){f(),n.triggerPointerDownPosRef.value={x:Math.round(h.pageX),y:Math.round(h.pageY)}}return(h,m)=>(i.openBlock(),i.createBlock(i.unref(Ec),{"as-child":""},{default:i.withCtx(()=>{var g,y,b,x;return[i.createVNode(i.unref(G),{ref:i.unref(r),role:"combobox",type:h.as==="button"?"button":void 0,"aria-controls":i.unref(n).contentId,"aria-expanded":i.unref(n).open.value||!1,"aria-required":(g=i.unref(n).required)==null?void 0:g.value,"aria-autocomplete":"none",disabled:o.value,dir:(y=i.unref(n))==null?void 0:y.dir.value,"data-state":(b=i.unref(n))!=null&&b.open.value?"open":"closed","data-disabled":o.value?"":void 0,"data-placeholder":i.unref(B2)((x=i.unref(n).modelValue)==null?void 0:x.value)?"":void 0,"as-child":h.asChild,as:h.as,onClick:m[0]||(m[0]=k=>{var w;(w=k==null?void 0:k.currentTarget)==null||w.focus()}),onPointerdown:m[1]||(m[1]=k=>{if(k.pointerType==="touch")return k.preventDefault();const w=k.target;w.hasPointerCapture(k.pointerId)&&w.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&(p(k),k.preventDefault())}),onPointerup:m[2]||(m[2]=i.withModifiers(k=>{k.pointerType==="touch"&&p(k)},["prevent"])),onKeydown:m[3]||(m[3]=k=>{const w=i.unref(c)!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&w&&k.key===" "||(i.unref(d)(k.key),i.unref(qN).includes(k.key)&&(f(),k.preventDefault()))})},{default:i.withCtx(()=>[i.renderSlot(h.$slots,"default")]),_:3},8,["type","aria-controls","aria-expanded","aria-required","disabled","dir","data-state","data-disabled","data-placeholder","as-child","as"])]}),_:3}))}}),YN=i.defineComponent({__name:"SelectPortal",props:{to:{},disabled:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(na),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),[ah,XN]=Ce("SelectItemAlignedPosition"),ZN=i.defineComponent({inheritAttrs:!1,__name:"SelectItemAlignedPosition",props:{asChild:{type:Boolean},as:{}},emits:["placed"],setup(t,{emit:e}){const n=t,o=e,{injectCollection:r}=_n(),s=Pr(),a=Ir(),l=r(),c=i.ref(!1),d=i.ref(!0),u=i.ref(),{forwardRef:f,currentElement:p}=V(),{viewport:h,selectedItem:m,selectedItemText:g,focusSelectedItem:y}=a;function b(){if(s.triggerElement.value&&s.valueElement.value&&u.value&&p.value&&h!=null&&h.value&&m!=null&&m.value&&g!=null&&g.value){const w=s.triggerElement.value.getBoundingClientRect(),C=p.value.getBoundingClientRect(),S=s.valueElement.value.getBoundingClientRect(),v=g.value.getBoundingClientRect();if(s.dir.value!=="rtl"){const me=v.left-C.left,_e=S.left-me,Ge=w.left-_e,ve=w.width+Ge,wt=Math.max(ve,C.width),Zt=window.innerWidth-eo,dn=Dp(_e,eo,Zt-wt);u.value.style.minWidth=`${ve}px`,u.value.style.left=`${dn}px`}else{const me=C.right-v.right,_e=window.innerWidth-S.right-me,Ge=window.innerWidth-w.right-_e,ve=w.width+Ge,wt=Math.max(ve,C.width),Zt=window.innerWidth-eo,dn=Dp(_e,eo,Zt-wt);u.value.style.minWidth=`${ve}px`,u.value.style.right=`${dn}px`}const B=l.value,_=window.innerHeight-eo*2,E=h.value.scrollHeight,T=window.getComputedStyle(p.value),M=Number.parseInt(T.borderTopWidth,10),$=Number.parseInt(T.paddingTop,10),L=Number.parseInt(T.borderBottomWidth,10),U=Number.parseInt(T.paddingBottom,10),O=M+$+E+U+L,A=Math.min(m.value.offsetHeight*5,O),N=window.getComputedStyle(h.value),D=Number.parseInt(N.paddingTop,10),F=Number.parseInt(N.paddingBottom,10),z=w.top+w.height/2-eo,Q=_-z,ue=m.value.offsetHeight/2,ie=m.value.offsetTop+ue,se=M+$+ie,be=O-se;if(se<=z){const me=m.value===B[B.length-1];u.value.style.bottom="0px";const _e=p.value.clientHeight-h.value.offsetTop-h.value.offsetHeight,Ge=Math.max(Q,ue+(me?F:0)+_e+L),ve=se+Ge;u.value.style.height=`${ve}px`}else{const me=m.value===B[0];u.value.style.top="0px";const _e=Math.max(z,M+h.value.offsetTop+(me?D:0)+ue)+be;u.value.style.height=`${_e}px`,h.value.scrollTop=se-z+h.value.offsetTop}u.value.style.margin=`${eo}px 0`,u.value.style.minHeight=`${A}px`,u.value.style.maxHeight=`${_}px`,o("placed"),requestAnimationFrame(()=>c.value=!0)}}const x=i.ref("");i.onMounted(async()=>{await i.nextTick(),b(),p.value&&(x.value=window.getComputedStyle(p.value).zIndex)});function k(w){w&&d.value===!0&&(b(),y==null||y(),d.value=!1)}return XN({contentWrapper:u,shouldExpandOnScrollRef:c,onScrollButtonChange:k}),(w,C)=>(i.openBlock(),i.createElementBlock("div",{ref_key:"contentWrapperElement",ref:u,style:i.normalizeStyle({display:"flex",flexDirection:"column",position:"fixed",zIndex:x.value})},[i.createVNode(i.unref(G),i.mergeProps({ref:i.unref(f),style:{boxSizing:"border-box",maxHeight:"100%"}},{...w.$attrs,...n}),{default:i.withCtx(()=>[i.renderSlot(w.$slots,"default")]),_:3},16,["style"])],4))}}),QN=i.defineComponent({__name:"SelectPopperPosition",props:{side:{},sideOffset:{},align:{default:"start"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{default:eo},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=Ze(t);return(n,o)=>(i.openBlock(),i.createBlock(i.unref(vc),i.mergeProps(i.unref(e),{style:{boxSizing:"border-box","--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16,["style"]))}}),Bi={onViewportChange:()=>{},itemTextRefCallback:()=>{},itemRefCallback:()=>{}},[Ir,eP]=Ce("SelectContent"),tP=i.defineComponent({__name:"SelectContentImpl",props:{position:{default:"item-aligned"},bodyLock:{type:Boolean,default:!0},side:{},sideOffset:{},align:{default:"start"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,o=e,r=Pr();Hp(),mc(n.bodyLock);const{createCollection:s}=_n(),a=i.ref();bc(a);const l=s(a),{search:c,handleTypeaheadSearch:d}=Up(l),u=i.ref(),f=i.ref(),p=i.ref(),h=i.ref(!1),m=i.ref(!1);function g(){f.value&&a.value&&Xp([f.value,a.value])}i.watch(h,()=>{g()});const{onOpenChange:y,triggerPointerDownPosRef:b}=r;i.watchEffect(C=>{if(!a.value)return;let S={x:0,y:0};const v=_=>{var E,T;S={x:Math.abs(Math.round(_.pageX)-(((E=b.value)==null?void 0:E.x)??0)),y:Math.abs(Math.round(_.pageY)-(((T=b.value)==null?void 0:T.y)??0))}},B=_=>{var E;_.pointerType!=="touch"&&(S.x<=10&&S.y<=10?_.preventDefault():(E=a.value)!=null&&E.contains(_.target)||y(!1),document.removeEventListener("pointermove",v),b.value=null)};b.value!==null&&(document.addEventListener("pointermove",v),document.addEventListener("pointerup",B,{capture:!0,once:!0})),C(()=>{document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",B,{capture:!0})})});function x(C){const S=C.ctrlKey||C.altKey||C.metaKey;if(C.key==="Tab"&&C.preventDefault(),!S&&C.key.length===1&&d(C.key),["ArrowUp","ArrowDown","Home","End"].includes(C.key)){let v=l.value;if(["ArrowUp","End"].includes(C.key)&&(v=v.slice().reverse()),["ArrowUp","ArrowDown"].includes(C.key)){const B=C.target,_=v.indexOf(B);v=v.slice(_+1)}setTimeout(()=>Xp(v)),C.preventDefault()}}const k=i.computed(()=>n.position==="popper"?n:{}),w=Ze(k.value);return eP({content:a,viewport:u,onViewportChange:C=>{u.value=C},itemRefCallback:(C,S,v)=>{var B,_;const E=!m.value&&!v;(((B=r.modelValue)==null?void 0:B.value)!==void 0&&((_=r.modelValue)==null?void 0:_.value)===S||E)&&(f.value=C,E&&(m.value=!0))},selectedItem:f,selectedItemText:p,onItemLeave:()=>{var C;(C=a.value)==null||C.focus()},itemTextRefCallback:(C,S,v)=>{var B,_;const E=!m.value&&!v;(((B=r.modelValue)==null?void 0:B.value)!==void 0&&((_=r.modelValue)==null?void 0:_.value)===S||E)&&(p.value=C)},focusSelectedItem:g,position:n.position,isPositioned:h,searchRef:c}),(C,S)=>(i.openBlock(),i.createBlock(i.unref(kc),{"as-child":"",onMountAutoFocus:S[6]||(S[6]=i.withModifiers(()=>{},["prevent"])),onUnmountAutoFocus:S[7]||(S[7]=v=>{var B;o("closeAutoFocus",v),!v.defaultPrevented&&((B=i.unref(r).triggerElement.value)==null||B.focus({preventScroll:!0}),v.preventDefault())})},{default:i.withCtx(()=>[i.createVNode(i.unref(oa),{"as-child":"","disable-outside-pointer-events":"",onFocusOutside:S[2]||(S[2]=i.withModifiers(()=>{},["prevent"])),onDismiss:S[3]||(S[3]=v=>i.unref(r).onOpenChange(!1)),onEscapeKeyDown:S[4]||(S[4]=v=>o("escapeKeyDown",v)),onPointerDownOutside:S[5]||(S[5]=v=>o("pointerDownOutside",v))},{default:i.withCtx(()=>[(i.openBlock(),i.createBlock(i.resolveDynamicComponent(C.position==="popper"?QN:ZN),i.mergeProps({...C.$attrs,...i.unref(w)},{id:i.unref(r).contentId,ref:v=>{a.value=i.unref(It)(v)},role:"listbox","data-state":i.unref(r).open.value?"open":"closed",dir:i.unref(r).dir.value,style:{display:"flex",flexDirection:"column",outline:"none"},onContextmenu:S[0]||(S[0]=i.withModifiers(()=>{},["prevent"])),onPlaced:S[1]||(S[1]=v=>h.value=!0),onKeydown:x}),{default:i.withCtx(()=>[i.renderSlot(C.$slots,"default")]),_:3},16,["id","data-state","dir","onKeydown"]))]),_:3})]),_:3}))}}),nP=i.defineComponent({__name:"SelectProvider",props:{context:{}},setup(t){return T2(t.context),(e,n)=>i.renderSlot(e.$slots,"default")}}),oP={key:1},rP=i.defineComponent({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,o=he(n,e),r=Pr(),s=i.ref();i.onMounted(()=>{s.value=new DocumentFragment});const a=i.ref(),l=i.computed(()=>n.forceMount||r.open.value);return(c,d)=>{var u;return l.value?(i.openBlock(),i.createBlock(i.unref(Dt),{key:0,ref_key:"presenceRef",ref:a,present:!0},{default:i.withCtx(()=>[i.createVNode(tP,i.normalizeProps(i.guardReactiveProps({...i.unref(o),...c.$attrs})),{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default")]),_:3},16)]),_:3},512)):!((u=a.value)!=null&&u.present)&&s.value?(i.openBlock(),i.createElementBlock("div",oP,[(i.openBlock(),i.createBlock(i.Teleport,{to:s.value},[i.createVNode(nP,{context:i.unref(r)},{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default")]),_:3},8,["context"])],8,["to"]))])):i.createCommentVNode("",!0)}}}),iP=i.defineComponent({__name:"SelectSeparator",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(G),i.mergeProps({"aria-hidden":""},e),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),[O2,sP]=Ce("SelectItem"),aP=i.defineComponent({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,{disabled:n}=i.toRefs(e),o=Pr(),r=Ir(Bi),{forwardRef:s,currentElement:a}=V(),l=i.computed(()=>{var g;return((g=o.modelValue)==null?void 0:g.value)===e.value}),c=i.ref(!1),d=i.ref(e.textValue??""),u=Qe(void 0,"radix-vue-select-item-text");async function f(g){await i.nextTick(),!(g!=null&&g.defaultPrevented)&&(n.value||(o.onValueChange(e.value),o.onOpenChange(!1)))}async function p(g){var y;await i.nextTick(),!g.defaultPrevented&&(n.value?(y=r.onItemLeave)==null||y.call(r):g.currentTarget.focus({preventScroll:!0}))}async function h(g){var y;await i.nextTick(),!g.defaultPrevented&&g.currentTarget===document.activeElement&&((y=r.onItemLeave)==null||y.call(r))}async function m(g){var y;await i.nextTick(),!(g.defaultPrevented||((y=r.searchRef)==null?void 0:y.value)!==""&&g.key===" ")&&(GN.includes(g.key)&&f(),g.key===" "&&g.preventDefault())}if(e.value==="")throw new Error("A <SelectItem /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.onMounted(()=>{a.value&&r.itemRefCallback(a.value,e.value,e.disabled)}),sP({value:e.value,disabled:n,textId:u,isSelected:l,onItemTextChange:g=>{d.value=((d.value||(g==null?void 0:g.textContent))??"").trim()}}),(g,y)=>(i.openBlock(),i.createBlock(i.unref(G),{ref:i.unref(s),role:"option","data-radix-vue-collection-item":"","aria-labelledby":i.unref(u),"data-highlighted":c.value?"":void 0,"aria-selected":l.value&&c.value,"data-state":l.value?"checked":"unchecked","aria-disabled":i.unref(n)||void 0,"data-disabled":i.unref(n)?"":void 0,tabindex:i.unref(n)?void 0:-1,as:g.as,"as-child":g.asChild,onFocus:y[0]||(y[0]=b=>c.value=!0),onBlur:y[1]||(y[1]=b=>c.value=!1),onPointerup:f,onPointerdown:y[2]||(y[2]=b=>{b.currentTarget.focus({preventScroll:!0})}),onTouchend:y[3]||(y[3]=i.withModifiers(()=>{},["prevent","stop"])),onPointermove:p,onPointerleave:h,onKeydown:m},{default:i.withCtx(()=>[i.renderSlot(g.$slots,"default")]),_:3},8,["aria-labelledby","data-highlighted","aria-selected","data-state","aria-disabled","data-disabled","tabindex","as","as-child"]))}}),lP=i.defineComponent({__name:"SelectItemIndicator",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=t,n=O2();return(o,r)=>i.unref(n).isSelected.value?(i.openBlock(),i.createBlock(i.unref(G),i.mergeProps({key:0,"aria-hidden":""},e),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16)):i.createCommentVNode("",!0)}}),[sG,cP]=Ce("SelectGroup"),dP=i.defineComponent({__name:"SelectGroup",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t,n=Qe(void 0,"radix-vue-select-group");return cP({id:n}),(o,r)=>(i.openBlock(),i.createBlock(i.unref(G),i.mergeProps({role:"group"},e,{"aria-labelledby":i.unref(n)}),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),uP=i.defineComponent({inheritAttrs:!1,__name:"SelectItemText",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=t,n=Pr(),o=Ir(Bi),r=UN(),s=O2(),{forwardRef:a,currentElement:l}=V(),c=i.computed(()=>{var d;return i.h("option",{key:s.value,value:s.value,disabled:s.disabled.value,innerHTML:(d=l.value)==null?void 0:d.textContent})});return i.onMounted(()=>{l.value&&(s.onItemTextChange(l.value),o.itemTextRefCallback(l.value,s.value,s.disabled.value),r.onNativeOptionAdd(c.value))}),i.onBeforeUnmount(()=>{r.onNativeOptionRemove(c.value)}),(d,u)=>(i.openBlock(),i.createElementBlock(i.Fragment,null,[i.createVNode(i.unref(G),i.mergeProps({id:i.unref(s).textId,ref:i.unref(a)},{...e,...d.$attrs}),{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default")]),_:3},16,["id"]),i.unref(s).isSelected.value&&i.unref(n).valueElement.value&&!i.unref(n).valueElementHasChildren.value?(i.openBlock(),i.createBlock(i.Teleport,{key:0,to:i.unref(n).valueElement.value},[i.renderSlot(d.$slots,"default")],8,["to"])):i.createCommentVNode("",!0)],64))}}),fP=i.defineComponent({__name:"SelectViewport",props:{nonce:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,n=Ir(Bi),o=n.position==="item-aligned"?ah():void 0,{forwardRef:r,currentElement:s}=V();i.onMounted(()=>{n==null||n.onViewportChange(s.value)});const a=i.ref(0);function l(c){const d=c.currentTarget,{shouldExpandOnScrollRef:u,contentWrapper:f}=o??{};if(u!=null&&u.value&&f!=null&&f.value){const p=Math.abs(a.value-d.scrollTop);if(p>0){const h=window.innerHeight-eo*2,m=Number.parseFloat(f.value.style.minHeight),g=Number.parseFloat(f.value.style.height),y=Math.max(m,g);if(y<h){const b=y+p,x=Math.min(h,b),k=b-x;f.value.style.height=`${x}px`,f.value.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,f.value.style.justifyContent="flex-end")}}}a.value=d.scrollTop}return(c,d)=>(i.openBlock(),i.createElementBlock(i.Fragment,null,[i.createVNode(i.unref(G),i.mergeProps({ref:i.unref(r),"data-radix-select-viewport":"",role:"presentation"},{...c.$attrs,...e},{style:{position:"relative",flex:1,overflow:"auto"},onScroll:l}),{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default")]),_:3},16,["style"]),i.createVNode(i.unref(G),{as:"style",nonce:c.nonce},{default:i.withCtx(()=>[i.createTextVNode(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-radix-select-viewport] { scrollbar-width:none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } [data-radix-select-viewport]::-webkit-scrollbar { display: none; } ")]),_:1},8,["nonce"])],64))}}),N2=i.defineComponent({__name:"SelectScrollButtonImpl",emits:["autoScroll"],setup(t,{emit:e}){const n=e,{injectCollection:o}=_n(),r=o(),s=Ir(Bi),a=i.ref(null);function l(){a.value!==null&&(window.clearInterval(a.value),a.value=null)}i.watchEffect(()=>{const u=r.value.find(f=>f===document.activeElement);u==null||u.scrollIntoView({block:"nearest"})});function c(){a.value===null&&(a.value=window.setInterval(()=>{n("autoScroll")},50))}function d(){var u;(u=s.onItemLeave)==null||u.call(s),a.value===null&&(a.value=window.setInterval(()=>{n("autoScroll")},50))}return i.onBeforeUnmount(()=>l()),(u,f)=>{var p;return i.openBlock(),i.createBlock(i.unref(G),i.mergeProps({"aria-hidden":"",style:{flexShrink:0}},(p=u.$parent)==null?void 0:p.$props,{onPointerdown:c,onPointermove:d,onPointerleave:f[0]||(f[0]=()=>{l()})}),{default:i.withCtx(()=>[i.renderSlot(u.$slots,"default")]),_:3},16)}}}),pP=i.defineComponent({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean},as:{}},setup(t){const e=Ir(Bi),n=e.position==="item-aligned"?ah():void 0,{forwardRef:o,currentElement:r}=V(),s=i.ref(!1);return i.watchEffect(a=>{var l,c;if((l=e.viewport)!=null&&l.value&&(c=e.isPositioned)!=null&&c.value){let d=function(){s.value=u.scrollTop>0};const u=e.viewport.value;d(),u.addEventListener("scroll",d),a(()=>u.removeEventListener("scroll",d))}}),i.watch(r,()=>{r.value&&(n==null||n.onScrollButtonChange(r.value))}),(a,l)=>s.value?(i.openBlock(),i.createBlock(N2,{key:0,ref:i.unref(o),onAutoScroll:l[0]||(l[0]=()=>{const{viewport:c,selectedItem:d}=i.unref(e);c!=null&&c.value&&d!=null&&d.value&&(c.value.scrollTop=c.value.scrollTop-d.value.offsetHeight)})},{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},512)):i.createCommentVNode("",!0)}}),hP=i.defineComponent({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean},as:{}},setup(t){const e=Ir(Bi),n=e.position==="item-aligned"?ah():void 0,{forwardRef:o,currentElement:r}=V(),s=i.ref(!1);return i.watchEffect(a=>{var l,c;if((l=e.viewport)!=null&&l.value&&(c=e.isPositioned)!=null&&c.value){let d=function(){const f=u.scrollHeight-u.clientHeight;s.value=Math.ceil(u.scrollTop)<f};const u=e.viewport.value;d(),u.addEventListener("scroll",d),a(()=>u.removeEventListener("scroll",d))}}),i.watch(r,()=>{r.value&&(n==null||n.onScrollButtonChange(r.value))}),(a,l)=>s.value?(i.openBlock(),i.createBlock(N2,{key:0,ref:i.unref(o),onAutoScroll:l[0]||(l[0]=()=>{const{viewport:c,selectedItem:d}=i.unref(e);c!=null&&c.value&&d!=null&&d.value&&(c.value.scrollTop=c.value.scrollTop+d.value.offsetHeight)})},{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},512)):i.createCommentVNode("",!0)}}),mP=i.defineComponent({__name:"SelectValue",props:{placeholder:{default:""},asChild:{type:Boolean},as:{default:"span"}},setup(t){const{forwardRef:e,currentElement:n}=V(),o=Pr(),r=i.useSlots();return i.onBeforeMount(()=>{var s;const a=!!hc((s=r==null?void 0:r.default)==null?void 0:s.call(r)).length;o.onValueElementHasChildrenChange(a)}),i.onMounted(()=>{o.valueElement=n}),(s,a)=>(i.openBlock(),i.createBlock(i.unref(G),{ref:i.unref(e),as:s.as,"as-child":s.asChild,style:{pointerEvents:"none"}},{default:i.withCtx(()=>{var l;return[i.unref(B2)((l=i.unref(o).modelValue)==null?void 0:l.value)?(i.openBlock(),i.createElementBlock(i.Fragment,{key:0},[i.createTextVNode(i.toDisplayString(s.placeholder),1)],64)):i.renderSlot(s.$slots,"default",{key:1})]}),_:3},8,["as","as-child"]))}}),gP=i.defineComponent({__name:"SelectIcon",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){return(e,n)=>(i.openBlock(),i.createBlock(i.unref(G),{"aria-hidden":"",as:e.as,"as-child":e.asChild},{default:i.withCtx(()=>[i.renderSlot(e.$slots,"default",{},()=>[i.createTextVNode("▼")])]),_:3},8,["as","as-child"]))}}),yP=i.defineComponent({__name:"BaseSeparator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=t,n=["horizontal","vertical"];function o(l){return n.includes(l)}const r=i.computed(()=>o(e.orientation)?e.orientation:"horizontal"),s=i.computed(()=>r.value==="vertical"?e.orientation:void 0),a=i.computed(()=>e.decorative?{role:"none"}:{"aria-orientation":s.value,role:"separator"});return(l,c)=>(i.openBlock(),i.createBlock(i.unref(G),i.mergeProps({as:l.as,"as-child":l.asChild,"data-orientation":r.value},a.value),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16,["as","as-child","data-orientation"]))}}),bP=i.defineComponent({__name:"Separator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(yP,i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}});let lh=null,Dr=null;function wP(t,e){if(e){const n=(e&F2)!==0,o=(e&H2)!==0,r=(e&j2)!==0,s=(e&U2)!==0;if(n)return r?"se-resize":s?"ne-resize":"e-resize";if(o)return r?"sw-resize":s?"nw-resize":"w-resize";if(r)return"s-resize";if(s)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function xP(){Dr!==null&&(document.head.removeChild(Dr),lh=null,Dr=null)}function ch(t,e){const n=wP(t,e);lh!==n&&(lh=n,Dr===null&&(Dr=document.createElement("style"),document.head.appendChild(Dr)),Dr.innerHTML=`*{cursor: ${n}!important;}`)}function kP({defaultSize:t,dragState:e,layout:n,panelData:o,panelIndex:r,precision:s=3}){const a=n[r];let l;return a==null?l=t!==void 0?t.toPrecision(s):"1":o.length===1?l="1":l=a.toPrecision(s),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function P2(t){return t.type==="keydown"}function I2(t){return t.type.startsWith("mouse")}function D2(t){return t.type.startsWith("touch")}function Nc(t){if(I2(t))return{x:t.clientX,y:t.clientY};if(D2(t)){const e=t.touches[0];if(e&&e.clientX&&e.clientY)return{x:e.clientX,y:e.clientY}}return{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY}}function R2(t,e){const n=t==="horizontal",{x:o,y:r}=Nc(e);return n?o:r}function CP(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function pe(t,e="Assertion failed!"){if(!t)throw console.error(e),new Error(e)}function SP(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:V2(t),b:V2(e)};let o;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),o=t;pe(o);const r={a:$2(L2(n.a)),b:$2(L2(n.b))};if(r.a===r.b){const s=o.childNodes,a={a:n.a.at(-1),b:n.b.at(-1)};let l=s.length;for(;l--;){const c=s[l];if(c===a.a)return 1;if(c===a.b)return-1}}return Math.sign(r.a-r.b)}const EP=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function vP(t){const e=getComputedStyle(z2(t)).display;return e==="flex"||e==="inline-flex"}function AP(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||vP(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||EP.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function L2(t){let e=t.length;for(;e--;){const n=t[e];if(pe(n),AP(n))return n}return null}function $2(t){return t&&Number(getComputedStyle(t).zIndex)||0}function V2(t){const e=[];for(;t;)e.push(t),t=z2(t);return e}function z2(t){var e;return((e=t.parentNode)==null?void 0:e.host)||t.parentNode}const F2=1,H2=2,j2=4,U2=8;function MP(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}const _P=MP()==="coarse",jo=[];let Pc=!1;const Uo=new Map,Ic=new Map,la=new Set;function TP(t,e,n,o,r){const{ownerDocument:s}=e,a={direction:n,element:e,hitAreaMargins:o,setResizeHandlerState:r},l=Uo.get(s)??0;return Uo.set(s,l+1),la.add(a),Rc(),function(){Ic.delete(t),la.delete(a);const c=Uo.get(s)??1;Uo.set(s,c-1),Rc(),c===1&&Uo.delete(s)}}function Dc(t){const{target:e}=t,{x:n,y:o}=Nc(t);Pc=!0,dh({target:e,x:n,y:o}),Rc(),jo.length>0&&(fh("down",t),t.preventDefault())}function Wo(t){const{x:e,y:n}=Nc(t);if(!Pc){const{target:o}=t;dh({target:o,x:e,y:n})}fh("move",t),W2(),jo.length>0&&t.preventDefault()}function Ko(t){const{target:e}=t,{x:n,y:o}=Nc(t);Ic.clear(),Pc=!1,jo.length>0&&t.preventDefault(),fh("up",t),dh({target:e,x:n,y:o}),W2(),Rc()}function dh({target:t,x:e,y:n}){jo.splice(0);let o=null;t instanceof HTMLElement&&(o=t),la.forEach(r=>{const{element:s,hitAreaMargins:a}=r,l=s.getBoundingClientRect(),{bottom:c,left:d,right:u,top:f}=l,p=_P?a.coarse:a.fine;if(e>=d-p&&e<=u+p&&n>=f-p&&n<=c+p){if(o!==null&&s!==o&&!s.contains(o)&&!o.contains(s)&&SP(o,s)>0){let h=o,m=!1;for(;h&&!h.contains(s);){if(CP(h.getBoundingClientRect(),l)){m=!0;break}h=h.parentElement}if(m)return}jo.push(r)}})}function uh(t,e){Ic.set(t,e)}function W2(){let t=!1,e=!1;jo.forEach(o=>{const{direction:r}=o;r==="horizontal"?t=!0:e=!0});let n=0;Ic.forEach(o=>{n|=o}),t&&e?ch("intersection",n):t?ch("horizontal",n):e?ch("vertical",n):xP()}function Rc(){Uo.forEach((t,e)=>{const{body:n}=e;n.removeEventListener("contextmenu",Ko),n.removeEventListener("mousedown",Dc),n.removeEventListener("mouseleave",Wo),n.removeEventListener("mousemove",Wo),n.removeEventListener("touchmove",Wo),n.removeEventListener("touchstart",Dc)}),window.removeEventListener("mouseup",Ko),window.removeEventListener("touchcancel",Ko),window.removeEventListener("touchend",Ko),la.size>0&&(Pc?(jo.length>0&&Uo.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("contextmenu",Ko),n.addEventListener("mouseleave",Wo),n.addEventListener("mousemove",Wo),n.addEventListener("touchmove",Wo,{passive:!1}))}),window.addEventListener("mouseup",Ko),window.addEventListener("touchcancel",Ko),window.addEventListener("touchend",Ko)):Uo.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("mousedown",Dc),n.addEventListener("mousemove",Wo),n.addEventListener("touchmove",Wo,{passive:!1}),n.addEventListener("touchstart",Dc))}))}function fh(t,e){la.forEach(n=>{const{setResizeHandlerState:o}=n,r=jo.includes(n);o(t,r,e)})}const K2=10;function ca(t,e,n=K2){t=Number.parseFloat(t.toFixed(n)),e=Number.parseFloat(e.toFixed(n));const o=t-e;return o===0?0:o>0?1:-1}function Rt(t,e,n){return ca(t,e,n)===0}function Oi({panelConstraints:t,panelIndex:e,size:n}){const o=t[e];pe(o!=null);const{collapsedSize:r=0,collapsible:s,maxSize:a=100,minSize:l=0}=o;if(ca(n,l)<0)if(s){const c=(r+l)/2;ca(n,c)<0?n=r:n=l}else n=l;return n=Math.min(a,n),n=Number.parseFloat(n.toFixed(K2)),n}function Lc(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function da({delta:t,layout:e,panelConstraints:n,pivotIndices:o,trigger:r}){if(Rt(t,0))return e;const s=[...e],[a,l]=o;pe(a!=null),pe(l!=null);let c=0;if(r==="keyboard"){{const u=t<0?l:a,f=n[u];if(pe(f),f.collapsible){const p=e[u];pe(p!=null);const h=n[u];pe(h);const{collapsedSize:m=0,minSize:g=0}=h;if(Rt(p,m)){const y=g-p;ca(y,Math.abs(t))>0&&(t=t<0?0-y:y)}}}{const u=t<0?a:l,f=n[u];pe(f);const{collapsible:p}=f;if(p){const h=e[u];pe(h!=null);const m=n[u];pe(m);const{collapsedSize:g=0,minSize:y=0}=m;if(Rt(h,y)){const b=h-g;ca(b,Math.abs(t))>0&&(t=t<0?0-b:b)}}}}{const u=t<0?1:-1;let f=t<0?l:a,p=0;for(;;){const m=e[f];pe(m!=null);const g=Oi({panelConstraints:n,panelIndex:f,size:100})-m;if(p+=g,f+=u,f<0||f>=n.length)break}const h=Math.min(Math.abs(t),Math.abs(p));t=t<0?0-h:h}{let u=t<0?a:l;for(;u>=0&&u<n.length;){const f=Math.abs(t)-Math.abs(c),p=e[u];pe(p!=null);const h=p-f,m=Oi({panelConstraints:n,panelIndex:u,size:h});if(!Rt(p,m)&&(c+=p-m,s[u]=m,c.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?u--:u++}}if(Rt(c,0))return e;{const u=t<0?l:a,f=e[u];pe(f!=null);const p=f+c,h=Oi({panelConstraints:n,panelIndex:u,size:p});if(s[u]=h,!Rt(h,p)){let m=p-h,g=t<0?l:a;for(;g>=0&&g<n.length;){const y=s[g];pe(y!=null);const b=y+m,x=Oi({panelConstraints:n,panelIndex:g,size:b});if(Rt(y,x)||(m-=x-y,s[g]=x),Rt(m,0))break;t>0?g--:g++}}}const d=s.reduce((u,f)=>f+u,0);return Rt(d,100)?s:e}function q2(t,e=document){var n;return ta?e instanceof HTMLElement&&((n=e==null?void 0:e.dataset)==null?void 0:n.panelGroupId)===t?e:e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`)||null:null}function $c(t,e=document){return ta&&e.querySelector(`[data-panel-resize-handle-id="${t}"]`)||null}function G2(t,e,n=document){return ta?ua(t,n).findIndex(o=>o.getAttribute("data-panel-resize-handle-id")===e)??null:null}function ua(t,e=document){return ta?Array.from(e.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${t}"]`)):[]}function BP(t,e,n,o=document){var r,s;const a=$c(e,o),l=ua(t,o),c=a?l.indexOf(a):-1,d=((r=n[c])==null?void 0:r.id)??null,u=((s=n[c+1])==null?void 0:s.id)??null;return[d,u]}function OP(t,e,n,o,r){const s=n==="horizontal",a=$c(e,r);pe(a);const l=a.getAttribute("data-panel-group-id");pe(l);const{initialCursorPosition:c}=o,d=R2(n,t),u=q2(l,r);pe(u);const f=u.getBoundingClientRect(),p=s?f.width:f.height;return(d-c)/p*100}function NP(t,e,n,o,r,s){if(P2(t)){const a=n==="horizontal";let l=0;t.shiftKey?l=100:l=r??10;let c=0;switch(t.key){case"ArrowDown":c=a?0:l;break;case"ArrowLeft":c=a?-l:0;break;case"ArrowRight":c=a?l:0;break;case"ArrowUp":c=a?0:-l;break;case"End":c=100;break;case"Home":c=-100;break}return c}else return o==null?0:OP(t,e,n,o,s)}function PP({layout:t,panelsArray:e,pivotIndices:n}){let o=0,r=100,s=0,a=0;const l=n[0];pe(l!=null),e.forEach((f,p)=>{const{constraints:h}=f,{maxSize:m=100,minSize:g=0}=h;p===l?(o=g,r=m):(s+=g,a+=m)});const c=Math.min(r,100-s),d=Math.max(o,100-a),u=t[l];return{valueMax:c,valueMin:d,valueNow:u}}function IP({panelDataArray:t}){const e=Array(t.length),n=t.map(s=>s.constraints);let o=0,r=100;for(let s=0;s<t.length;s++){const a=n[s];pe(a);const{defaultSize:l}=a;l!=null&&(o++,e[s]=l,r-=l)}for(let s=0;s<t.length;s++){const a=n[s];pe(a);const{defaultSize:l}=a;if(l!=null)continue;const c=t.length-o,d=r/c;o++,e[s]=d,r-=d}return e}function fa(t,e,n){e.forEach((o,r)=>{const s=t[r];pe(s);const{callbacks:a,constraints:l,id:c}=s,{collapsedSize:d=0,collapsible:u}=l,f=n[c];if(f==null||o!==f){n[c]=o;const{onCollapse:p,onExpand:h,onResize:m}=a;m&&m(o,f),u&&(p||h)&&(h&&(f==null||f===d)&&o!==d&&h(),p&&(f==null||f!==d)&&o===d&&p())}})}function DP(t,e=10){let n=null;return(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...o)},e)}}function J2(t,e,n){const o=G2(t,e,n);return o!=null?[o,o+1]:[-1,-1]}function RP({layout:t,panelConstraints:e}){const n=[...t],o=n.reduce((s,a)=>s+a,0);if(n.length!==e.length)throw new Error(`Invalid ${e.length} panel layout: ${n.map(s=>`${s}%`).join(", ")}`);if(!Rt(o,100)){console.warn(`WARNING: Invalid layout total size: ${n.map(s=>`${s}%`).join(", ")}. Layout normalization will be applied.`);for(let s=0;s<e.length;s++){const a=n[s];pe(a!=null);const l=100/o*a;n[s]=l}}let r=0;for(let s=0;s<e.length;s++){const a=n[s];pe(a!=null);const l=Oi({panelConstraints:e,panelIndex:s,size:a});a!==l&&(r+=a-l,n[s]=l)}if(!Rt(r,0))for(let s=0;s<e.length;s++){const a=n[s];pe(a!=null);const l=a+r,c=Oi({panelConstraints:e,panelIndex:s,size:l});if(a!==c&&(r-=c-a,n[s]=c,Rt(r,0)))break}return n}function Y2(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new TypeError("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function X2(t){return`radix-vue:${t}`}function Z2(t){return t.map(e=>{const{constraints:n,id:o,idIsFromProps:r,order:s}=e;return r?o:s?`${s}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function Q2(t,e){try{const n=X2(t),o=e.getItem(n);if(o){const r=JSON.parse(o);if(typeof r=="object"&&r!=null)return r}}catch{}return null}function LP(t,e,n){const o=Q2(t,n)??{},r=Z2(e);return o[r]??null}function $P(t,e,n,o,r){const s=X2(t),a=Z2(e),l=Q2(t,r)??{};l[a]={expandToSizes:Object.fromEntries(n.entries()),layout:o};try{r.setItem(s,JSON.stringify(l))}catch(c){console.error(c)}}function VP({eagerValuesRef:t,groupId:e,layout:n,panelDataArray:o,panelGroupElement:r,setLayout:s}){i.watchEffect(a=>{const l=r.value;if(!l)return;const c=ua(e,l);for(let d=0;d<o.length-1;d++){const{valueMax:u,valueMin:f,valueNow:p}=PP({layout:n.value,panelsArray:o,pivotIndices:[d,d+1]}),h=c[d];if(h!=null){const m=o[d];pe(m),h.setAttribute("aria-controls",m.id),h.setAttribute("aria-valuemax",`${Math.round(u)}`),h.setAttribute("aria-valuemin",`${Math.round(f)}`),h.setAttribute("aria-valuenow",p!=null?`${Math.round(p)}`:"")}}a(()=>{c.forEach(d=>{d.removeAttribute("aria-controls"),d.removeAttribute("aria-valuemax"),d.removeAttribute("aria-valuemin"),d.removeAttribute("aria-valuenow")})})}),i.watchEffect(a=>{const l=r.value;if(!l)return;const c=t.value;pe(c);const{panelDataArray:d}=c,u=q2(e,l);pe(u!=null,`No group found for id "${e}"`);const f=ua(e,l);pe(f);const p=f.map(h=>{const m=h.getAttribute("data-panel-resize-handle-id");pe(m);const[g,y]=BP(e,m,d,l);if(g==null||y==null)return()=>{};const b=x=>{if(!x.defaultPrevented)switch(x.key){case"Enter":{x.preventDefault();const k=d.findIndex(w=>w.id===g);if(k>=0){const w=d[k];pe(w);const C=n.value[k],{collapsedSize:S=0,collapsible:v,minSize:B=0}=w.constraints;if(C!=null&&v){const _=da({delta:Rt(C,S)?B-S:S-C,layout:n.value,panelConstraints:d.map(E=>E.constraints),pivotIndices:J2(e,m,l),trigger:"keyboard"});n.value!==_&&s(_)}}break}}};return h.addEventListener("keydown",b),()=>{h.removeEventListener("keydown",b)}});a(()=>{p.forEach(h=>h())})})}const zP=100,pa={getItem:t=>(Y2(pa),pa.getItem(t)),setItem:(t,e)=>{Y2(pa),pa.setItem(t,e)}},[ex,FP]=Ce("PanelGroup"),HP=i.defineComponent({__name:"SplitterGroup",props:{id:{},autoSaveId:{default:null},direction:{},keyboardResizeBy:{default:10},storage:{default:()=>pa},asChild:{type:Boolean},as:{}},emits:["layout"],setup(t,{emit:e}){const n=t,o=e,r={},s=Qe(n.id,"radix-vue-splitter-group"),a=Zn(),{forwardRef:l,currentElement:c}=V(),d=i.ref(null),u=i.ref([]),f=i.ref({}),p=i.ref(new Map),h=i.ref(0),m=i.computed(()=>({autoSaveId:n.autoSaveId,direction:n.direction,dragState:d.value,id:s,keyboardResizeBy:n.keyboardResizeBy,storage:n.storage})),g=i.ref({layout:u.value,panelDataArray:[],panelDataArrayChanged:!1}),y=O=>u.value=O;VP({eagerValuesRef:g,groupId:s,layout:u,panelDataArray:g.value.panelDataArray,setLayout:y,panelGroupElement:c}),i.watchEffect(()=>{const{panelDataArray:O}=g.value,{autoSaveId:A}=n;if(A){if(u.value.length===0||u.value.length!==O.length)return;let N=r[A];N||(N=DP($P,zP),r[A]=N);const D=[...O],F=new Map(p.value);N(A,D,F,u.value,n.storage)}});function b(O,A){const{panelDataArray:N}=g.value,D=L(N,O);return kP({defaultSize:A,dragState:d.value,layout:u.value,panelData:N,panelIndex:D})}function x(O){const{panelDataArray:A}=g.value;A.push(O),A.sort((N,D)=>{const F=N.order,z=D.order;return F==null&&z==null?0:F==null?-1:z==null?1:F-z}),g.value.panelDataArrayChanged=!0}i.watch(()=>g.value.panelDataArrayChanged,()=>{if(g.value.panelDataArrayChanged){g.value.panelDataArrayChanged=!1;const{autoSaveId:O,storage:A}=m.value,{layout:N,panelDataArray:D}=g.value;let F=null;if(O){const Q=LP(O,D,A);Q&&(p.value=new Map(Object.entries(Q.expandToSizes)),F=Q.layout)}F===null&&(F=IP({panelDataArray:D}));const z=RP({layout:F,panelConstraints:D.map(Q=>Q.constraints)});oB(N,z)||(y(z),g.value.layout=z,o("layout",z),fa(D,z,f.value))}});function k(O){return function(A){A.preventDefault();const N=c.value;if(!N)return()=>null;const{direction:D,dragState:F,id:z,keyboardResizeBy:Q}=m.value,{layout:ue,panelDataArray:ie}=g.value,{initialLayout:se}=F??{},be=J2(z,O,N);let me=NP(A,O,D,F,Q,N);if(me===0)return;const _e=D==="horizontal";a.value==="rtl"&&_e&&(me=-me);const Ge=ie.map(Zt=>Zt.constraints),ve=da({delta:me,layout:se??ue,panelConstraints:Ge,pivotIndices:be,trigger:P2(A)?"keyboard":"mouse-or-touch"}),wt=!Lc(ue,ve);(I2(A)||D2(A))&&h.value!==me&&(h.value=me,wt?uh(O,0):_e?uh(O,me<0?F2:H2):uh(O,me<0?j2:U2)),wt&&(y(ve),g.value.layout=ve,o("layout",ve),fa(ie,ve,f.value))}}function w(O,A){const{layout:N,panelDataArray:D}=g.value,F=D.map(se=>se.constraints),{panelSize:z,pivotIndices:Q}=U(D,O,N);pe(z!=null);const ue=L(D,O)===D.length-1?z-A:A-z,ie=da({delta:ue,layout:N,panelConstraints:F,pivotIndices:Q,trigger:"imperative-api"});Lc(N,ie)||(y(ie),g.value.layout=ie,o("layout",ie),fa(D,ie,f.value))}function C(O,A){const{layout:N,panelDataArray:D}=g.value,{collapsedSize:F=0,collapsible:z}=A,{collapsedSize:Q=0,collapsible:ue,maxSize:ie=100,minSize:se=0}=O.constraints,{panelSize:be}=U(D,O,N);be!==null&&(z&&ue&&be===F?F!==Q&&w(O,Q):be<se?w(O,se):be>ie&&w(O,ie))}function S(O,A){const{direction:N}=m.value,{layout:D}=g.value;if(!c.value)return;const F=$c(O,c.value);pe(F);const z=R2(N,A);d.value={dragHandleId:O,dragHandleRect:F.getBoundingClientRect(),initialCursorPosition:z,initialLayout:D}}function v(){d.value=null}function B(O){const{panelDataArray:A}=g.value,N=L(A,O);N>=0&&(A.splice(N,1),delete f.value[O.id],g.value.panelDataArrayChanged=!0)}function _(O){const{layout:A,panelDataArray:N}=g.value;if(O.constraints.collapsible){const D=N.map(ue=>ue.constraints),{collapsedSize:F=0,panelSize:z,pivotIndices:Q}=U(N,O,A);if(pe(z!=null,`Panel size not found for panel "${O.id}"`),z!==F){p.value.set(O.id,z);const ue=L(N,O)===N.length-1?z-F:F-z,ie=da({delta:ue,layout:A,panelConstraints:D,pivotIndices:Q,trigger:"imperative-api"});Lc(A,ie)||(y(ie),g.value.layout=ie,o("layout",ie),fa(N,ie,f.value))}}}function E(O){const{layout:A,panelDataArray:N}=g.value;if(O.constraints.collapsible){const D=N.map(ie=>ie.constraints),{collapsedSize:F=0,panelSize:z,minSize:Q=0,pivotIndices:ue}=U(N,O,A);if(z===F){const ie=p.value.get(O.id),se=ie!=null&&ie>=Q?ie:Q,be=L(N,O)===N.length-1?z-se:se-z,me=da({delta:be,layout:A,panelConstraints:D,pivotIndices:ue,trigger:"imperative-api"});Lc(A,me)||(y(me),g.value.layout=me,o("layout",me),fa(N,me,f.value))}}}function T(O){const{layout:A,panelDataArray:N}=g.value,{panelSize:D}=U(N,O,A);return pe(D!=null,`Panel size not found for panel "${O.id}"`),D}function M(O){const{layout:A,panelDataArray:N}=g.value,{collapsedSize:D=0,collapsible:F,panelSize:z}=U(N,O,A);return F===!0&&z===D}function $(O){const{layout:A,panelDataArray:N}=g.value,{collapsedSize:D=0,collapsible:F,panelSize:z}=U(N,O,A);return pe(z!=null,`Panel size not found for panel "${O.id}"`),!F||z>D}FP({direction:n.direction,dragState:d.value,groupId:s,reevaluatePanelConstraints:C,registerPanel:x,registerResizeHandle:k,resizePanel:w,startDragging:S,stopDragging:v,unregisterPanel:B,panelGroupElement:c,collapsePanel:_,expandPanel:E,isPanelCollapsed:M,isPanelExpanded:$,getPanelSize:T,getPanelStyle:b});function L(O,A){return O.findIndex(N=>N===A||N.id===A.id)}function U(O,A,N){const D=L(O,A),F=D===O.length-1?[D-1,D]:[D,D+1],z=N[D];return{...A.constraints,panelSize:z,pivotIndices:F}}return(O,A)=>(i.openBlock(),i.createBlock(i.unref(G),{ref:i.unref(l),style:i.normalizeStyle({display:"flex",flexDirection:O.direction==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"}),"data-panel-group":"","data-orientation":O.direction,"data-panel-group-id":i.unref(s)},{default:i.withCtx(()=>[i.renderSlot(O.$slots,"default",{layout:u.value})]),_:3},8,["style","data-orientation","data-panel-group-id"]))}}),tx=i.defineComponent({__name:"SplitterPanel",props:{collapsedSize:{},collapsible:{type:Boolean},defaultSize:{},id:{},maxSize:{},minSize:{},order:{},asChild:{type:Boolean},as:{}},emits:["collapse","expand","resize"],setup(t,{expose:e,emit:n}){const o=t,r=n,s=ex();if(s===null)throw new Error("SplitterPanel components must be rendered within a SplitterGroup container");const{collapsePanel:a,expandPanel:l,getPanelSize:c,getPanelStyle:d,isPanelCollapsed:u,resizePanel:f,groupId:p,reevaluatePanelConstraints:h,registerPanel:m,unregisterPanel:g}=s,y=Qe(o.id,"radix-vue-splitter-panel"),b=i.computed(()=>({callbacks:{onCollapse:()=>r("collapse"),onExpand:()=>r("expand"),onResize:(...C)=>r("resize",...C)},constraints:{collapsedSize:o.collapsedSize,collapsible:o.collapsible,defaultSize:o.defaultSize,maxSize:o.maxSize,minSize:o.minSize},id:y,idIsFromProps:o.id!==void 0,order:o.order}));i.watch(()=>b.value.constraints,(C,S)=>{(C.collapsedSize!==S.collapsedSize||C.collapsible!==S.collapsible||C.maxSize!==S.maxSize||C.minSize!==S.minSize)&&h(b.value,C)},{deep:!0}),i.onMounted(()=>{const C=b.value;m(C),i.onUnmounted(()=>{g(C)})});const x=i.computed(()=>d(b.value,o.defaultSize)),k=i.computed(()=>u(b.value)),w=i.computed(()=>!k.value);return e({collapse:()=>{a(b.value)},expand:()=>{l(b.value)},getSize(){return c(b.value)},resize:C=>{f(b.value,C)},isCollapsed:k,isExpanded:w}),(C,S)=>(i.openBlock(),i.createBlock(i.unref(G),{id:i.unref(y),style:i.normalizeStyle(x.value),"data-panel":"","data-panel-collapsible":C.collapsible||void 0,"data-panel-group-id":i.unref(p),"data-panel-id":i.unref(y),"data-panel-size":Number.parseFloat(`${x.value.flexGrow}`).toFixed(1),"data-state":C.collapsible?k.value?"collapsed":"expanded":void 0},{default:i.withCtx(()=>[i.renderSlot(C.$slots,"default",{isCollapsed:k.value,isExpanded:w.value})]),_:3},8,["id","style","data-panel-collapsible","data-panel-group-id","data-panel-id","data-panel-size","data-state"]))}});function jP({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:o}){i.watchEffect(r=>{const s=o.value;if(t.value||n.value===null||s===null)return;const a=$c(e,s);if(a==null)return;const l=c=>{var d;if(!c.defaultPrevented)switch(c.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{c.preventDefault(),(d=n.value)==null||d.call(n,c);break}case"F6":{c.preventDefault();const u=a.getAttribute("data-panel-group-id");pe(u);const f=ua(u,s),p=G2(u,e,s);pe(p!==null);const h=c.shiftKey?p>0?p-1:f.length-1:p+1<f.length?p+1:0;f[h].focus();break}}};a.addEventListener("keydown",l),r(()=>{a.removeEventListener("keydown",l)})})}const UP=i.defineComponent({__name:"SplitterResizeHandle",props:{id:{},hitAreaMargins:{},tabindex:{default:0},disabled:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["dragging"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r,currentElement:s}=V(),{disabled:a}=i.toRefs(n),l=ex();if(l===null)throw new Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:c,groupId:d,registerResizeHandle:u,startDragging:f,stopDragging:p,panelGroupElement:h}=l,m=Qe(n.id,"radix-vue-splitter-resize-handle"),g=i.ref("inactive"),y=i.ref(!1),b=i.ref(null);return i.watch(a,()=>{ta&&(a.value?b.value=null:b.value=u(m))},{immediate:!0}),i.watchEffect(x=>{var k,w;if(a.value||b.value===null)return;const C=s.value;if(!C)return;pe(C);const S=(v,B,_)=>{var E;if(B)switch(v){case"down":{g.value="drag",f(m,_),o("dragging",!0);break}case"move":{g.value!=="drag"&&(g.value="hover"),(E=b.value)==null||E.call(b,_);break}case"up":{g.value="hover",p(),o("dragging",!1);break}}else g.value="inactive"};x(TP(m,C,c,{coarse:((k=n.hitAreaMargins)==null?void 0:k.coarse)??15,fine:((w=n.hitAreaMargins)==null?void 0:w.fine)??5},S))}),jP({disabled:a,resizeHandler:b,handleId:m,panelGroupElement:h}),(x,k)=>(i.openBlock(),i.createBlock(i.unref(G),{id:i.unref(m),ref:i.unref(r),style:{touchAction:"none",userSelect:"none"},role:"separator","data-resize-handle":"",tabindex:x.tabindex,"data-state":g.value,"data-disabled":i.unref(a)?"":void 0,"data-orientation":i.unref(c),"data-panel-group-id":i.unref(d),"data-resize-handle-active":g.value==="drag"?"pointer":y.value?"keyboard":void 0,"data-resize-handle-state":g.value,"data-panel-resize-handle-enabled":!i.unref(a),"data-panel-resize-handle-id":i.unref(m),onBlur:k[0]||(k[0]=w=>y.value=!1),onFocus:k[1]||(k[1]=w=>y.value=!1)},{default:i.withCtx(()=>[i.renderSlot(x.$slots,"default")]),_:3},8,["id","tabindex","data-state","data-disabled","data-orientation","data-panel-group-id","data-resize-handle-active","data-resize-handle-state","data-panel-resize-handle-enabled","data-panel-resize-handle-id"]))}}),[ph,WP]=Ce("TabsRoot"),KP=i.defineComponent({__name:"TabsRoot",props:{defaultValue:{},orientation:{default:"horizontal"},dir:{},activationMode:{default:"automatic"},modelValue:{},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,{orientation:r,dir:s}=i.toRefs(n),a=Zn(s);V();const l=at(n,"modelValue",o,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),c=i.ref();return WP({modelValue:l,changeModelValue:d=>{l.value=d},orientation:r,dir:a,activationMode:n.activationMode,baseId:Qe(void 0,"radix-vue-tabs"),tabsList:c}),(d,u)=>(i.openBlock(),i.createBlock(i.unref(G),{dir:i.unref(a),"data-orientation":i.unref(r),"as-child":d.asChild,as:d.as},{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default",{modelValue:i.unref(l)})]),_:3},8,["dir","data-orientation","as-child","as"]))}}),qP=i.defineComponent({__name:"TabsList",props:{loop:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},setup(t){const e=t,{loop:n}=i.toRefs(e),{forwardRef:o,currentElement:r}=V(),s=ph();return s.tabsList=r,(a,l)=>(i.openBlock(),i.createBlock(i.unref(Mc),{"as-child":"",orientation:i.unref(s).orientation.value,dir:i.unref(s).dir.value,loop:i.unref(n)},{default:i.withCtx(()=>[i.createVNode(i.unref(G),{ref:i.unref(o),role:"tablist","as-child":a.asChild,as:a.as,"aria-orientation":i.unref(s).orientation.value},{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},8,["as-child","as","aria-orientation"])]),_:3},8,["orientation","dir","loop"]))}});function nx(t,e){return`${t}-trigger-${e}`}function ox(t,e){return`${t}-content-${e}`}const GP=i.defineComponent({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n}=V(),o=ph(),r=i.computed(()=>nx(o.baseId,e.value)),s=i.computed(()=>ox(o.baseId,e.value)),a=i.computed(()=>e.value===o.modelValue.value),l=i.ref(a.value);return i.onMounted(()=>{requestAnimationFrame(()=>{l.value=!1})}),(c,d)=>(i.openBlock(),i.createBlock(i.unref(Dt),{present:a.value,"force-mount":""},{default:i.withCtx(({present:u})=>[i.createVNode(i.unref(G),{id:s.value,ref:i.unref(n),"as-child":c.asChild,as:c.as,role:"tabpanel","data-state":a.value?"active":"inactive","data-orientation":i.unref(o).orientation.value,"aria-labelledby":r.value,hidden:!u.value,tabindex:"0",style:i.normalizeStyle({animationDuration:l.value?"0s":void 0})},{default:i.withCtx(()=>[c.forceMount||a.value?i.renderSlot(c.$slots,"default",{key:0}):i.createCommentVNode("",!0)]),_:2},1032,["id","as-child","as","data-state","data-orientation","aria-labelledby","hidden","style"])]),_:3},8,["present"]))}}),JP=i.defineComponent({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,{forwardRef:n}=V(),o=ph(),r=i.computed(()=>nx(o.baseId,e.value)),s=i.computed(()=>ox(o.baseId,e.value)),a=i.computed(()=>e.value===o.modelValue.value);return(l,c)=>(i.openBlock(),i.createBlock(i.unref(eh),{"as-child":"",focusable:!l.disabled,active:a.value},{default:i.withCtx(()=>[i.createVNode(i.unref(G),{id:r.value,ref:i.unref(n),role:"tab",type:l.as==="button"?"button":void 0,as:l.as,"as-child":l.asChild,"aria-selected":a.value?"true":"false","aria-controls":s.value,"data-state":a.value?"active":"inactive",disabled:l.disabled,"data-disabled":l.disabled?"":void 0,"data-orientation":i.unref(o).orientation.value,onMousedown:c[0]||(c[0]=i.withModifiers(d=>{!l.disabled&&d.ctrlKey===!1?i.unref(o).changeModelValue(l.value):d.preventDefault()},["left"])),onKeydown:c[1]||(c[1]=i.withKeys(d=>i.unref(o).changeModelValue(l.value),["enter","space"])),onFocus:c[2]||(c[2]=()=>{const d=i.unref(o).activationMode!=="manual";!a.value&&!l.disabled&&d&&i.unref(o).changeModelValue(l.value)})},{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},8,["id","type","as","as-child","aria-selected","aria-controls","data-state","disabled","data-disabled","data-orientation"])]),_:3},8,["focusable","active"]))}}),[Vc,YP]=Ce("ToastProvider"),XP=i.defineComponent({__name:"ToastProvider",props:{label:{default:"Notification"},duration:{default:5e3},swipeDirection:{default:"right"},swipeThreshold:{default:50}},setup(t){const e=t,{label:n,duration:o,swipeDirection:r,swipeThreshold:s}=i.toRefs(e),a=i.ref(),l=i.ref(0),c=i.ref(!1),d=i.ref(!1);if(e.label&&typeof e.label=="string"&&!e.label.trim()){const u="Invalid prop `label` supplied to `ToastProvider`. Expected non-empty `string`.";throw new Error(u)}return YP({label:n,duration:o,swipeDirection:r,swipeThreshold:s,toastCount:l,viewport:a,onViewportChange(u){a.value=u},onToastAdd(){l.value++},onToastRemove(){l.value--},isFocusedToastEscapeKeyDownRef:c,isClosePausedRef:d}),(u,f)=>i.renderSlot(u.$slots,"default")}}),ZP="toast.swipeStart",QP="toast.swipeMove",eI="toast.swipeCancel",tI="toast.swipeEnd",hh="toast.viewportPause",mh="toast.viewportResume";function zc(t,e,n){const o=n.originalEvent.currentTarget,r=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),o.dispatchEvent(r)}function rx(t,e,n=0){const o=Math.abs(t.x),r=Math.abs(t.y),s=o>r;return e==="left"||e==="right"?s&&o>n:!s&&r>n}function nI(t){return t.nodeType===t.ELEMENT_NODE}function ix(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),nI(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",r=n.dataset.radixToastAnnounceExclude==="";if(!o)if(r){const s=n.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...ix(n))}}),e}const oI=i.defineComponent({__name:"ToastAnnounce",setup(t){const e=Vc(),n=yB(1e3),o=i.ref(!1);return Uw(()=>{o.value=!0}),(r,s)=>i.unref(n)||o.value?(i.openBlock(),i.createBlock(i.unref(Ac),{key:0},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(e).label.value)+" ",1),i.renderSlot(r.$slots,"default")]),_:3})):i.createCommentVNode("",!0)}}),[rI,iI]=Ce("ToastRoot"),sI=i.defineComponent({inheritAttrs:!1,__name:"ToastRootImpl",props:{type:{},open:{type:Boolean,default:!1},duration:{},asChild:{type:Boolean},as:{default:"li"}},emits:["close","escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r,currentElement:s}=V(),a=Vc(),l=i.ref(null),c=i.ref(null),d=i.computed(()=>n.duration||a.duration.value),u=i.ref(0),f=i.ref(d.value),p=i.ref(0),h=i.ref(d.value),m=Uw(()=>{const x=new Date().getTime()-u.value;h.value=Math.max(f.value-x,0)},{fpsLimit:60});function g(x){!x||x===Number.POSITIVE_INFINITY||(window.clearTimeout(p.value),u.value=new Date().getTime(),p.value=window.setTimeout(y,x))}function y(){var x,k;(x=s.value)!=null&&x.contains(document.activeElement)&&((k=a.viewport.value)==null||k.focus()),a.isClosePausedRef.value=!1,o("close")}const b=i.computed(()=>s.value?ix(s.value):null);if(n.type&&!["foreground","background"].includes(n.type)){const x="Invalid prop `type` supplied to `Toast`. Expected `foreground | background`.";throw new Error(x)}return i.watchEffect(x=>{const k=a.viewport.value;if(k){const w=()=>{g(f.value),m.resume(),o("resume")},C=()=>{const S=new Date().getTime()-u.value;f.value=f.value-S,window.clearTimeout(p.value),m.pause(),o("pause")};return k.addEventListener(hh,C),k.addEventListener(mh,w),()=>{k.removeEventListener(hh,C),k.removeEventListener(mh,w)}}}),i.watch(()=>[n.open,d.value],()=>{f.value=d.value,n.open&&!a.isClosePausedRef.value&&g(d.value)},{immediate:!0}),Lp("Escape",x=>{o("escapeKeyDown",x),x.defaultPrevented||(a.isFocusedToastEscapeKeyDownRef.value=!0,y())}),i.onMounted(()=>{a.onToastAdd()}),i.onUnmounted(()=>{a.onToastRemove()}),iI({onClose:y}),(x,k)=>(i.openBlock(),i.createElementBlock(i.Fragment,null,[b.value?(i.openBlock(),i.createBlock(oI,{key:0,role:"status","aria-live":x.type==="foreground"?"assertive":"polite","aria-atomic":""},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(b.value),1)]),_:1},8,["aria-live"])):i.createCommentVNode("",!0),(i.openBlock(),i.createBlock(i.Teleport,{to:i.unref(a).viewport.value},[i.createVNode(i.unref(G),i.mergeProps({ref:i.unref(r),role:"status","aria-live":"off","aria-atomic":"",tabindex:"0","data-radix-vue-collection-item":""},x.$attrs,{as:x.as,"as-child":x.asChild,"data-state":x.open?"open":"closed","data-swipe-direction":i.unref(a).swipeDirection.value,style:{userSelect:"none",touchAction:"none"},onPointerdown:k[0]||(k[0]=i.withModifiers(w=>{l.value={x:w.clientX,y:w.clientY}},["left"])),onPointermove:k[1]||(k[1]=w=>{if(!l.value)return;const C=w.clientX-l.value.x,S=w.clientY-l.value.y,v=!!c.value,B=["left","right"].includes(i.unref(a).swipeDirection.value),_=["left","up"].includes(i.unref(a).swipeDirection.value)?Math.min:Math.max,E=B?_(0,C):0,T=B?0:_(0,S),M=w.pointerType==="touch"?10:2,$={x:E,y:T},L={originalEvent:w,delta:$};v?(c.value=$,i.unref(zc)(i.unref(QP),U=>o("swipeMove",U),L)):i.unref(rx)($,i.unref(a).swipeDirection.value,M)?(c.value=$,i.unref(zc)(i.unref(ZP),U=>o("swipeStart",U),L),w.target.setPointerCapture(w.pointerId)):(Math.abs(C)>M||Math.abs(S)>M)&&(l.value=null)}),onPointerup:k[2]||(k[2]=w=>{const C=c.value,S=w.target;if(S.hasPointerCapture(w.pointerId)&&S.releasePointerCapture(w.pointerId),c.value=null,l.value=null,C){const v=w.currentTarget,B={originalEvent:w,delta:C};i.unref(rx)(C,i.unref(a).swipeDirection.value,i.unref(a).swipeThreshold.value)?i.unref(zc)(i.unref(tI),_=>o("swipeEnd",_),B):i.unref(zc)(i.unref(eI),_=>o("swipeCancel",_),B),v==null||v.addEventListener("click",_=>_.preventDefault(),{once:!0})}})}),{default:i.withCtx(()=>[i.renderSlot(x.$slots,"default",{remaining:h.value})]),_:3},16,["as","as-child","data-state","data-swipe-direction"])],8,["to"]))],64))}}),aI=i.defineComponent({__name:"ToastRoot",props:{defaultOpen:{type:Boolean,default:!0},forceMount:{type:Boolean},type:{default:"foreground"},open:{type:Boolean,default:void 0},duration:{},asChild:{type:Boolean},as:{default:"li"}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r}=V(),s=at(n,"open",o,{defaultValue:n.defaultOpen,passive:n.open===void 0});return(a,l)=>(i.openBlock(),i.createBlock(i.unref(Dt),{present:a.forceMount||i.unref(s)},{default:i.withCtx(()=>[i.createVNode(sI,i.mergeProps({ref:i.unref(r),open:i.unref(s),type:a.type,as:a.as,"as-child":a.asChild,duration:a.duration},a.$attrs,{onClose:l[0]||(l[0]=c=>s.value=!1),onPause:l[1]||(l[1]=c=>o("pause")),onResume:l[2]||(l[2]=c=>o("resume")),onEscapeKeyDown:l[3]||(l[3]=c=>o("escapeKeyDown",c)),onSwipeStart:l[4]||(l[4]=c=>{o("swipeStart",c),c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:l[5]||(l[5]=c=>{const{x:d,y:u}=c.detail.delta,f=c.currentTarget;f.setAttribute("data-swipe","move"),f.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),f.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:l[6]||(l[6]=c=>{const d=c.currentTarget;d.setAttribute("data-swipe","cancel"),d.style.removeProperty("--radix-toast-swipe-move-x"),d.style.removeProperty("--radix-toast-swipe-move-y"),d.style.removeProperty("--radix-toast-swipe-end-x"),d.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:l[7]||(l[7]=c=>{const{x:d,y:u}=c.detail.delta,f=c.currentTarget;f.setAttribute("data-swipe","end"),f.style.removeProperty("--radix-toast-swipe-move-x"),f.style.removeProperty("--radix-toast-swipe-move-y"),f.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),f.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),s.value=!1})}),{default:i.withCtx(({remaining:c})=>[i.renderSlot(a.$slots,"default",{remaining:c,open:i.unref(s)})]),_:3},16,["open","type","as","as-child","duration"])]),_:3},8,["present"]))}}),lI=i.defineComponent({__name:"ToastAnnounceExclude",props:{altText:{},asChild:{type:Boolean},as:{}},setup(t){return(e,n)=>(i.openBlock(),i.createBlock(i.unref(G),{as:e.as,"as-child":e.asChild,"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":e.altText||void 0},{default:i.withCtx(()=>[i.renderSlot(e.$slots,"default")]),_:3},8,["as","as-child","data-radix-toast-announce-alt"]))}}),cI=i.defineComponent({__name:"ToastClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=rI(),{forwardRef:o}=V();return(r,s)=>(i.openBlock(),i.createBlock(lI,{"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(G),i.mergeProps(e,{ref:i.unref(o),type:r.as==="button"?"button":void 0,onClick:s[0]||(s[0]=a=>i.unref(n).onClose())}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3},16,["type"])]),_:3}))}}),sx=i.defineComponent({__name:"FocusProxy",emits:["focusFromOutsideViewport"],setup(t,{emit:e}){const n=e,o=Vc();return(r,s)=>(i.openBlock(),i.createBlock(i.unref(Ac),{"aria-hidden":"",tabindex:"0",style:{position:"fixed"},onFocus:s[0]||(s[0]=a=>{var l;const c=a.relatedTarget;!((l=i.unref(o).viewport.value)!=null&&l.contains(c))&&n("focusFromOutsideViewport")})},{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3}))}}),dI=i.defineComponent({inheritAttrs:!1,__name:"ToastViewport",props:{hotkey:{default:()=>["F8"]},label:{type:[String,Function],default:"Notifications ({hotkey})"},asChild:{type:Boolean},as:{default:"ol"}},setup(t){const e=t,{hotkey:n,label:o}=i.toRefs(e),{forwardRef:r,currentElement:s}=V(),{createCollection:a}=_n(),l=a(s),c=Vc(),d=i.computed(()=>c.toastCount.value>0),u=i.ref(),f=i.ref(),p=i.computed(()=>n.value.join("+").replace(/Key/g,"").replace(/Digit/g,""));Lp(n.value,()=>{s.value.focus()}),i.onMounted(()=>{c.onViewportChange(s.value)}),i.watchEffect(m=>{const g=s.value;if(d.value&&g){const y=()=>{if(!c.isClosePausedRef.value){const C=new CustomEvent(hh);g.dispatchEvent(C),c.isClosePausedRef.value=!0}},b=()=>{if(c.isClosePausedRef.value){const C=new CustomEvent(mh);g.dispatchEvent(C),c.isClosePausedRef.value=!1}},x=C=>{!g.contains(C.relatedTarget)&&b()},k=()=>{g.contains(document.activeElement)||b()},w=C=>{var S,v,B;const _=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!_){const E=document.activeElement,T=C.shiftKey;if(C.target===g&&T){(S=u.value)==null||S.focus();return}const M=h({tabbingDirection:T?"backwards":"forwards"}),$=M.findIndex(L=>L===E);xc(M.slice($+1))?C.preventDefault():T?(v=u.value)==null||v.focus():(B=f.value)==null||B.focus()}};g.addEventListener("focusin",y),g.addEventListener("focusout",x),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",k),g.addEventListener("keydown",w),window.addEventListener("blur",y),window.addEventListener("focus",b),m(()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",x),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",k),g.removeEventListener("keydown",w),window.removeEventListener("blur",y),window.removeEventListener("focus",b)})}});function h({tabbingDirection:m}){const g=l.value.map(y=>{const b=[y,...Gp(y)];return m==="forwards"?b:b.reverse()});return(m==="forwards"?g.reverse():g).flat()}return(m,g)=>(i.openBlock(),i.createBlock(i.unref(tO),{role:"region","aria-label":typeof i.unref(o)=="string"?i.unref(o).replace("{hotkey}",p.value):i.unref(o)(p.value),tabindex:"-1",style:i.normalizeStyle({pointerEvents:d.value?void 0:"none"})},{default:i.withCtx(()=>[d.value?(i.openBlock(),i.createBlock(sx,{key:0,ref:y=>{u.value=i.unref(It)(y)},onFocusFromOutsideViewport:g[0]||(g[0]=()=>{const y=h({tabbingDirection:"forwards"});i.unref(xc)(y)})},null,512)):i.createCommentVNode("",!0),i.createVNode(i.unref(G),i.mergeProps({ref:i.unref(r),tabindex:"-1",as:m.as,"as-child":m.asChild},m.$attrs),{default:i.withCtx(()=>[i.renderSlot(m.$slots,"default")]),_:3},16,["as","as-child"]),d.value?(i.openBlock(),i.createBlock(sx,{key:1,ref:y=>{f.value=i.unref(It)(y)},onFocusFromOutsideViewport:g[1]||(g[1]=()=>{const y=h({tabbingDirection:"backwards"});i.unref(xc)(y)})},null,512)):i.createCommentVNode("",!0)]),_:3},8,["aria-label","style"]))}}),uI=i.defineComponent({__name:"ToastTitle",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return V(),(n,o)=>(i.openBlock(),i.createBlock(i.unref(G),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),fI=i.defineComponent({__name:"ToastDescription",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return V(),(n,o)=>(i.openBlock(),i.createBlock(i.unref(G),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),ax=i.defineComponent({__name:"Toggle",props:{defaultValue:{type:Boolean},pressed:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"button"}},emits:["update:pressed"],setup(t,{emit:e}){const n=t,o=e;V();const r=at(n,"pressed",o,{defaultValue:n.defaultValue,passive:n.pressed===void 0});function s(){r.value=!r.value}const a=i.computed(()=>r.value?"on":"off");return(l,c)=>(i.openBlock(),i.createBlock(i.unref(G),{type:l.as==="button"?"button":void 0,"as-child":n.asChild,as:l.as,"aria-pressed":i.unref(r),"data-state":a.value,"data-disabled":l.disabled?"":void 0,disabled:l.disabled,onClick:s},{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default",{pressed:i.unref(r)})]),_:3},8,["type","as-child","as","aria-pressed","data-state","data-disabled","disabled"]))}}),[pI,hI]=Ce("ToggleGroupRoot"),mI=i.defineComponent({__name:"ToggleGroupRoot",props:{rovingFocus:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},orientation:{},dir:{},loop:{type:Boolean,default:!0},asChild:{type:Boolean},as:{},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,{loop:r,rovingFocus:s,disabled:a,dir:l}=i.toRefs(n),c=Zn(l),{forwardRef:d}=V(),{modelValue:u,changeModelValue:f,isSingle:p}=qB(n,o);return hI({isSingle:p,modelValue:u,changeModelValue:f,dir:c,orientation:n.orientation,loop:r,rovingFocus:s,disabled:a}),(h,m)=>(i.openBlock(),i.createBlock(i.resolveDynamicComponent(i.unref(s)?i.unref(Mc):i.unref(G)),{"as-child":"",orientation:i.unref(s)?h.orientation:void 0,dir:i.unref(c),loop:i.unref(s)?i.unref(r):void 0},{default:i.withCtx(()=>[i.createVNode(i.unref(G),{ref:i.unref(d),role:"group","as-child":h.asChild,as:h.as},{default:i.withCtx(()=>[i.renderSlot(h.$slots,"default",{modelValue:i.unref(u)})]),_:3},8,["as-child","as"])]),_:3},8,["orientation","dir","loop"]))}}),gI=i.defineComponent({__name:"ToggleGroupItem",props:{value:{},defaultValue:{type:Boolean},pressed:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=pI(),o=i.computed(()=>{var l;return((l=n.disabled)==null?void 0:l.value)||e.disabled}),r=i.computed(()=>{var l;return(l=n.modelValue.value)==null?void 0:l.includes(e.value)}),s=i.computed(()=>{var l;return n.isSingle.value?n.modelValue.value===e.value:(l=n.modelValue.value)==null?void 0:l.includes(e.value)}),{forwardRef:a}=V();return(l,c)=>(i.openBlock(),i.createBlock(i.resolveDynamicComponent(i.unref(n).rovingFocus.value?i.unref(eh):i.unref(G)),{"as-child":"",focusable:!o.value,active:r.value},{default:i.withCtx(()=>[i.createVNode(i.unref(ax),i.mergeProps(e,{ref:i.unref(a),disabled:o.value,pressed:s.value,"onUpdate:pressed":c[0]||(c[0]=d=>i.unref(n).changeModelValue(l.value))}),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16,["disabled","pressed"])]),_:3},8,["focusable","active"]))}}),lx="tooltip.open",[gh,yI]=Ce("TooltipProvider"),bI=i.defineComponent({__name:"TooltipProvider",props:{delayDuration:{default:700},skipDelayDuration:{default:300},disableHoverableContent:{type:Boolean,default:!1},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean,default:!1}},setup(t){const e=t,{delayDuration:n,skipDelayDuration:o,disableHoverableContent:r,disableClosingTrigger:s,ignoreNonKeyboardFocus:a,disabled:l}=i.toRefs(e);V();const c=i.ref(!0),d=i.ref(!1),{start:u,stop:f}=Rp(()=>{c.value=!0},o,{immediate:!1});return yI({isOpenDelayed:c,delayDuration:n,onOpen(){f(),c.value=!1},onClose(){u()},isPointerInTransitRef:d,disableHoverableContent:r,disableClosingTrigger:s,disabled:l,ignoreNonKeyboardFocus:a}),(p,h)=>i.renderSlot(p.$slots,"default")}}),[Fc,wI]=Ce("TooltipRoot"),xI=i.defineComponent({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},delayDuration:{default:void 0},disableHoverableContent:{type:Boolean,default:void 0},disableClosingTrigger:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,default:void 0}},emits:["update:open"],setup(t,{emit:e}){const n=t,o=e;V();const r=gh(),s=i.computed(()=>n.disableHoverableContent??r.disableHoverableContent.value),a=i.computed(()=>n.disableClosingTrigger??r.disableClosingTrigger.value),l=i.computed(()=>n.disabled??r.disabled.value),c=i.computed(()=>n.delayDuration??r.delayDuration.value),d=i.computed(()=>n.ignoreNonKeyboardFocus??r.ignoreNonKeyboardFocus.value),u=at(n,"open",o,{defaultValue:n.defaultOpen,passive:n.open===void 0});i.watch(u,k=>{r.onClose&&(k?(r.onOpen(),document.dispatchEvent(new CustomEvent(lx))):r.onClose())});const f=i.ref(!1),p=i.ref(),h=i.computed(()=>u.value?f.value?"delayed-open":"instant-open":"closed"),{start:m,stop:g}=Rp(()=>{f.value=!0,u.value=!0},c,{immediate:!1});function y(){g(),f.value=!1,u.value=!0}function b(){g(),u.value=!1}function x(){m()}return wI({contentId:"",open:u,stateAttribute:h,trigger:p,onTriggerChange(k){p.value=k},onTriggerEnter(){r.isOpenDelayed.value?x():y()},onTriggerLeave(){s.value?b():g()},onOpen:y,onClose:b,disableHoverableContent:s,disableClosingTrigger:a,disabled:l,ignoreNonKeyboardFocus:d}),(k,w)=>(i.openBlock(),i.createBlock(i.unref(ia),null,{default:i.withCtx(()=>[i.renderSlot(k.$slots,"default",{open:i.unref(u)})]),_:3}))}}),kI=i.defineComponent({__name:"TooltipTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=Fc(),o=gh();n.contentId||(n.contentId=Qe(void 0,"radix-vue-tooltip-content"));const{forwardRef:r,currentElement:s}=V(),a=i.ref(!1),l=i.ref(!1),c=i.computed(()=>n.disabled.value?{}:{click:g,focus:h,pointermove:f,pointerleave:p,pointerdown:u,blur:m});i.onMounted(()=>{n.onTriggerChange(s.value)});function d(){a.value=!1}function u(){a.value=!0,document.addEventListener("pointerup",d,{once:!0})}function f(y){y.pointerType!=="touch"&&!l.value&&!o.isPointerInTransitRef.value&&(n.onTriggerEnter(),l.value=!0)}function p(){n.onTriggerLeave(),l.value=!1}function h(y){var b,x;a.value||n.ignoreNonKeyboardFocus.value&&!((x=(b=y.target).matches)!=null&&x.call(b,":focus-visible"))||n.onOpen()}function m(){n.onClose()}function g(){n.disableClosingTrigger.value||n.onClose()}return(y,b)=>(i.openBlock(),i.createBlock(i.unref(Ec),{"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(G),i.mergeProps({ref:i.unref(r),"aria-describedby":i.unref(n).open.value?i.unref(n).contentId:void 0,"data-state":i.unref(n).stateAttribute.value,as:y.as,"as-child":e.asChild},i.toHandlers(c.value)),{default:i.withCtx(()=>[i.renderSlot(y.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3}))}}),cx=i.defineComponent({__name:"TooltipContentImpl",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{default:0},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean,default:!0},collisionBoundary:{default:()=>[]},collisionPadding:{default:0},arrowPadding:{default:0},sticky:{default:"partial"},hideWhenDetached:{type:Boolean,default:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,o=e,r=Fc(),{forwardRef:s}=V(),a=i.useSlots(),l=i.computed(()=>{var u;return(u=a.default)==null?void 0:u.call(a)}),c=i.computed(()=>{var u;if(n.ariaLabel)return n.ariaLabel;let f="";function p(h){typeof h.children=="string"?f+=h.children:Array.isArray(h.children)&&h.children.forEach(m=>p(m))}return(u=l.value)==null||u.forEach(h=>p(h)),f}),d=i.computed(()=>{const{ariaLabel:u,...f}=n;return f});return i.onMounted(()=>{pc(window,"scroll",u=>{const f=u.target;f!=null&&f.contains(r.trigger.value)&&r.onClose()}),pc(window,lx,r.onClose)}),(u,f)=>(i.openBlock(),i.createBlock(i.unref(oa),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:f[0]||(f[0]=p=>o("escapeKeyDown",p)),onPointerDownOutside:f[1]||(f[1]=p=>{var h;i.unref(r).disableClosingTrigger.value&&(h=i.unref(r).trigger.value)!=null&&h.contains(p.target)&&p.preventDefault(),o("pointerDownOutside",p)}),onFocusOutside:f[2]||(f[2]=i.withModifiers(()=>{},["prevent"])),onDismiss:f[3]||(f[3]=p=>i.unref(r).onClose())},{default:i.withCtx(()=>[i.createVNode(i.unref(vc),i.mergeProps({ref:i.unref(s),"data-state":i.unref(r).stateAttribute.value},{...u.$attrs,...d.value},{style:{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),{default:i.withCtx(()=>[i.renderSlot(u.$slots,"default"),i.createVNode(i.unref(Ac),{id:i.unref(r).contentId,role:"tooltip"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(c.value),1)]),_:1},8,["id"])]),_:3},16,["data-state","style"])]),_:3}))}}),CI=i.defineComponent({__name:"TooltipContentHoverable",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean}},setup(t){const e=Ze(t),{forwardRef:n,currentElement:o}=V(),{trigger:r,onClose:s}=Fc(),a=gh(),{isPointerInTransit:l,onPointerExit:c}=BB(r,o);return a.isPointerInTransitRef=l,c(()=>{s()}),(d,u)=>(i.openBlock(),i.createBlock(cx,i.mergeProps({ref:i.unref(n)},i.unref(e)),{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default")]),_:3},16))}}),SI=i.defineComponent({__name:"TooltipContent",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,o=e,r=Fc(),s=he(n,o),{forwardRef:a}=V();return(l,c)=>i.unref(r).open.value?(i.openBlock(),i.createBlock(i.resolveDynamicComponent(i.unref(r).disableHoverableContent.value?cx:CI),i.mergeProps({key:0,ref:i.unref(a)},i.unref(s)),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16)):i.createCommentVNode("",!0)}}),EI=i.defineComponent({__name:"TooltipPortal",props:{to:{},disabled:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(na),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}});function dx(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=dx(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function vI(){for(var t,e,n=0,o="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=dx(t))&&(o&&(o+=" "),o+=e);return o}const yh="-";function AI(t){const e=_I(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function r(a){const l=a.split(yh);return l[0]===""&&l.length!==1&&l.shift(),ux(l,e)||MI(a)}function s(a,l){const c=n[a]||[];return l&&o[a]?[...c,...o[a]]:c}return{getClassGroupId:r,getConflictingClassGroupIds:s}}function ux(t,e){var a;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),r=o?ux(t.slice(1),o):void 0;if(r)return r;if(e.validators.length===0)return;const s=t.join(yh);return(a=e.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId}const fx=/^\[(.+)\]$/;function MI(t){if(fx.test(t)){const e=fx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function _I(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return BI(Object.entries(t.classGroups),n).forEach(([s,a])=>{bh(a,o,s,e)}),o}function bh(t,e,n,o){t.forEach(r=>{if(typeof r=="string"){const s=r===""?e:px(e,r);s.classGroupId=n;return}if(typeof r=="function"){if(TI(r)){bh(r(o),e,n,o);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([s,a])=>{bh(a,px(e,s),n,o)})})}function px(t,e){let n=t;return e.split(yh).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function TI(t){return t.isThemeGetter}function BI(t,e){return e?t.map(([n,o])=>{const r=o.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[e+a,l])):s);return[n,r]}):t}function OI(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function r(s,a){n.set(s,a),e++,e>t&&(e=0,o=n,n=new Map)}return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=o.get(s))!==void 0)return r(s,a),a},set(s,a){n.has(s)?n.set(s,a):r(s,a)}}}const hx="!";function NI(t){const e=t.separator,n=e.length===1,o=e[0],r=e.length;return function(a){const l=[];let c=0,d=0,u;for(let g=0;g<a.length;g++){let y=a[g];if(c===0){if(y===o&&(n||a.slice(g,g+r)===e)){l.push(a.slice(d,g)),d=g+r;continue}if(y==="/"){u=g;continue}}y==="["?c++:y==="]"&&c--}const f=l.length===0?a:a.substring(d),p=f.startsWith(hx),h=p?f.substring(1):f,m=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:m}}}function PI(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function II(t){return{cache:OI(t.cacheSize),splitModifiers:NI(t),...AI(t)}}const DI=/\s+/;function RI(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:r}=e,s=new Set;return t.trim().split(DI).map(a=>{const{modifiers:l,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:u}=n(a);let f=o(u?d.substring(0,u):d),p=!!u;if(!f){if(!u)return{isTailwindClass:!1,originalClassName:a};if(f=o(d),!f)return{isTailwindClass:!1,originalClassName:a};p=!1}const h=PI(l).join(":");return{isTailwindClass:!0,modifierId:c?h+hx:h,classGroupId:f,originalClassName:a,hasPostfixModifier:p}}).reverse().filter(a=>{if(!a.isTailwindClass)return!0;const{modifierId:l,classGroupId:c,hasPostfixModifier:d}=a,u=l+c;return s.has(u)?!1:(s.add(u),r(c,d).forEach(f=>s.add(l+f)),!0)}).reverse().map(a=>a.originalClassName).join(" ")}function LI(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=mx(e))&&(o&&(o+=" "),o+=n);return o}function mx(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=mx(t[o]))&&(n&&(n+=" "),n+=e);return n}function $I(t,...e){let n,o,r,s=a;function a(c){const d=e.reduce((u,f)=>f(u),t());return n=II(d),o=n.cache.get,r=n.cache.set,s=l,l(c)}function l(c){const d=o(c);if(d)return d;const u=RI(c,n);return r(c,u),u}return function(){return s(LI.apply(null,arguments))}}function Le(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const gx=/^\[(?:([a-z-]+):)?(.+)\]$/i,VI=/^\d+\/\d+$/,zI=new Set(["px","full","screen"]),FI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,UI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function to(t){return Rr(t)||zI.has(t)||VI.test(t)}function qo(t){return Ni(t,"length",QI)}function Rr(t){return!!t&&!Number.isNaN(Number(t))}function Hc(t){return Ni(t,"number",Rr)}function ha(t){return!!t&&Number.isInteger(Number(t))}function KI(t){return t.endsWith("%")&&Rr(t.slice(0,-1))}function ae(t){return gx.test(t)}function Go(t){return FI.test(t)}const qI=new Set(["length","size","percentage"]);function GI(t){return Ni(t,qI,yx)}function JI(t){return Ni(t,"position",yx)}const YI=new Set(["image","url"]);function XI(t){return Ni(t,YI,tD)}function ZI(t){return Ni(t,"",eD)}function ma(){return!0}function Ni(t,e,n){const o=gx.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function QI(t){return HI.test(t)&&!jI.test(t)}function yx(){return!1}function eD(t){return UI.test(t)}function tD(t){return WI.test(t)}function nD(){const t=Le("colors"),e=Le("spacing"),n=Le("blur"),o=Le("brightness"),r=Le("borderColor"),s=Le("borderRadius"),a=Le("borderSpacing"),l=Le("borderWidth"),c=Le("contrast"),d=Le("grayscale"),u=Le("hueRotate"),f=Le("invert"),p=Le("gap"),h=Le("gradientColorStops"),m=Le("gradientColorStopPositions"),g=Le("inset"),y=Le("margin"),b=Le("opacity"),x=Le("padding"),k=Le("saturate"),w=Le("scale"),C=Le("sepia"),S=Le("skew"),v=Le("space"),B=Le("translate"),_=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",ae,e],M=()=>[ae,e],$=()=>["",to,qo],L=()=>["auto",Rr,ae],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],A=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",ae],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Rr,Hc],Q=()=>[Rr,ae];return{cacheSize:500,separator:":",theme:{colors:[ma],spacing:[to,qo],blur:["none","",Go,ae],brightness:z(),borderColor:[t],borderRadius:["none","","full",Go,ae],borderSpacing:M(),borderWidth:$(),contrast:z(),grayscale:D(),hueRotate:Q(),invert:D(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[KI,qo],inset:T(),margin:T(),opacity:z(),padding:M(),saturate:z(),scale:z(),sepia:D(),skew:Q(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",ae]}],container:["container"],columns:[{columns:[Go]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),ae]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ha,ae]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ae]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",ha,ae]}],"grid-cols":[{"grid-cols":[ma]}],"col-start-end":[{col:["auto",{span:["full",ha,ae]},ae]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[ma]}],"row-start-end":[{row:["auto",{span:[ha,ae]},ae]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ae]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[v]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[v]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ae,e]}],"min-w":[{"min-w":[ae,e,"min","max","fit"]}],"max-w":[{"max-w":[ae,e,"none","full","min","max","fit","prose",{screen:[Go]},Go]}],h:[{h:[ae,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ae,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ae,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ae,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Go,qo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hc]}],"font-family":[{font:[ma]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ae]}],"line-clamp":[{"line-clamp":["none",Rr,Hc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",to,ae]}],"list-image":[{"list-image":["none",ae]}],"list-style-type":[{list:["none","disc","decimal",ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",to,qo]}],"underline-offset":[{"underline-offset":["auto",to,ae]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),JI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},XI]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:O()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[to,ae]}],"outline-w":[{outline:[to,qo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[to,qo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Go,ZI]}],"shadow-color":[{shadow:[ma]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...A(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":A()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Go,ae]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[k]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ae]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ae]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[ha,ae]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ae]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[to,qo,Hc]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const oD=$I(nD);function Z(...t){return oD(vI(t))}const no=i.defineComponent({__name:"Separator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(bP),i.mergeProps(n.value,{class:i.unref(Z)("shrink-0 bg-border",e.orientation==="vertical"?"w-px h-full":"h-px w-full",e.class)}),null,16,["class"]))}}),rD={class:"border border-neutral-200 dark:border-neutral-800 px-3 py-2 transition-all select-none pointer-events-auto shadow-sm rounded-sm bg-background w-auto max-w-[calc(-68px_+_100vw)] overflow-x-auto"},iD={class:"flex items-center flex-nowrap whitespace-nowrap h-[26px] justify-start relative gap-0.5"},sD=i.defineComponent({__name:"BasicBubbleMenu",props:{editor:{},disabled:{type:Boolean,default:!1}},setup(t){const e=t,n=Ot(),{t:o}=Be(),r=i.reactive({maxWidth:"auto",zIndex:20,appendTo:"parent",moveTransition:"transform 0.15s ease-out"}),s=i.computed(()=>{var p;const c=e.editor.state.selection,d=e.editor.isActive("link"),u=((p=c.node)==null?void 0:p.type.name)==="video",f=c instanceof Y;if(d)return"link";if(u)return"video";if(f)return"text"}),a=i.computed(()=>{var p;const{extensions:c=[]}=e.editor.extensionManager,d=c.find(h=>h.name==="base-kit");if(!d)return{};const{button:u}=((p=d.options)==null?void 0:p.bubble)??{};return u?u({editor:e.editor,extension:d,t:i.unref(o)}):{}}),l=i.computed(()=>{var c;return s.value?((c=i.unref(a))==null?void 0:c[s.value])??[]:[]});return(c,d)=>{var u;return i.withDirectives((i.openBlock(),i.createBlock(i.unref(xi),{editor:c.editor,"tippy-options":r},{default:i.withCtx(()=>[i.createElementVNode("div",rD,[i.createElementVNode("div",iD,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(l.value,(f,p)=>{var h;return i.openBlock(),i.createElementBlock(i.Fragment,{key:p},[f.type==="divider"?(i.openBlock(),i.createBlock(i.unref(no),{key:0,orientation:"vertical",class:"mx-1 me-1 h-[16px]"})):(i.openBlock(),i.createBlock(i.resolveDynamicComponent(f.component),i.mergeProps({key:1,ref_for:!0},f.componentProps,{editor:c.editor,disabled:c.disabled||((h=f.componentProps)==null?void 0:h.disabled)}),i.createSlots({_:2},[i.renderList(f.componentSlots,(m,g,y)=>({name:`${g}`,fn:i.withCtx(b=>[(i.openBlock(),i.createBlock(i.resolveDynamicComponent(m),i.mergeProps({ref_for:!0},b==null?void 0:b.props),null,16))])}))]),1040,["editor","disabled"]))],64)}),128))])])]),_:1},8,["editor","tippy-options"])),[[i.vShow,l.value.length&&!((u=i.unref(n))!=null&&u.state.AIMenu)]])}}});function aD(t,e){return i.openBlock(),i.createElementBlock("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor"})])}function jc(t,e){return i.openBlock(),i.createElementBlock("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:"currentColor"})])}function lD(t,e){return i.openBlock(),i.createElementBlock("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor"})])}function cD(t,e){return i.openBlock(),i.createElementBlock("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:"currentColor"})])}function dD(t,e){return i.openBlock(),i.createElementBlock("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:"currentColor"})])}function bx(t,e){return i.openBlock(),i.createElementBlock("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"})])}function uD(t,e){return i.openBlock(),i.createElementBlock("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.5 4.625C6.12132 4.625 6.625 4.12132 6.625 3.5C6.625 2.87868 6.12132 2.375 5.5 2.375C4.87868 2.375 4.375 2.87868 4.375 3.5C4.375 4.12132 4.87868 4.625 5.5 4.625ZM9.5 4.625C10.1213 4.625 10.625 4.12132 10.625 3.5C10.625 2.87868 10.1213 2.375 9.5 2.375C8.87868 2.375 8.375 2.87868 8.375 3.5C8.375 4.12132 8.87868 4.625 9.5 4.625ZM10.625 7.5C10.625 8.12132 10.1213 8.625 9.5 8.625C8.87868 8.625 8.375 8.12132 8.375 7.5C8.375 6.87868 8.87868 6.375 9.5 6.375C10.1213 6.375 10.625 6.87868 10.625 7.5ZM5.5 8.625C6.12132 8.625 6.625 8.12132 6.625 7.5C6.625 6.87868 6.12132 6.375 5.5 6.375C4.87868 6.375 4.375 6.87868 4.375 7.5C4.375 8.12132 4.87868 8.625 5.5 8.625ZM10.625 11.5C10.625 12.1213 10.1213 12.625 9.5 12.625C8.87868 12.625 8.375 12.1213 8.375 11.5C8.375 10.8787 8.87868 10.375 9.5 10.375C10.1213 10.375 10.625 10.8787 10.625 11.5ZM5.5 12.625C6.12132 12.625 6.625 12.1213 6.625 11.5C6.625 10.8787 6.12132 10.375 5.5 10.375C4.87868 10.375 4.375 10.8787 4.375 11.5C4.375 12.1213 4.87868 12.625 5.5 12.625Z",fill:"currentColor"})])}const wx=i.defineComponent({__name:"Checkbox",props:{defaultChecked:{type:Boolean},checked:{type:[Boolean,String]},disabled:{type:Boolean},required:{type:Boolean},name:{},value:{},id:{},asChild:{type:Boolean},as:{},class:{}},emits:["update:checked"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=he(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(AO),i.mergeProps(i.unref(s),{class:i.unref(Z)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n.class)}),{default:i.withCtx(()=>[i.createVNode(i.unref(MO),{class:"flex h-full w-full items-center justify-center text-current"},{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default",{},()=>[i.createVNode(i.unref(jc),{class:"h-4 w-4"})])]),_:3})]),_:3},16,["class"]))}}),fD={Bold:"lucide:bold",LoaderCircle:"lucide:loader-circle",Italic:"lucide:italic",Underline:"lucide:underline",Quote:"lucide:quote",TextQuote:"lucide:text-quote",Strikethrough:"lucide:strikethrough",Minus:"lucide:minus",Eraser:"lucide:eraser",PaintRoller:"lucide:paint-roller",Redo2:"lucide:redo-2",Undo2:"lucide:undo-2",AlignCenter:"radix-icons:text-align-center",AlignJustify:"radix-icons:text-align-justify",AlignLeft:"radix-icons:text-align-left",AlignRight:"radix-icons:text-align-right",ChevronUp:"lucide:chevron-up",ChevronDown:"lucide:chevron-down",Subscript:"lucide:subscript",Superscript:"lucide:superscript",Code:"lucide:code",Code2:"lucide:code-2",Type:"lucide:type",IndentIncrease:"lucide:indent-increase",IndentDecrease:"lucide:indent-decrease",List:"lucide:list",ListOrdered:"lucide:list-ordered",ListTodo:"lucide:list-todo",Link:"lucide:link",ImageUp:"lucide:image-up",Video:"lucide:video",Maximize:"lucide:maximize",Minimize:"lucide:minimize",Table:"lucide:table",Sparkles:"lucide:sparkles",Magic:"mdi:magic",Pencil:"lucide:pencil",Unlink:"lucide:unlink",BetweenHorizonalEnd:"lucide:between-horizontal-end",BetweenHorizonalStart:"lucide:between-horizontal-start",ColumnDelete:"hugeicons:column-delete",BetweenVerticalStart:"lucide:between-vertical-start",BetweenVerticalEnd:"lucide:between-vertical-end",RowDelete:"hugeicons:row-delete",TableCellsMerge:"lucide:table-cells-merge",TableCellsSplit:"lucide:table-cells-split",Trash2:"lucide:trash-2",Trash:"lucide:trash",Replace:"lucide:replace",ChevronsUpDown:"lucide:chevrons-up-down",LineHeight:"mdi:format-line-height",Word:"mdi:file-word-outline",Paragraph:"ci:text",Heading1:"lucide:heading-1",Heading2:"lucide:heading-2",Heading3:"lucide:heading-3",Columns2:"lucide:columns-2",Columns3:"lucide:columns-3",Columns4:"lucide:columns-4",Plus:"lucide:plus",Grip:"lucide:grip-vertical",Copy:"lucide:copy",Clipboard:"lucide:clipboard",MenuDown:"icon-park-solid:down-one",SizeS:"mdi:size-s",SizeM:"mdi:size-m",SizeL:"mdi:size-l",AspectRatio:"mdi:aspect-ratio",Gaode:"echo-gaode",Baidu:"echo-baidu",Youku:"echo-youku",BiliBili:"echo-bilibili",Modao:"echo-modao",Lanhu:"echo-lanhu",QQVideo:"echo-qqvideo",Figma:"echo-figma",Canva:"echo-canva",Processon:"echo-processon",Codepen:"echo-codepen",Jinshuju:"echo-jinshuju",PanelLeft:"lucide:panel-left",PanelRight:"lucide:panel-right",Columns:"lucide:columns",AI:"meteocons:star-fill",ChevronRight:"lucide:chevron-right",ArrowUp:"lucide:arrow-up",Paste:"lucide:clipboard-paste",Cut:"lucide:scissors",File:"lucide:file",Refresh:"lucide:refresh-ccw",Eye:"lucide:eye",Printer:"lucide:printer",Tablet:"lucide:tablet",Phone:"lucide:smartphone",Monitor:"lucide:monitor",TextSelect:"lucide:text-select",SpellCheck:"lucide:spell-check-2",DocSearch:"lucide:text-search",Close:"lucide:x",ImageSize:"fluent:resize-image-24-filled",FlipVertical:"lucide:flip-vertical",FlipHorizontal:"lucide:flip-horizontal"},ga=/^[a-z0-9]+(-[a-z0-9]+)*$/,Uc=(t,e,n,o="")=>{const r=t.split(":");if(t.slice(0,1)==="@"){if(r.length<2||r.length>3)return null;o=r.shift().slice(1)}if(r.length>3||!r.length)return null;if(r.length>1){const l=r.pop(),c=r.pop(),d={provider:r.length>0?r[0]:o,prefix:c,name:l};return e&&!Wc(d)?null:d}const s=r[0],a=s.split("-");if(a.length>1){const l={provider:o,prefix:a.shift(),name:a.join("-")};return e&&!Wc(l)?null:l}if(n&&o===""){const l={provider:o,prefix:"",name:s};return e&&!Wc(l,n)?null:l}return null},Wc=(t,e)=>t?!!((t.provider===""||t.provider.match(ga))&&(e&&t.prefix===""||t.prefix.match(ga))&&t.name.match(ga)):!1,xx=Object.freeze({left:0,top:0,width:16,height:16}),Kc=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),qc=Object.freeze({...xx,...Kc}),wh=Object.freeze({...qc,body:"",hidden:!1});function pD(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const o=((t.rotate||0)+(e.rotate||0))%4;return o&&(n.rotate=o),n}function kx(t,e){const n=pD(t,e);for(const o in wh)o in Kc?o in t&&!(o in n)&&(n[o]=Kc[o]):o in e?n[o]=e[o]:o in t&&(n[o]=t[o]);return n}function hD(t,e){const n=t.icons,o=t.aliases||Object.create(null),r=Object.create(null);function s(a){if(n[a])return r[a]=[];if(!(a in r)){r[a]=null;const l=o[a]&&o[a].parent,c=l&&s(l);c&&(r[a]=[l].concat(c))}return r[a]}return Object.keys(n).concat(Object.keys(o)).forEach(s),r}function mD(t,e,n){const o=t.icons,r=t.aliases||Object.create(null);let s={};function a(l){s=kx(o[l]||r[l],s)}return a(e),n.forEach(a),kx(t,s)}function Cx(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(r=>{e(r,null),n.push(r)});const o=hD(t);for(const r in o){const s=o[r];s&&(e(r,mD(t,r,s)),n.push(r))}return n}const gD={provider:"",aliases:{},not_found:{},...xx};function xh(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function Sx(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!xh(t,gD))return null;const n=e.icons;for(const r in n){const s=n[r];if(!r.match(ga)||typeof s.body!="string"||!xh(s,wh))return null}const o=e.aliases||Object.create(null);for(const r in o){const s=o[r],a=s.parent;if(!r.match(ga)||typeof a!="string"||!n[a]&&!o[a]||!xh(s,wh))return null}return e}const Ex=Object.create(null);function yD(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function Lr(t,e){const n=Ex[t]||(Ex[t]=Object.create(null));return n[e]||(n[e]=yD(t,e))}function kh(t,e){return Sx(e)?Cx(e,(n,o)=>{o?t.icons[n]=o:t.missing.add(n)}):[]}function bD(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}let ya=!1;function vx(t){return typeof t=="boolean"&&(ya=t),ya}function wD(t){const e=typeof t=="string"?Uc(t,!0,ya):t;if(e){const n=Lr(e.provider,e.prefix),o=e.name;return n.icons[o]||(n.missing.has(o)?null:void 0)}}function xD(t,e){const n=Uc(t,!0,ya);if(!n)return!1;const o=Lr(n.provider,n.prefix);return bD(o,n.name,e)}function Ax(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),ya&&!e&&!t.prefix){let r=!1;return Sx(t)&&(t.prefix="",Cx(t,(s,a)=>{a&&xD(s,a)&&(r=!0)})),r}const n=t.prefix;if(!Wc({provider:e,prefix:n,name:"a"}))return!1;const o=Lr(e,n);return!!kh(o,t)}const Mx=Object.freeze({width:null,height:null}),_x=Object.freeze({...Mx,...Kc}),kD=/(-?[0-9.]*[0-9]+[0-9.]*)/g,CD=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Tx(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const o=t.split(kD);if(o===null||!o.length)return t;const r=[];let s=o.shift(),a=CD.test(s);for(;;){if(a){const l=parseFloat(s);isNaN(l)?r.push(s):r.push(Math.ceil(l*e*n)/n)}else r.push(s);if(s=o.shift(),s===void 0)return r.join("");a=!a}}function SD(t,e="defs"){let n="";const o=t.indexOf("<"+e);for(;o>=0;){const r=t.indexOf(">",o),s=t.indexOf("</"+e);if(r===-1||s===-1)break;const a=t.indexOf(">",s);if(a===-1)break;n+=t.slice(r+1,s).trim(),t=t.slice(0,o).trim()+t.slice(a+1)}return{defs:n,content:t}}function ED(t,e){return t?"<defs>"+t+"</defs>"+e:e}function vD(t,e,n){const o=SD(t);return ED(o.defs,e+o.content+n)}const AD=t=>t==="unset"||t==="undefined"||t==="none";function MD(t,e){const n={...qc,...t},o={..._x,...e},r={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,o].forEach(g=>{const y=[],b=g.hFlip,x=g.vFlip;let k=g.rotate;b?x?k+=2:(y.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")"),y.push("scale(-1 1)"),r.top=r.left=0):x&&(y.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")"),y.push("scale(1 -1)"),r.top=r.left=0);let w;switch(k<0&&(k-=Math.floor(k/4)*4),k=k%4,k){case 1:w=r.height/2+r.top,y.unshift("rotate(90 "+w.toString()+" "+w.toString()+")");break;case 2:y.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:w=r.width/2+r.left,y.unshift("rotate(-90 "+w.toString()+" "+w.toString()+")");break}k%2===1&&(r.left!==r.top&&(w=r.left,r.left=r.top,r.top=w),r.width!==r.height&&(w=r.width,r.width=r.height,r.height=w)),y.length&&(s=vD(s,'<g transform="'+y.join(" ")+'">',"</g>"))});const a=o.width,l=o.height,c=r.width,d=r.height;let u,f;a===null?(f=l===null?"1em":l==="auto"?d:l,u=Tx(f,c/d)):(u=a==="auto"?c:a,f=l===null?Tx(u,d/c):l==="auto"?d:l);const p={},h=(g,y)=>{AD(y)||(p[g]=y.toString())};h("width",u),h("height",f);const m=[r.left,r.top,c,d];return p.viewBox=m.join(" "),{attributes:p,viewBox:m,body:s}}const _D=/\sid="(\S+)"/g,TD="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let BD=0;function OD(t,e=TD){const n=[];let o;for(;o=_D.exec(t);)n.push(o[1]);if(!n.length)return t;const r="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const a=typeof e=="function"?e(s):e+(BD++).toString(),l=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+a+r+"$3")}),t=t.replace(new RegExp(r,"g"),""),t}const Ch=Object.create(null);function ND(t,e){Ch[t]=e}function Sh(t){return Ch[t]||Ch[""]}function Eh(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const vh=Object.create(null),ba=["https://api.simplesvg.com","https://api.unisvg.com"],Gc=[];for(;ba.length>0;)ba.length===1||Math.random()>.5?Gc.push(ba.shift()):Gc.push(ba.pop());vh[""]=Eh({resources:["https://api.iconify.design"].concat(Gc)});function PD(t,e){const n=Eh(e);return n===null?!1:(vh[t]=n,!0)}function Ah(t){return vh[t]}let Bx=(()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}})();function ID(t,e){const n=Ah(t);if(!n)return 0;let o;if(!n.maxURL)o=0;else{let r=0;n.resources.forEach(a=>{r=Math.max(r,a.length)});const s=e+".json?icons=";o=n.maxURL-r-n.path.length-s.length}return o}function DD(t){return t===404}const RD=(t,e,n)=>{const o=[],r=ID(t,e),s="icons";let a={type:s,provider:t,prefix:e,icons:[]},l=0;return n.forEach((c,d)=>{l+=c.length+1,l>=r&&d>0&&(o.push(a),a={type:s,provider:t,prefix:e,icons:[]},l=c.length),a.icons.push(c)}),o.push(a),o};function LD(t){if(typeof t=="string"){const e=Ah(t);if(e)return e.path}return"/"}const $D={prepare:RD,send:(t,e,n)=>{if(!Bx){n("abort",424);return}let o=LD(e.provider);switch(e.type){case"icons":{const s=e.prefix,l=e.icons.join(","),c=new URLSearchParams({icons:l});o+=s+".json?"+c.toString();break}case"custom":{const s=e.uri;o+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let r=503;Bx(t+o).then(s=>{const a=s.status;if(a!==200){setTimeout(()=>{n(DD(a)?"abort":"next",a)});return}return r=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",r)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",r)})}};function VD(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((r,s)=>r.provider!==s.provider?r.provider.localeCompare(s.provider):r.prefix!==s.prefix?r.prefix.localeCompare(s.prefix):r.name.localeCompare(s.name));let o={provider:"",prefix:"",name:""};return t.forEach(r=>{if(o.name===r.name&&o.prefix===r.prefix&&o.provider===r.provider)return;o=r;const s=r.provider,a=r.prefix,l=r.name,c=n[s]||(n[s]=Object.create(null)),d=c[a]||(c[a]=Lr(s,a));let u;l in d.icons?u=e.loaded:a===""||d.missing.has(l)?u=e.missing:u=e.pending;const f={provider:s,prefix:a,name:l};u.push(f)}),e}function Ox(t,e){t.forEach(n=>{const o=n.loaderCallbacks;o&&(n.loaderCallbacks=o.filter(r=>r.id!==e))})}function zD(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const o=t.provider,r=t.prefix;e.forEach(s=>{const a=s.icons,l=a.pending.length;a.pending=a.pending.filter(c=>{if(c.prefix!==r)return!0;const d=c.name;if(t.icons[d])a.loaded.push({provider:o,prefix:r,name:d});else if(t.missing.has(d))a.missing.push({provider:o,prefix:r,name:d});else return n=!0,!0;return!1}),a.pending.length!==l&&(n||Ox([t],s.id),s.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),s.abort))})}))}let FD=0;function HD(t,e,n){const o=FD++,r=Ox.bind(null,n,o);if(!e.pending.length)return r;const s={id:o,icons:e,callback:t,abort:r};return n.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(s)}),r}function jD(t,e=!0,n=!1){const o=[];return t.forEach(r=>{const s=typeof r=="string"?Uc(r,e,n):r;s&&o.push(s)}),o}var UD={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function WD(t,e,n,o){const r=t.resources.length,s=t.random?Math.floor(Math.random()*r):t.index;let a;if(t.random){let S=t.resources.slice(0);for(a=[];S.length>1;){const v=Math.floor(Math.random()*S.length);a.push(S[v]),S=S.slice(0,v).concat(S.slice(v+1))}a=a.concat(S)}else a=t.resources.slice(s).concat(t.resources.slice(0,s));const l=Date.now();let c="pending",d=0,u,f=null,p=[],h=[];typeof o=="function"&&h.push(o);function m(){f&&(clearTimeout(f),f=null)}function g(){c==="pending"&&(c="aborted"),m(),p.forEach(S=>{S.status==="pending"&&(S.status="aborted")}),p=[]}function y(S,v){v&&(h=[]),typeof S=="function"&&h.push(S)}function b(){return{startTime:l,payload:e,status:c,queriesSent:d,queriesPending:p.length,subscribe:y,abort:g}}function x(){c="failed",h.forEach(S=>{S(void 0,u)})}function k(){p.forEach(S=>{S.status==="pending"&&(S.status="aborted")}),p=[]}function w(S,v,B){const _=v!=="success";switch(p=p.filter(E=>E!==S),c){case"pending":break;case"failed":if(_||!t.dataAfterTimeout)return;break;default:return}if(v==="abort"){u=B,x();return}if(_){u=B,p.length||(a.length?C():x());return}if(m(),k(),!t.random){const E=t.resources.indexOf(S.resource);E!==-1&&E!==t.index&&(t.index=E)}c="completed",h.forEach(E=>{E(B)})}function C(){if(c!=="pending")return;m();const S=a.shift();if(S===void 0){if(p.length){f=setTimeout(()=>{m(),c==="pending"&&(k(),x())},t.timeout);return}x();return}const v={status:"pending",resource:S,callback:(B,_)=>{w(v,B,_)}};p.push(v),d++,f=setTimeout(C,t.rotate),n(S,e,v.callback)}return setTimeout(C),b}function Nx(t){const e={...UD,...t};let n=[];function o(){n=n.filter(l=>l().status==="pending")}function r(l,c,d){const u=WD(e,l,c,(f,p)=>{o(),d&&d(f,p)});return n.push(u),u}function s(l){return n.find(c=>l(c))||null}return{query:r,find:s,setIndex:l=>{e.index=l},getIndex:()=>e.index,cleanup:o}}function Px(){}const Mh=Object.create(null);function KD(t){if(!Mh[t]){const e=Ah(t);if(!e)return;const n=Nx(e),o={config:e,redundancy:n};Mh[t]=o}return Mh[t]}function qD(t,e,n){let o,r;if(typeof t=="string"){const s=Sh(t);if(!s)return n(void 0,424),Px;r=s.send;const a=KD(t);a&&(o=a.redundancy)}else{const s=Eh(t);if(s){o=Nx(s);const a=t.resources?t.resources[0]:"",l=Sh(a);l&&(r=l.send)}}return!o||!r?(n(void 0,424),Px):o.query(e,r,n)().abort}const Ix="iconify2",wa="iconify",Dx=wa+"-count",Rx=wa+"-version",Lx=36e5,GD=168,JD=50;function _h(t,e){try{return t.getItem(e)}catch{}}function Th(t,e,n){try{return t.setItem(e,n),!0}catch{}}function $x(t,e){try{t.removeItem(e)}catch{}}function Bh(t,e){return Th(t,Dx,e.toString())}function Oh(t){return parseInt(_h(t,Dx))||0}const Jc={local:!0,session:!0},Vx={local:new Set,session:new Set};let Nh=!1;function YD(t){Nh=t}let Yc=typeof window>"u"?{}:window;function zx(t){const e=t+"Storage";try{if(Yc&&Yc[e]&&typeof Yc[e].length=="number")return Yc[e]}catch{}Jc[t]=!1}function Fx(t,e){const n=zx(t);if(!n)return;const o=_h(n,Rx);if(o!==Ix){if(o){const l=Oh(n);for(let c=0;c<l;c++)$x(n,wa+c.toString())}Th(n,Rx,Ix),Bh(n,0);return}const r=Math.floor(Date.now()/Lx)-GD,s=l=>{const c=wa+l.toString(),d=_h(n,c);if(typeof d=="string"){try{const u=JSON.parse(d);if(typeof u=="object"&&typeof u.cached=="number"&&u.cached>r&&typeof u.provider=="string"&&typeof u.data=="object"&&typeof u.data.prefix=="string"&&e(u,l))return!0}catch{}$x(n,c)}};let a=Oh(n);for(let l=a-1;l>=0;l--)s(l)||(l===a-1?(a--,Bh(n,a)):Vx[t].add(l))}function Hx(){if(!Nh){YD(!0);for(const t in Jc)Fx(t,e=>{const n=e.data,o=e.provider,r=n.prefix,s=Lr(o,r);if(!kh(s,n).length)return!1;const a=n.lastModified||-1;return s.lastModifiedCached=s.lastModifiedCached?Math.min(s.lastModifiedCached,a):a,!0})}}function XD(t,e){const n=t.lastModifiedCached;if(n&&n>=e)return n===e;if(t.lastModifiedCached=e,n)for(const o in Jc)Fx(o,r=>{const s=r.data;return r.provider!==t.provider||s.prefix!==t.prefix||s.lastModified===e});return!0}function ZD(t,e){Nh||Hx();function n(o){let r;if(!Jc[o]||!(r=zx(o)))return;const s=Vx[o];let a;if(s.size)s.delete(a=Array.from(s).shift());else if(a=Oh(r),a>=JD||!Bh(r,a+1))return;const l={cached:Math.floor(Date.now()/Lx),provider:t.provider,data:e};return Th(r,wa+a.toString(),JSON.stringify(l))}e.lastModified&&!XD(t,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&(e=Object.assign({},e),delete e.not_found),n("local")||n("session"))}function jx(){}function QD(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,zD(t)}))}function eR(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:o}=t,r=t.iconsToLoad;delete t.iconsToLoad;let s;if(!r||!(s=Sh(n)))return;s.prepare(n,o,r).forEach(l=>{qD(n,l,c=>{if(typeof c!="object")l.icons.forEach(d=>{t.missing.add(d)});else try{const d=kh(t,c);if(!d.length)return;const u=t.pendingIcons;u&&d.forEach(f=>{u.delete(f)}),ZD(t,c)}catch(d){console.error(d)}QD(t)})})}))}const tR=(t,e)=>{const n=jD(t,!0,vx()),o=VD(n);if(!o.pending.length){let c=!0;return e&&setTimeout(()=>{c&&e(o.loaded,o.missing,o.pending,jx)}),()=>{c=!1}}const r=Object.create(null),s=[];let a,l;return o.pending.forEach(c=>{const{provider:d,prefix:u}=c;if(u===l&&d===a)return;a=d,l=u,s.push(Lr(d,u));const f=r[d]||(r[d]=Object.create(null));f[u]||(f[u]=[])}),o.pending.forEach(c=>{const{provider:d,prefix:u,name:f}=c,p=Lr(d,u),h=p.pendingIcons||(p.pendingIcons=new Set);h.has(f)||(h.add(f),r[d][u].push(f))}),s.forEach(c=>{const{provider:d,prefix:u}=c;r[d][u].length&&eR(c,r[d][u])}),e?HD(e,o,s):jx};function nR(t,e){const n={...t};for(const o in e){const r=e[o],s=typeof r;o in Mx?(r===null||r&&(s==="string"||s==="number"))&&(n[o]=r):s===typeof n[o]&&(n[o]=o==="rotate"?r%4:r)}return n}const oR=/[\s,]+/;function rR(t,e){e.split(oR).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function iR(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function o(r){for(;r<0;)r+=4;return r%4}if(n===""){const r=parseInt(t);return isNaN(r)?0:o(r)}else if(n!==t){let r=0;switch(n){case"%":r=25;break;case"deg":r=90}if(r){let s=parseFloat(t.slice(0,t.length-n.length));return isNaN(s)?0:(s=s/r,s%1===0?o(s):0)}}return e}function sR(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in e)n+=" "+o+'="'+e[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function aR(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function lR(t){return"data:image/svg+xml,"+aR(t)}function cR(t){return'url("'+lR(t)+'")'}const Ux={..._x,inline:!1},dR={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},uR={display:"inline-block"},Ph={backgroundColor:"currentColor"},Wx={backgroundColor:"transparent"},Kx={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},qx={webkitMask:Ph,mask:Ph,background:Wx};for(const t in qx){const e=qx[t];for(const n in Kx)e[t+n]=Kx[n]}const Xc={};["horizontal","vertical"].forEach(t=>{const e=t.slice(0,1)+"Flip";Xc[t+"-flip"]=e,Xc[t.slice(0,1)+"-flip"]=e,Xc[t+"Flip"]=e});function Gx(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const Jx=(t,e)=>{const n=nR(Ux,e),o={...dR},r=e.mode||"svg",s={},a=e.style,l=typeof a=="object"&&!(a instanceof Array)?a:{};for(let g in e){const y=e[g];if(y!==void 0)switch(g){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":n[g]=y===!0||y==="true"||y===1;break;case"flip":typeof y=="string"&&rR(n,y);break;case"color":s.color=y;break;case"rotate":typeof y=="string"?n[g]=iR(y):typeof y=="number"&&(n[g]=y);break;case"ariaHidden":case"aria-hidden":y!==!0&&y!=="true"&&delete o["aria-hidden"];break;default:{const b=Xc[g];b?(y===!0||y==="true"||y===1)&&(n[b]=!0):Ux[g]===void 0&&(o[g]=y)}}}const c=MD(t,n),d=c.attributes;if(n.inline&&(s.verticalAlign="-0.125em"),r==="svg"){o.style={...s,...l},Object.assign(o,d);let g=0,y=e.id;return typeof y=="string"&&(y=y.replace(/-/g,"_")),o.innerHTML=OD(c.body,y?()=>y+"ID"+g++:"iconifyVue"),i.h("svg",o)}const{body:u,width:f,height:p}=t,h=r==="mask"||(r==="bg"?!1:u.indexOf("currentColor")!==-1),m=sR(u,{...d,width:f+"",height:p+""});return o.style={...s,"--svg":cR(m),width:Gx(d.width),height:Gx(d.height),...uR,...h?Ph:Wx,...l},i.h("span",o)};if(vx(!0),ND("",$D),typeof document<"u"&&typeof window<"u"){Hx();const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(o=>{try{(typeof o!="object"||o===null||o instanceof Array||typeof o.icons!="object"||typeof o.prefix!="string"||!Ax(o))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const o="IconifyProviders["+n+"] is invalid.";try{const r=e[n];if(typeof r!="object"||!r||r.resources===void 0)continue;PD(n,r)||console.error(o)}catch{console.error(o)}}}}const fR={...qc,body:""},pR=i.defineComponent({inheritAttrs:!1,data(){return{_name:"",_loadingIcon:null,iconMounted:!1,counter:0}},mounted(){this.iconMounted=!0},unmounted(){this.abortLoading()},methods:{abortLoading(){this._loadingIcon&&(this._loadingIcon.abort(),this._loadingIcon=null)},getIcon(t,e){if(typeof t=="object"&&t!==null&&typeof t.body=="string")return this._name="",this.abortLoading(),{data:t};let n;if(typeof t!="string"||(n=Uc(t,!1,!0))===null)return this.abortLoading(),null;const o=wD(n);if(!o)return(!this._loadingIcon||this._loadingIcon.name!==t)&&(this.abortLoading(),this._name="",o!==null&&(this._loadingIcon={name:t,abort:tR([n],()=>{this.counter++})})),null;this.abortLoading(),this._name!==t&&(this._name=t,e&&e(t));const r=["iconify"];return n.prefix!==""&&r.push("iconify--"+n.prefix),n.provider!==""&&r.push("iconify--"+n.provider),{data:o,classes:r}}},render(){this.counter;const t=this.$attrs,e=this.iconMounted||t.ssr?this.getIcon(t.icon,t.onLoad):null;if(!e)return Jx(fR,t);let n=t;return e.classes&&(n={...t,class:(typeof t.class=="string"?t.class+" ":"")+e.classes.join(" ")}),Jx({...qc,...e.data},n)}}),re=i.defineComponent({__name:"Icon",props:{name:{},class:{}},setup(t){const e=t,n=i.computed(()=>fD[e.name]);return n.value||console.error(`Icon ${e.name} not found`),(o,r)=>(i.openBlock(),i.createBlock(i.unref(pR),{icon:n.value,class:i.normalizeClass(i.unref(Z)("w-4 h-4",e.class))},null,8,["icon","class"]))}}),Jo=i.defineComponent({__name:"Input",props:{defaultValue:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=QT(n,"modelValue",e,{passive:!0,defaultValue:n.defaultValue});return(s,a)=>i.withDirectives((i.openBlock(),i.createElementBlock("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>i.isRef(r)?r.value=l:null),class:i.normalizeClass(i.unref(Z)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n.class))},null,2)),[[i.vModelText,i.unref(r)]])}}),xa=i.defineComponent({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(aN),i.mergeProps(n.value,{class:i.unref(Z)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e.class)}),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["class"]))}});function Yx(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Yx(t[e]))&&(o&&(o+=" "),o+=n);else for(e in t)t[e]&&(o&&(o+=" "),o+=e);return o}function hR(){for(var t,e,n=0,o="";n<arguments.length;)(t=arguments[n++])&&(e=Yx(t))&&(o&&(o+=" "),o+=e);return o}const Xx=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Zx=hR,Ih=(t,e)=>n=>{var o;if((e==null?void 0:e.variants)==null)return Zx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:s}=e,a=Object.keys(r).map(d=>{const u=n==null?void 0:n[d],f=s==null?void 0:s[d];if(u===null)return null;const p=Xx(u)||Xx(f);return r[d][p]}),l=n&&Object.entries(n).reduce((d,u)=>{let[f,p]=u;return p===void 0||(d[f]=p),d},{}),c=e==null||(o=e.compoundVariants)===null||o===void 0?void 0:o.reduce((d,u)=>{let{class:f,className:p,...h}=u;return Object.entries(h).every(m=>{let[g,y]=m;return Array.isArray(y)?y.includes({...s,...l}[g]):{...s,...l}[g]===y})?[...d,f,p]:d},[]);return Zx(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},lt=i.defineComponent({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(G),{as:n.as,"as-child":n.asChild,class:i.normalizeClass(i.unref(Z)(i.unref(mR)({variant:n.variant,size:n.size}),e.class))},{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),mR=Ih("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",xs:"h-7 rounded px-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),gR={class:"flex w-full max-w-sm items-center gap-1.5"},yR={class:"relative w-full max-w-sm items-center"},bR={class:"flex w-full max-w-sm items-center gap-1.5"},wR={class:"relative w-full max-w-sm items-center"},xR={class:"absolute start-0 inset-y-0 flex items-center justify-center px-2"},kR={class:"flex items-center space-x-2 mt-1"},Qx=i.defineComponent({__name:"LinkEditBlock",props:{editor:{}},emits:["onSetLink","onClickOutside"],setup(t,{emit:e}){const n=t,o=e,{t:r}=Be();let s=i.reactive({text:"",link:""});const a=i.ref(null),{focused:l}=yp(a),c=i.ref(!1),d=i.ref(null);DT(d,f=>o("onClickOutside",f)),i.watchEffect(()=>{const{href:f,target:p}=n.editor.getAttributes("link"),{from:h,to:m}=n.editor.state.selection,g=n.editor.state.doc.textBetween(h,m," ");s={link:f,text:g},c.value=p==="_blank"});function u(){o("onSetLink",s.link,s.text,c.value)}return i.onMounted(()=>{l.value=!0}),(f,p)=>{const h=wx;return i.openBlock(),i.createElementBlock("div",{ref_key:"target",ref:d,class:"p-2 bg-white rounded-lg dark:bg-black shadow-sm border border-neutral-200 dark:border-neutral-800"},[i.createElementVNode("form",{onSubmit:i.withModifiers(u,["prevent"]),class:"flex flex-col gap-2"},[i.createVNode(i.unref(xa),null,{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(r)("editor.link.dialog.text")),1)]),_:1}),i.createElementVNode("div",gR,[i.createElementVNode("div",yR,[i.createVNode(i.unref(Jo),{type:"text",modelValue:i.unref(s).text,"onUpdate:modelValue":p[0]||(p[0]=m=>i.unref(s).text=m),required:"",class:"w-80",placeholder:"输入文本"},null,8,["modelValue"])])]),i.createVNode(i.unref(xa),null,{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(r)("editor.link.dialog.link")),1)]),_:1}),i.createElementVNode("div",bR,[i.createElementVNode("div",wR,[i.createVNode(i.unref(Jo),{type:"url",ref_key:"inputRef",ref:a,modelValue:i.unref(s).link,"onUpdate:modelValue":p[1]||(p[1]=m=>i.unref(s).link=m),required:"",class:"pl-10"},null,8,["modelValue"]),i.createElementVNode("span",xR,[i.createVNode(i.unref(re),{class:"size-5 text-muted-foreground",name:"Link"})])])]),i.createElementVNode("div",kR,[i.createVNode(h,{checked:c.value,"onUpdate:checked":p[2]||(p[2]=m=>c.value=m),id:"openInNewTab"},null,8,["checked"]),i.createVNode(i.unref(xa),{for:"openInNewTab"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(r)("editor.link.dialog.openInNewTab")),1)]),_:1})]),i.createVNode(i.unref(lt),{type:"submit",class:"mt-2 self-end"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(r)("editor.link.dialog.button.apply")),1)]),_:1})],32)],512)}}});let Dh;function Rh(){return Dh===void 0&&(Dh=navigator.platform.includes("Mac")),Dh}function Zc(t){return t.toLowerCase()==="mod"?Rh()?"⌘":"Ctrl":t.toLowerCase()==="alt"?Rh()?"⌥":"Alt":t.toLowerCase()==="shift"?Rh()?"⇧":"Shift":t}function oo(t){return t.map(Zc).join(" ")}const ek=i.defineComponent({__name:"Toggle",props:{defaultValue:{type:Boolean},pressed:{type:Boolean},disabled:{type:Boolean,default:!1},asChild:{type:Boolean},as:{},class:{},variant:{default:"default"},size:{default:"default"}},emits:["update:pressed"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,size:l,variant:c,...d}=n;return d}),s=he(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(ax),i.mergeProps(i.unref(s),{class:i.unref(Z)(i.unref(tk)({variant:a.variant,size:a.size}),n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),tk=Ih("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-3",sm:"h-8 px-2",lg:"h-10 px-3"}},defaultVariants:{variant:"default",size:"default"}}),Pi=i.defineComponent({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const r=he(t,e);return(s,a)=>(i.openBlock(),i.createBlock(i.unref(xI),i.normalizeProps(i.guardReactiveProps(i.unref(r))),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))}}),Ii=i.defineComponent({inheritAttrs:!1,__name:"TooltipContent",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=he(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(EI),null,{default:i.withCtx(()=>[i.createVNode(i.unref(SI),i.mergeProps({...i.unref(s),...a.$attrs},{class:i.unref(Z)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Di=i.defineComponent({__name:"TooltipTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(kI),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),Ri=i.defineComponent({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(bI),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),CR={key:0},SR={key:1,class:"flex gap-1 items-center"},ER={key:2,class:"ml-1 font-normal"},vR={class:"max-w-24 text-center flex flex-col items-center"},AR={key:0,style:{display:"flex",gap:"4px"}},ne=i.defineComponent({__name:"ActionButton",props:{icon:{default:void 0},title:{default:void 0},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},shortcutKeys:{default:void 0},customClass:{default:""},loading:{type:Boolean,default:!1},tooltipOptions:{default:void 0},color:{default:void 0},action:{type:Function,default:void 0},isActive:{type:Function,default:void 0},editor:{},class:{}},setup(t){return(e,n)=>(i.openBlock(),i.createBlock(i.unref(Ri),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Pi),{"delay-duration":0},{default:i.withCtx(()=>[i.createVNode(i.unref(Di),null,{default:i.withCtx(()=>{var o;return[i.createVNode(i.unref(ek),{size:"sm",class:i.normalizeClass(["h-[32px]",[e.customClass,e.title?"w-auto":"w-[32px]"]]),pressed:((o=e.isActive)==null?void 0:o.call(e))||!1,disabled:e.disabled,onClick:e.action},{default:i.withCtx(()=>[e.loading?(i.openBlock(),i.createElementBlock("div",CR,[i.createVNode(i.unref(re),{class:"animate-spin",name:"LoaderCircle"})])):(i.openBlock(),i.createElementBlock("div",SR,[e.icon?(i.openBlock(),i.createBlock(i.unref(re),{key:0,name:e.icon},null,8,["name"])):i.createCommentVNode("",!0),i.renderSlot(e.$slots,"icon")])),e.title?(i.openBlock(),i.createElementBlock("div",ER,i.toDisplayString(e.title),1)):i.createCommentVNode("",!0),i.renderSlot(e.$slots,"default")]),_:3},8,["pressed","disabled","class","onClick"])]}),_:3}),e.tooltip?(i.openBlock(),i.createBlock(i.unref(Ii),i.normalizeProps(i.mergeProps({key:0},e.tooltipOptions)),{default:i.withCtx(()=>[i.createElementVNode("div",vR,[i.createElementVNode("div",null,i.toDisplayString(e.tooltip),1),e.shortcutKeys&&e.shortcutKeys.length?(i.openBlock(),i.createElementBlock("div",AR,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.shortcutKeys,(o,r)=>(i.openBlock(),i.createElementBlock("span",{key:r},i.toDisplayString(i.unref(Zc)(o)),1))),128))])):i.createCommentVNode("",!0)])]),_:1},16)):i.createCommentVNode("",!0)]),_:3})]),_:3}))}}),MR={class:"flex items-center gap-2 p-2 bg-white rounded-lg dark:bg-black shadow-sm border border-neutral-200 dark:border-neutral-800"},_R=["href"],TR={class:"flex flex-nowrap"},BR=i.defineComponent({__name:"LinkViewBlock",props:{editor:{},link:{default:void 0}},emits:["clear","edit"],setup(t,{emit:e}){const{t:n}=Be(),o=e;function r(){o("clear")}function s(){o("edit")}return(a,l)=>(i.openBlock(),i.createElementBlock("div",MR,[i.createElementVNode("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",class:"text-sm underline break-all"},i.toDisplayString(i.unref(uT)(a.link,{length:50,omission:"…"})),9,_R),a.link?(i.openBlock(),i.createBlock(i.unref(no),{key:0,orientation:"vertical",class:"h-4"})):i.createCommentVNode("",!0),i.createElementVNode("div",TR,[i.createVNode(ne,{icon:"Pencil",tooltip:i.unref(n)("editor.link.edit.tooltip"),action:s,"tooltip-options":{sideOffset:15}},null,8,["tooltip"]),i.createVNode(ne,{icon:"Unlink",tooltip:i.unref(n)("editor.link.unlink.tooltip"),action:r,"tooltip-options":{sideOffset:15}},null,8,["tooltip"])])]))}}),OR=i.defineComponent({__name:"LinkBubbleMenu",props:{editor:{},disabled:{type:Boolean,default:!1}},setup(t){const e=t,n=i.ref(!1),o=i.computed(()=>{const{href:c}=e.editor.getAttributes("link");return c}),r=i.computed(()=>e.editor.isActive("link"));function s(c,d,u){e.editor.chain().extendMarkRange("link").insertContent({type:"text",text:d,marks:[{type:"link",attrs:{href:c,target:u?"_blank":""}}]}).setLink({href:c}).focus().run(),n.value=!1}function a(){e.editor.chain().extendMarkRange("link").unsetLink().focus().run(),n.value=!1}function l(){const{state:c,view:d}=e.editor,{tr:u,selection:f}=c,p=u.setSelection(Y.create(c.doc,f.from));d.dispatch(p),n.value=!1}return(c,d)=>i.withDirectives((i.openBlock(),i.createBlock(i.unref(xi),{editor:c.editor,"update-delay":0,"tippy-options":{popperOptions:{modifiers:[{name:"flip",enabled:!1}]},appendTo:"parent",placement:"bottom-start",offset:[-2,16],zIndex:99,onHidden:()=>{n.value=!1}}},{default:i.withCtx(()=>[n.value?(i.openBlock(),i.createBlock(Qx,{key:0,onOnSetLink:s,onOnClickOutside:l,editor:c.editor},null,8,["editor"])):(i.openBlock(),i.createBlock(BR,{key:1,editor:c.editor,onClear:a,onEdit:d[0]||(d[0]=u=>n.value=!0),link:o.value},null,8,["editor","link"]))]),_:1},8,["editor","tippy-options"])),[[i.vShow,r.value]])}}),Li=i.defineComponent({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const r=he(t,e);return(s,a)=>(i.openBlock(),i.createBlock(i.unref(xN),i.normalizeProps(i.guardReactiveProps(i.unref(r))),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))}}),$i=i.defineComponent({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(kN),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),Vi=i.defineComponent({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=he(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(CN),null,{default:i.withCtx(()=>[i.createVNode(i.unref(vN),i.mergeProps({...i.unref(s),...a.$attrs},{class:i.unref(Z)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),NR={class:"flex flex-col"},PR={class:"w-6 h-6 p-0.5 inline-block rounded-sm border cursor-pointer hover:border-border hover:shadow-sm relative after:border-b-2 after:border-b-red-500 after:top-[10px] after:h-0 after:left-0 after:w-6 after:absolute after:block after:rotate-[45deg]"},IR={style:{"background-color":"transparent"}},DR={viewBox:"0 0 18 18",style:{fill:"rgba(0, 0, 0, 0.4)",display:"none"}},RR=[i.createElementVNode("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},null,-1)],LR={class:"text-sm ml-1"},$R={class:"w-6 h-6 p-0.5 inline-block rounded-sm border border-transparent cursor-pointer"},VR={viewBox:"0 0 18 18",style:{fill:"rgb(255, 255, 255)",display:"none"}},zR=[i.createElementVNode("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},null,-1)],FR={class:"text-sm ml-1"},HR=["onClick"],jR={key:0,viewBox:"0 0 18 18",style:{fill:"rgb(255, 255, 255)",display:"none"}},UR=[i.createElementVNode("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},null,-1)],WR={key:1,class:"absolute top-[-1px] left-[1px] w-3 h-3",viewBox:"0 0 18 18",style:{fill:"rgb(255, 255, 255)",display:"block"}},KR=[i.createElementVNode("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},null,-1)],qR={class:"text-sm my-1"},GR={class:"flex p-0 w-full h-auto relative last:pb-2"},JR=["onClick"],YR={viewBox:"0 0 18 18",style:{fill:"rgb(255, 255, 255)",display:"none"}},XR=[i.createElementVNode("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},null,-1)],ZR={class:"relative"},nk=i.defineComponent({__name:"ColorPicker",props:{modelValue:{default:""},highlight:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(t,{emit:e}){const{t:n}=Be(),o=Av.reduce((p,h,m)=>{const g=Math.floor(m/10);return p[g]||(p[g]=[]),p[g].push(h),p},[]),r=t,s=i.ref(null),a=ZT(r.highlight?"recentColorsHighlight":"recentColors",[]),l=e;function c(p){const h=a.value.indexOf(p);h!==-1&&a.value.splice(h,1),a.value.unshift(p),a.value.length>10&&a.value.pop()}const d=i.computed(()=>a.value.slice(0,10));function u(p){if(p===void 0){l("update:modelValue",p),l("change",p);return}/^#([0-9A-F]{3}){1,2}$/i.test(p)&&(l("update:modelValue",p),l("change",p),c(p))}const f=()=>{var p;(p=s.value)==null||p.click()};return(p,h)=>(i.openBlock(),i.createBlock(i.unref(Li),null,{default:i.withCtx(()=>[i.createVNode(i.unref($i),{disabled:p.disabled},{default:i.withCtx(()=>[i.renderSlot(p.$slots,"default")]),_:3},8,["disabled"]),i.createVNode(i.unref(Vi),{hideWhenDetached:"",class:"p-2 w-full h-full",align:"start",side:"bottom"},{default:i.withCtx(()=>[i.createElementVNode("div",NR,[p.highlight?(i.openBlock(),i.createElementBlock("div",{key:0,class:"flex items-center p-1 rd-1 cursor-pointer hover:bg-accent",onClick:h[0]||(h[0]=m=>u(void 0))},[i.createElementVNode("span",PR,[i.createElementVNode("span",IR,[(i.openBlock(),i.createElementBlock("svg",DR,RR))])]),i.createElementVNode("span",LR,i.toDisplayString(i.unref(n)("editor.nofill")),1)])):(i.openBlock(),i.createElementBlock("div",{key:1,class:"flex items-center p-1 rd-1 cursor-pointer hover:bg-accent",onClick:h[1]||(h[1]=m=>u(void 0))},[i.createElementVNode("span",$R,[i.createElementVNode("span",{style:i.normalizeStyle({backgroundColor:i.unref(vv)}),class:"relative w-[18px] h-[18px] block rounded-[2px] border-transparent"},[(i.openBlock(),i.createElementBlock("svg",VR,zR))],4)]),i.createElementVNode("span",FR,i.toDisplayString(i.unref(n)("editor.default")),1)])),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(i.unref(o),(m,g)=>(i.openBlock(),i.createElementBlock("span",{class:"flex p-0 w-full h-auto relative last:pb-2",key:g},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(m,(y,b)=>(i.openBlock(),i.createElementBlock("span",{class:"w-6 h-6 p-0.5 inline-block rounded-sm border border-transparent flex-[0 0 auto] cursor-pointer hover:border-border hover:shadow-sm",key:b,onClick:x=>u(y)},[i.createElementVNode("span",{style:i.normalizeStyle({backgroundColor:y}),class:"relative w-[18px] h-[18px] block rounded-[2px] border-transparent"},[y!==p.modelValue?(i.openBlock(),i.createElementBlock("svg",jR,UR)):(i.openBlock(),i.createElementBlock("svg",WR,KR))],4)],8,HR))),128))]))),128)),i.withDirectives(i.createElementVNode("div",null,[i.createElementVNode("div",qR,i.toDisplayString(i.unref(n)("editor.recent")),1),i.createElementVNode("span",GR,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(d.value,(m,g)=>(i.openBlock(),i.createElementBlock("span",{class:"w-6 h-6 p-0.5 inline-block rounded-sm border border-transparent flex-[0 0 auto] cursor-pointer hover:border-border hover:shadow-sm",key:g,onClick:y=>u(m)},[i.createElementVNode("span",{class:"relative w-[18px] h-[18px] block rounded-[2px] border-transparent",style:i.normalizeStyle({backgroundColor:m})},[(i.openBlock(),i.createElementBlock("svg",YR,XR))],4)],8,JR))),128))])],512),[[i.vShow,d.value.length]]),i.createElementVNode("div",ZR,[i.createElementVNode("div",{class:"text-sm hover:cursor-pointer hover:bg-accent py-1.5 px-1.5",onClick:f},i.toDisplayString(i.unref(n)("editor.color.more"))+"... ",1),i.createElementVNode("input",{type:"color",ref_key:"html5Color",ref:s,onChange:h[2]||(h[2]=m=>{u(m.target.value)}),class:"absolute left-0 top-4",style:{visibility:"hidden"}},null,544)])])]),_:1})]),_:3}))}}),QR={class:"flex items-center h-[32px] hover:bg-muted rounded-md"},eL={class:"text-sm flex items-center justify-center"},tL={width:"18px",height:"18px",viewBox:"0 0 256 256",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},nL={id:"icon/填充色",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},oL={id:"icon/背景颜色"},rL=i.createElementVNode("g",{id:"编组",fill:"currentColor"},[i.createElementVNode("g",{transform:"translate(119.502295, 137.878331) rotate(-135.000000) translate(-119.502295, -137.878331) translate(48.002295, 31.757731)",id:"矩形"},[i.createElementVNode("path",{d:"M100.946943,60.8084699 L43.7469427,60.8084699 C37.2852111,60.8084699 32.0469427,66.0467383 32.0469427,72.5084699 L32.0469427,118.70847 C32.0469427,125.170201 37.2852111,130.40847 43.7469427,130.40847 L100.946943,130.40847 C107.408674,130.40847 112.646943,125.170201 112.646943,118.70847 L112.646943,72.5084699 C112.646943,66.0467383 107.408674,60.8084699 100.946943,60.8084699 Z M93.646,79.808 L93.646,111.408 L51.046,111.408 L51.046,79.808 L93.646,79.808 Z","fill-rule":"nonzero"}),i.createElementVNode("path",{d:"M87.9366521,16.90916 L87.9194966,68.2000001 C87.9183543,69.4147389 86.9334998,70.399264 85.7187607,70.4 L56.9423078,70.4 C55.7272813,70.4 54.7423078,69.4150264 54.7423078,68.2 L54.7423078,39.4621057 C54.7423078,37.2523513 55.5736632,35.1234748 57.0711706,33.4985176 L76.4832996,12.4342613 C78.9534987,9.75382857 83.1289108,9.5834005 85.8093436,12.0535996 C87.1658473,13.303709 87.9372691,15.0644715 87.9366521,16.90916 Z","fill-rule":"evenodd"}),i.createElementVNode("path",{d:"M131.3,111.241199 L11.7,111.241199 C5.23826843,111.241199 0,116.479467 0,122.941199 L0,200.541199 C0,207.002931 5.23826843,212.241199 11.7,212.241199 L131.3,212.241199 C137.761732,212.241199 143,207.002931 143,200.541199 L143,122.941199 C143,116.479467 137.761732,111.241199 131.3,111.241199 Z M124,130.241 L124,193.241 L19,193.241 L19,130.241 L124,130.241 Z","fill-rule":"nonzero"})])],-1),iL=["fill"],ok=i.defineComponent({__name:"HighlightActionButton",props:{editor:{},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},action:{type:Function,default:void 0},isActive:{type:Function,default:void 0},tooltipOptions:{default:void 0}},setup(t){const e=t,n=i.ref(void 0),{state:o}=Ot();function r(a){var l;(l=e.action)==null||l.call(e,a)}function s(a){var l;(l=e.action)==null||l.call(e,n.value)}return i.watchEffect(()=>{const{color:a}=e.editor.getAttributes("highlight");o.highlight=a}),(a,l)=>(i.openBlock(),i.createElementBlock("div",QR,[i.createVNode(ne,{tooltip:a.tooltip,disabled:a.disabled,action:s,"tooltip-options":a.tooltipOptions},{icon:i.withCtx(()=>[i.createElementVNode("span",eL,[(i.openBlock(),i.createElementBlock("svg",tL,[i.createElementVNode("g",nL,[i.createElementVNode("g",oL,[rL,i.createElementVNode("path",{d:"M51,218 L205,218 C211.075132,218 216,222.924868 216,229 C216,235.075132 211.075132,240 205,240 L51,240 C44.9248678,240 40,235.075132 40,229 C40,222.924868 44.9248678,218 51,218 Z",id:"矩形",fill:n.value||"#FBDE28"},null,8,iL)])])]))])]),_:1},8,["tooltip","disabled","tooltip-options"]),i.createVNode(nk,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=c=>n.value=c),onChange:r,highlight:"",disabled:a.disabled},{default:i.withCtx(()=>[i.createVNode(i.unref(lt),{variant:"ghost",size:"icon",class:"w-3 h-[32px] rounded-l-none hover:bg-muted-foreground/20",disabled:a.disabled},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{class:"w-3 h-3 text-zinc-500",name:"MenuDown"})]),_:1},8,["disabled"])]),_:1},8,["modelValue","disabled"])]))}}),sL={class:"min-w-32 flex flex-row h-full items-center leading-none gap-0.5 p-2 w-full bg-background rounded-lg shadow-sm border border-border"},aL=i.defineComponent({__name:"TableBubbleMenu",props:{editor:{}},setup(t){const e=t,n=({editor:g})=>Pl(g.view.state,"table"),{t:o}=Be();function r(){e.editor.chain().focus().addColumnBefore().run()}function s(){e.editor.chain().focus().addColumnAfter().run()}function a(){e.editor.chain().focus().deleteColumn().run()}function l(){e.editor.chain().focus().addRowBefore().run()}function c(){e.editor.chain().focus().addRowAfter().run()}function d(){e.editor.chain().focus().deleteRow().run()}function u(){e.editor.chain().focus().mergeCells().run()}function f(){var g;(g=e.editor)==null||g.chain().focus().splitCell().run()}function p(){e.editor.chain().focus().deleteTable().run()}function h(g){e.editor.chain().focus().setTableCellBackground(g).run()}const m=()=>{const{view:g,state:{selection:{from:y}}}=e.editor,b=g.domAtPos(y).node;if(!b)return new DOMRect(-1e3,-1e3,0,0);const x=b==null?void 0:b.closest(".tableWrapper");return x?x.getBoundingClientRect():new DOMRect(-1e3,-1e3,0,0)};return(g,y)=>(i.openBlock(),i.createBlock(i.unref(xi),{editor:g.editor,pluginKey:"table",shouldShow:n,updateDelay:0,"tippy-options":{offset:[0,8],popperOptions:{modifiers:[{name:"flip",enabled:!1}]},maxWidth:"auto",getReferenceClientRect:m,plugins:[i.unref(jf)],sticky:"popper"}},{default:i.withCtx(()=>{var b,x,k,w,C,S,v,B,_;return[i.createElementVNode("div",sL,[i.createVNode(ne,{icon:"BetweenHorizonalEnd",tooltip:i.unref(o)("editor.table.menu.insertColumnBefore"),action:r,"tooltip-options":{sideOffset:15},disabled:!((b=g.editor)!=null&&b.can().addColumnBefore())},null,8,["tooltip","disabled"]),i.createVNode(ne,{icon:"BetweenHorizonalStart",tooltip:i.unref(o)("editor.table.menu.insertColumnAfter"),action:s,"tooltip-options":{sideOffset:15},disabled:!((x=g.editor)!=null&&x.can().addColumnAfter())},null,8,["tooltip","disabled"]),i.createVNode(ne,{icon:"ColumnDelete",action:a,tooltip:i.unref(o)("editor.table.menu.deleteColumn"),"tooltip-options":{sideOffset:15},disabled:!((k=g.editor)!=null&&k.can().deleteColumn())},null,8,["tooltip","disabled"]),i.createVNode(i.unref(no),{orientation:"vertical",class:"mx-1 me-2 h-[16px]"}),i.createVNode(ne,{icon:"BetweenVerticalEnd",action:l,tooltip:i.unref(o)("editor.table.menu.insertRowAbove"),"tooltip-options":{sideOffset:15},disabled:!((w=g.editor)!=null&&w.can().addRowBefore())},null,8,["tooltip","disabled"]),i.createVNode(ne,{icon:"BetweenVerticalStart",action:c,tooltip:i.unref(o)("editor.table.menu.insertRowBelow"),"tooltip-options":{sideOffset:15},disabled:!((C=g.editor)!=null&&C.can().addRowAfter())},null,8,["tooltip","disabled"]),i.createVNode(ne,{icon:"RowDelete",action:d,tooltip:i.unref(o)("editor.table.menu.deleteRow"),"tooltip-options":{sideOffset:15},disabled:!((S=g.editor)!=null&&S.can().deleteRow())},null,8,["tooltip","disabled"]),i.createVNode(i.unref(no),{orientation:"vertical",class:"mx-1 me-2 h-[16px]"}),i.createVNode(ne,{icon:"TableCellsMerge",action:u,tooltip:i.unref(o)("editor.table.menu.mergeCells"),"tooltip-options":{sideOffset:15},disabled:!((v=g.editor)!=null&&v.can().mergeCells())},null,8,["tooltip","disabled"]),i.createVNode(ne,{icon:"TableCellsSplit",action:f,tooltip:i.unref(o)("editor.table.menu.splitCells"),"tooltip-options":{sideOffset:15},disabled:!((B=g.editor)!=null&&B.can().splitCell())},null,8,["tooltip","disabled"]),i.createVNode(i.unref(no),{orientation:"vertical",class:"mx-1 me-2 h-[16px]"}),i.createVNode(ok,{editor:g.editor,tooltip:i.unref(o)("editor.table.menu.setCellsBgColor"),action:h,"tooltip-options":{sideOffset:15}},null,8,["editor","tooltip"]),i.createVNode(ne,{icon:"Trash2",tooltip:i.unref(o)("editor.table.menu.deleteTable"),action:p,"tooltip-options":{sideOffset:15},disabled:!((_=g.editor)!=null&&_.can().deleteTable())},null,8,["tooltip","disabled"])])]}),_:1},8,["editor","tippy-options"]))}}),Tn=()=>new Map,Lh=t=>{const e=Tn();return t.forEach((n,o)=>{e.set(o,n)}),e},zi=(t,e,n)=>{let o=t.get(e);return o===void 0&&t.set(e,o=n()),o},lL=(t,e)=>{const n=[];for(const[o,r]of t)n.push(e(r,o));return n},cL=(t,e)=>{for(const[n,o]of t)if(e(o,n))return!0;return!1},Fi=()=>new Set,$h=t=>t[t.length-1],Hi=Array.from,dL=Array.isArray;class uL{constructor(){this._observers=Tn()}on(e,n){return zi(this._observers,e,Fi).add(n),n}once(e,n){const o=(...r)=>{this.off(e,o),n(...r)};this.on(e,o)}off(e,n){const o=this._observers.get(e);o!==void 0&&(o.delete(n),o.size===0&&this._observers.delete(e))}emit(e,n){return Hi((this._observers.get(e)||Tn()).values()).forEach(o=>o(...n))}destroy(){this._observers=Tn()}}const $r=Math.floor,Qc=Math.abs,rk=(t,e)=>t<e?t:e,ji=(t,e)=>t>e?t:e,fL=t=>t!==0?t<0:1/t<0,ik=1,sk=2,Vh=4,zh=8,pL=32,ak=64,ed=128,hL=31,lk=63,ka=127,mL=2147483647,gL=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&$r(t)===t),yL=t=>t.toLowerCase(),bL=/^\s*/g,wL=t=>t.replace(bL,""),xL=/([A-Z])/g,ck=(t,e)=>wL(t.replace(xL,n=>`${e}${yL(n)}`)),kL=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,o=new Uint8Array(n);for(let r=0;r<n;r++)o[r]=e.codePointAt(r);return o},Ca=typeof TextEncoder<"u"?new TextEncoder:null,CL=Ca?t=>Ca.encode(t):kL;let Fh=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Fh&&Fh.decode(new Uint8Array).length===1&&(Fh=null);class Sa{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Hh=()=>new Sa,SL=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},ro=t=>{const e=new Uint8Array(SL(t));let n=0;for(let o=0;o<t.bufs.length;o++){const r=t.bufs[o];e.set(r,n),n+=r.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},EL=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(ji(n,e)*2),t.cpos=0)},et=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},jh=et,Oe=(t,e)=>{for(;e>ka;)et(t,ed|ka&e),e=$r(e/128);et(t,ka&e)},Uh=(t,e)=>{const n=fL(e);for(n&&(e=-e),et(t,(e>lk?ed:0)|(n?ak:0)|lk&e),e=$r(e/64);e>0;)et(t,(e>ka?ed:0)|ka&e),e=$r(e/128)},Wh=new Uint8Array(3e4),vL=Wh.length/3,AL=(t,e)=>{if(e.length<vL){const n=Ca.encodeInto(e,Wh).written||0;Oe(t,n);for(let o=0;o<n;o++)et(t,Wh[o])}else Lt(t,CL(e))},ML=(t,e)=>{const n=unescape(encodeURIComponent(e)),o=n.length;Oe(t,o);for(let r=0;r<o;r++)et(t,n.codePointAt(r))},Ui=Ca&&Ca.encodeInto?AL:ML,Kh=(t,e)=>{const n=t.cbuf.length,o=t.cpos,r=rk(n-o,e.length),s=e.length-r;t.cbuf.set(e.subarray(0,r),o),t.cpos+=r,s>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(ji(n*2,s)),t.cbuf.set(e.subarray(r)),t.cpos=s)},Lt=(t,e)=>{Oe(t,e.byteLength),Kh(t,e)},qh=(t,e)=>{EL(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},_L=(t,e)=>qh(t,4).setFloat32(0,e,!1),TL=(t,e)=>qh(t,8).setFloat64(0,e,!1),BL=(t,e)=>qh(t,8).setBigInt64(0,e,!1),dk=new DataView(new ArrayBuffer(4)),OL=t=>(dk.setFloat32(0,t),dk.getFloat32(0)===t),Ea=(t,e)=>{switch(typeof e){case"string":et(t,119),Ui(t,e);break;case"number":gL(e)&&Qc(e)<=mL?(et(t,125),Uh(t,e)):OL(e)?(et(t,124),_L(t,e)):(et(t,123),TL(t,e));break;case"bigint":et(t,122),BL(t,e);break;case"object":if(e===null)et(t,126);else if(dL(e)){et(t,117),Oe(t,e.length);for(let n=0;n<e.length;n++)Ea(t,e[n])}else if(e instanceof Uint8Array)et(t,116),Lt(t,e);else{et(t,118);const n=Object.keys(e);Oe(t,n.length);for(let o=0;o<n.length;o++){const r=n[o];Ui(t,r),Ea(t,e[r])}}break;case"boolean":et(t,e?120:121);break;default:et(t,127)}};class uk extends Sa{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&Oe(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const fk=t=>{t.count>0&&(Uh(t.encoder,t.count===1?t.s:-t.s),t.count>1&&Oe(t.encoder,t.count-2))};class td{constructor(){this.encoder=new Sa,this.s=0,this.count=0}write(e){this.s===e?this.count++:(fk(this),this.count=1,this.s=e)}toUint8Array(){return fk(this),ro(this.encoder)}}const pk=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);Uh(t.encoder,e),t.count>1&&Oe(t.encoder,t.count-2)}};class Gh{constructor(){this.encoder=new Sa,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(pk(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return pk(this),ro(this.encoder)}}class NL{constructor(){this.sarr=[],this.s="",this.lensE=new td}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Sa;return this.sarr.push(this.s),this.s="",Ui(e,this.sarr.join("")),Kh(e,this.lensE.toUint8Array()),ro(e)}}const Wi=t=>new Error(t),Bn=()=>{throw Wi("Method unimplemented")},Yo=()=>{throw Wi("Unexpected case")},PL=crypto.getRandomValues.bind(crypto),hk=()=>PL(new Uint32Array(1))[0],IL="10000000-1000-4000-8000"+-1e11,DL=()=>IL.replace(/[018]/g,t=>(t^hk()&15>>t/4).toString(16)),mk=t=>new Promise(t);Promise.all.bind(Promise);const gk=t=>t===void 0?null:t;class RL{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let yk=new RL,LL=!0;try{typeof localStorage<"u"&&localStorage&&(yk=localStorage,LL=!1)}catch{}const $L=yk,VL=Object.assign,zL=Object.keys,FL=(t,e)=>{for(const n in t)e(t[n],n)},bk=t=>zL(t).length,HL=t=>{for(const e in t)return!1;return!0},jL=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},UL=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),WL=(t,e)=>t===e||bk(t)===bk(e)&&jL(t,(n,o)=>(n!==void 0||UL(e,o))&&e[o]===n),Jh=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&Jh(t,e,n+1)}},KL=(t,e)=>e.includes(t),va=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";let On;const qL=()=>{if(On===void 0)if(va){On=Tn();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const o=t[n];o[0]==="-"?(e!==null&&On.set(e,""),e=o):e!==null&&(On.set(e,o),e=null)}e!==null&&On.set(e,"")}else typeof location=="object"?(On=Tn(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");On.set(`--${ck(e,"-")}`,n),On.set(`-${ck(e,"-")}`,n)}})):On=Tn();return On},Yh=t=>qL().has(t),Xh=t=>gk(va?process.env[t.toUpperCase().replaceAll("-","_")]:$L.getItem(t));(t=>Yh("--"+t)||Xh(t)!==null)("production");const wk=va&&KL(process.env.FORCE_COLOR,["true","1","2"]),GL=!Yh("--no-colors")&&(!va||process.stdout.isTTY||wk)&&(!va||Yh("--color")||wk||Xh("COLORTERM")!==null||(Xh("TERM")||"").includes("color"));class JL{constructor(e,n){this.left=e,this.right=n}}const io=(t,e)=>new JL(t,e);typeof DOMParser<"u"&&new DOMParser;const YL=t=>lL(t,(e,n)=>`${n}:${e};`).join(""),so=Symbol,xk=so(),kk=so(),XL=so(),ZL=so(),QL=so(),Ck=so(),e$=so(),Sk=so(),t$=so(),n$=t=>{var o;t.length===1&&((o=t[0])==null?void 0:o.constructor)===Function&&(t=t[0]());const e=[];let n=0;for(;n<t.length;n++){const r=t[n];r===void 0||r.constructor===String||r.constructor===Number||r.constructor===Object&&e.push(JSON.stringify(r))}return e},o$={[xk]:io("font-weight","bold"),[kk]:io("font-weight","normal"),[XL]:io("color","blue"),[QL]:io("color","green"),[ZL]:io("color","grey"),[Ck]:io("color","red"),[e$]:io("color","purple"),[Sk]:io("color","orange"),[t$]:io("color","black")},r$=GL?t=>{var a;t.length===1&&((a=t[0])==null?void 0:a.constructor)===Function&&(t=t[0]());const e=[],n=[],o=Tn();let r=[],s=0;for(;s<t.length;s++){const l=t[s],c=o$[l];if(c!==void 0)o.set(c.left,c.right);else{if(l===void 0)break;if(l.constructor===String||l.constructor===Number){const d=YL(o);s>0||d.length>0?(e.push("%c"+l),n.push(d)):e.push(l)}else break}}for(s>0&&(r=n,r.unshift(e.join("")));s<t.length;s++){const l=t[s];l instanceof Symbol||r.push(l)}return r}:n$,i$=(...t)=>{console.log(...r$(t)),s$.forEach(e=>e.print(t))},s$=Fi(),Ek=t=>({[Symbol.iterator](){return this},next:t}),a$=(t,e)=>Ek(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),Zh=(t,e)=>Ek(()=>{const{done:n,value:o}=t.next();return{done:n,value:n?void 0:e(o)}});class l${constructor(e,n){this.clock=e,this.len=n}}class c${constructor(){this.clients=new Map}}const vk=(t,e,n)=>e.clients.forEach((o,r)=>{const s=t.doc.store.clients.get(r);for(let a=0;a<o.length;a++){const l=o[a];Rk(t,s,l.clock,l.len,n)}}),d$=(t,e)=>{let n=0,o=t.length-1;for(;n<=o;){const r=$r((n+o)/2),s=t[r],a=s.clock;if(a<=e){if(e<a+s.len)return r;n=r+1}else o=r-1}return null},Ak=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&d$(n,e.clock)!==null},Mk=t=>{t.clients.forEach(e=>{e.sort((r,s)=>r.clock-s.clock);let n,o;for(n=1,o=1;n<e.length;n++){const r=e[o-1],s=e[n];r.clock+r.len>=s.clock?r.len=ji(r.len,s.clock+s.len-r.clock):(o<n&&(e[o]=s),o++)}e.length=o})},_k=(t,e,n,o)=>{zi(t.clients,e,()=>[]).push(new l$(n,o))},u$=(t,e)=>{Oe(t.restEncoder,e.clients.size),Hi(e.clients.entries()).sort((n,o)=>o[0]-n[0]).forEach(([n,o])=>{t.resetDsCurVal(),Oe(t.restEncoder,n);const r=o.length;Oe(t.restEncoder,r);for(let s=0;s<r;s++){const a=o[s];t.writeDsClock(a.clock),t.writeDsLen(a.len)}})},Tk=hk;class Aa extends uL{constructor({guid:e=DL(),collectionid:n=null,gc:o=!0,gcFilter:r=()=>!0,meta:s=null,autoLoad:a=!1,shouldLoad:l=!0}={}){super(),this.gc=o,this.gcFilter=r,this.clientID=Tk(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new x$,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=l,this.autoLoad=a,this.meta=s,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=mk(d=>{this.on("load",()=>{this.isLoaded=!0,d(this)})});const c=()=>mk(d=>{const u=f=>{(f===void 0||f===!0)&&(this.off("sync",u),d())};this.on("sync",u)});this.on("sync",d=>{d===!1&&this.isSynced&&(this.whenSynced=c()),this.isSynced=d===void 0||d===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=c()}load(){const e=this._item;e!==null&&!this.shouldLoad&&Ve(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Hi(this.subdocs).map(e=>e.guid))}transact(e,n=null){return Ve(this,e,n)}get(e,n=ct){const o=zi(this.share,e,()=>{const s=new n;return s._integrate(this,null),s}),r=o.constructor;if(n!==ct&&r!==n)if(r===ct){const s=new n;s._map=o._map,o._map.forEach(a=>{for(;a!==null;a=a.left)a.parent=s}),s._start=o._start;for(let a=s._start;a!==null;a=a.right)a.parent=s;return s._length=o._length,this.share.set(e,s),s._integrate(this,null),s}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return o}getArray(e=""){return this.get(e,Ba)}getText(e=""){return this.get(e,Oa)}getMap(e=""){return this.get(e,pd)}getXmlElement(e=""){return this.get(e,Na)}getXmlFragment(e=""){return this.get(e,Gi)}toJSON(){const e={};return this.share.forEach((n,o)=>{e[o]=n.toJSON()}),e}destroy(){Hi(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new Aa({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,Ve(e.parent.doc,o=>{const r=n.doc;e.deleted||o.subdocsAdded.add(r),o.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class f${constructor(){this.restEncoder=Hh()}toUint8Array(){return ro(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){Oe(this.restEncoder,e)}writeDsLen(e){Oe(this.restEncoder,e)}}class p$ extends f${writeLeftID(e){Oe(this.restEncoder,e.client),Oe(this.restEncoder,e.clock)}writeRightID(e){Oe(this.restEncoder,e.client),Oe(this.restEncoder,e.clock)}writeClient(e){Oe(this.restEncoder,e)}writeInfo(e){jh(this.restEncoder,e)}writeString(e){Ui(this.restEncoder,e)}writeParentInfo(e){Oe(this.restEncoder,e?1:0)}writeTypeRef(e){Oe(this.restEncoder,e)}writeLen(e){Oe(this.restEncoder,e)}writeAny(e){Ea(this.restEncoder,e)}writeBuf(e){Lt(this.restEncoder,e)}writeJSON(e){Ui(this.restEncoder,JSON.stringify(e))}writeKey(e){Ui(this.restEncoder,e)}}class h${constructor(){this.restEncoder=Hh(),this.dsCurrVal=0}toUint8Array(){return ro(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,Oe(this.restEncoder,n)}writeDsLen(e){e===0&&Yo(),Oe(this.restEncoder,e-1),this.dsCurrVal+=e}}class m$ extends h${constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Gh,this.clientEncoder=new td,this.leftClockEncoder=new Gh,this.rightClockEncoder=new Gh,this.infoEncoder=new uk(jh),this.stringEncoder=new NL,this.parentInfoEncoder=new uk(jh),this.typeRefEncoder=new td,this.lenEncoder=new td}toUint8Array(){const e=Hh();return Oe(e,0),Lt(e,this.keyClockEncoder.toUint8Array()),Lt(e,this.clientEncoder.toUint8Array()),Lt(e,this.leftClockEncoder.toUint8Array()),Lt(e,this.rightClockEncoder.toUint8Array()),Lt(e,ro(this.infoEncoder)),Lt(e,this.stringEncoder.toUint8Array()),Lt(e,ro(this.parentInfoEncoder)),Lt(e,this.typeRefEncoder.toUint8Array()),Lt(e,this.lenEncoder.toUint8Array()),Kh(e,ro(this.restEncoder)),ro(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){Ea(this.restEncoder,e)}writeBuf(e){Lt(this.restEncoder,e)}writeJSON(e){Ea(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const g$=(t,e,n,o)=>{o=ji(o,e[0].id.clock);const r=ao(e,o);Oe(t.restEncoder,e.length-r),t.writeClient(n),Oe(t.restEncoder,o);const s=e[r];s.write(t,o-s.id.clock);for(let a=r+1;a<e.length;a++)e[a].write(t,0)},y$=(t,e,n)=>{const o=new Map;n.forEach((r,s)=>{At(e,s)>r&&o.set(s,r)}),tm(e).forEach((r,s)=>{n.has(s)||o.set(s,0)}),Oe(t.restEncoder,o.size),Hi(o.entries()).sort((r,s)=>s[0]-r[0]).forEach(([r,s])=>{g$(t,e.clients.get(r),r,s)})},b$=(t,e)=>y$(t,e.doc.store,e.beforeState);class w${constructor(){this.l=[]}}const Bk=()=>new w$,Ok=(t,e)=>t.l.push(e),Nk=(t,e)=>{const n=t.l,o=n.length;t.l=n.filter(r=>e!==r),o===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Pk=(t,e,n)=>Jh(t.l,[e,n]);class nd{constructor(e,n){this.client=e,this.clock=n}}const od=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,$e=(t,e)=>new nd(t,e),Ma=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw Yo()};class rd{constructor(e,n,o,r=0){this.type=e,this.tname=n,this.item=o,this.assoc=r}}const id=(t,e,n)=>{let o=null,r=null;return t._item===null?r=Ma(t):o=$e(t._item.id.client,t._item.id.clock),new rd(o,r,e,n)},Qh=(t,e,n=0)=>{let o=t._start;if(n<0){if(e===0)return id(t,null,n);e--}for(;o!==null;){if(!o.deleted&&o.countable){if(o.length>e)return id(t,$e(o.id.client,o.id.clock+e),n);e-=o.length}if(o.right===null&&n<0)return id(t,o.lastId,n);o=o.right}return id(t,null,n)},Ki=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!Ak(e.ds,t.id),em=(t,e)=>{const n=zi(t.meta,em,Fi),o=t.doc.store;n.has(e)||(e.sv.forEach((r,s)=>{r<At(o,s)&&Xo(t,$e(s,r))}),vk(t,e.ds,r=>{}),n.add(e))};class x${constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const tm=t=>{const e=new Map;return t.clients.forEach((n,o)=>{const r=n[n.length-1];e.set(o,r.id.clock+r.length)}),e},At=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const o=n[n.length-1];return o.id.clock+o.length},Ik=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const o=n[n.length-1];if(o.id.clock+o.length!==e.id.clock)throw Yo()}n.push(e)},ao=(t,e)=>{let n=0,o=t.length-1,r=t[o],s=r.id.clock;if(s===e)return o;let a=$r(e/(s+r.length-1)*o);for(;n<=o;){if(r=t[a],s=r.id.clock,s<=e){if(e<s+r.length)return a;n=a+1}else o=a-1;a=$r((n+o)/2)}throw Yo()},nm=(t,e)=>{const n=t.clients.get(e.client);return n[ao(n,e.clock)]},om=(t,e,n)=>{const o=ao(e,n),r=e[o];return r.id.clock<n&&r instanceof $t?(e.splice(o+1,0,sC(t,r,n-r.id.clock)),o+1):o},Xo=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[om(t,n,e.clock)]},Dk=(t,e,n)=>{const o=e.clients.get(n.client),r=ao(o,n.clock),s=o[r];return n.clock!==s.id.clock+s.length-1&&s.constructor!==Qo&&o.splice(r+1,0,sC(t,s,n.clock-s.id.clock+1)),s},k$=(t,e,n)=>{const o=t.clients.get(e.id.client);o[ao(o,e.id.clock)]=n},Rk=(t,e,n,o,r)=>{if(o===0)return;const s=n+o;let a=om(t,e,n),l;do l=e[a++],s<l.id.clock+l.length&&om(t,e,s),r(l);while(a<e.length&&e[a].id.clock<s)};class C${constructor(e,n,o){this.doc=e,this.deleteSet=new c$,this.beforeState=tm(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=o,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const Lk=(t,e)=>e.deleteSet.clients.size===0&&!cL(e.afterState,(n,o)=>e.beforeState.get(o)!==n)?!1:(Mk(e.deleteSet),b$(t,e),u$(t,e.deleteSet),!0),$k=(t,e,n)=>{const o=e._item;(o===null||o.id.clock<(t.beforeState.get(o.id.client)||0)&&!o.deleted)&&zi(t.changed,e,Fi).add(n)},sd=(t,e)=>{let n=t[e],o=t[e-1],r=e;for(;r>0;n=o,o=t[--r-1]){if(o.deleted===n.deleted&&o.constructor===n.constructor&&o.mergeWith(n)){n instanceof $t&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,o);continue}break}const s=e-r;return s&&t.splice(e+1-s,s),s},S$=(t,e,n)=>{for(const[o,r]of t.clients.entries()){const s=e.clients.get(o);for(let a=r.length-1;a>=0;a--){const l=r[a],c=l.clock+l.len;for(let d=ao(s,l.clock),u=s[d];d<s.length&&u.id.clock<c;u=s[++d]){const f=s[d];if(l.clock+l.len<=f.id.clock)break;f instanceof $t&&f.deleted&&!f.keep&&n(f)&&f.gc(e,!1)}}}},E$=(t,e)=>{t.clients.forEach((n,o)=>{const r=e.clients.get(o);for(let s=n.length-1;s>=0;s--){const a=n[s],l=rk(r.length-1,1+ao(r,a.clock+a.len-1));for(let c=l,d=r[c];c>0&&d.id.clock>=a.clock;d=r[c])c-=1+sd(r,c)}})},Vk=(t,e)=>{if(e<t.length){const n=t[e],o=n.doc,r=o.store,s=n.deleteSet,a=n._mergeStructs;try{Mk(s),n.afterState=tm(n.doc.store),o.emit("beforeObserverCalls",[n,o]);const l=[];n.changed.forEach((c,d)=>l.push(()=>{(d._item===null||!d._item.deleted)&&d._callObserver(n,c)})),l.push(()=>{n.changedParentTypes.forEach((c,d)=>{d._dEH.l.length>0&&(d._item===null||!d._item.deleted)&&(c=c.filter(u=>u.target._item===null||!u.target._item.deleted),c.forEach(u=>{u.currentTarget=d,u._path=null}),c.sort((u,f)=>u.path.length-f.path.length),Pk(d._dEH,c,n))})}),l.push(()=>o.emit("afterTransaction",[n,o])),Jh(l,[]),n._needFormattingCleanup&&R$(n)}finally{o.gc&&S$(s,r,o.gcFilter),E$(s,r),n.afterState.forEach((u,f)=>{const p=n.beforeState.get(f)||0;if(p!==u){const h=r.clients.get(f),m=ji(ao(h,p),1);for(let g=h.length-1;g>=m;)g-=1+sd(h,g)}});for(let u=a.length-1;u>=0;u--){const{client:f,clock:p}=a[u].id,h=r.clients.get(f),m=ao(h,p);m+1<h.length&&sd(h,m+1)>1||m>0&&sd(h,m)}if(!n.local&&n.afterState.get(o.clientID)!==n.beforeState.get(o.clientID)&&(i$(Sk,xk,"[yjs] ",kk,Ck,"Changed the client-id because another client seems to be using it."),o.clientID=Tk()),o.emit("afterTransactionCleanup",[n,o]),o._observers.has("update")){const u=new p$;Lk(u,n)&&o.emit("update",[u.toUint8Array(),n.origin,o,n])}if(o._observers.has("updateV2")){const u=new m$;Lk(u,n)&&o.emit("updateV2",[u.toUint8Array(),n.origin,o,n])}const{subdocsAdded:l,subdocsLoaded:c,subdocsRemoved:d}=n;(l.size>0||d.size>0||c.size>0)&&(l.forEach(u=>{u.clientID=o.clientID,u.collectionid==null&&(u.collectionid=o.collectionid),o.subdocs.add(u)}),d.forEach(u=>o.subdocs.delete(u)),o.emit("subdocs",[{loaded:c,added:l,removed:d},o,n]),d.forEach(u=>u.destroy())),t.length<=e+1?(o._transactionCleanups=[],o.emit("afterAllTransactions",[o,t])):Vk(t,e+1)}}},Ve=(t,e,n=null,o=!0)=>{const r=t._transactionCleanups;let s=!1,a=null;t._transaction===null&&(s=!0,t._transaction=new C$(t,n,o),r.push(t._transaction),r.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{a=e(t._transaction)}finally{if(s){const l=t._transaction===r[0];t._transaction=null,l&&Vk(r,0)}}return a},zk="You must not compute changes after the event-handler fired.";class ad{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=v$(this.currentTarget,this.target))}deletes(e){return Ak(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Wi(zk);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(r=>{if(r!==null){const s=n._map.get(r);let a,l;if(this.adds(s)){let c=s.left;for(;c!==null&&this.adds(c);)c=c.left;if(this.deletes(s))if(c!==null&&this.deletes(c))a="delete",l=$h(c.content.getContent());else return;else c!==null&&this.deletes(c)?(a="update",l=$h(c.content.getContent())):(a="add",l=void 0)}else if(this.deletes(s))a="delete",l=$h(s.content.getContent());else return;e.set(r,{action:a,oldValue:l})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw Wi(zk);const n=this.target,o=Fi(),r=Fi(),s=[];if(e={added:o,deleted:r,delta:s,keys:this.keys},this.transaction.changed.get(n).has(null)){let l=null;const c=()=>{l&&s.push(l)};for(let d=n._start;d!==null;d=d.right)d.deleted?this.deletes(d)&&!this.adds(d)&&((l===null||l.delete===void 0)&&(c(),l={delete:0}),l.delete+=d.length,r.add(d)):this.adds(d)?((l===null||l.insert===void 0)&&(c(),l={insert:[]}),l.insert=l.insert.concat(d.content.getContent()),o.add(d)):((l===null||l.retain===void 0)&&(c(),l={retain:0}),l.retain+=d.length);l!==null&&l.retain===void 0&&c()}this._changes=e}return e}}const v$=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let o=0,r=e._item.parent._start;for(;r!==e._item&&r!==null;)r.deleted||o++,r=r.right;n.unshift(o)}e=e._item.parent}return n},Fk=80;let rm=0;class A${constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=rm++}}const M$=t=>{t.timestamp=rm++},Hk=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=rm++},_$=(t,e,n)=>{if(t.length>=Fk){const o=t.reduce((r,s)=>r.timestamp<s.timestamp?r:s);return Hk(o,e,n),o}else{const o=new A$(e,n);return t.push(o),o}},ld=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((s,a)=>Qc(e-s.index)<Qc(e-a.index)?s:a);let o=t._start,r=0;for(n!==null&&(o=n.p,r=n.index,M$(n));o.right!==null&&r<e;){if(!o.deleted&&o.countable){if(e<r+o.length)break;r+=o.length}o=o.right}for(;o.left!==null&&r>e;)o=o.left,!o.deleted&&o.countable&&(r-=o.length);for(;o.left!==null&&o.left.id.client===o.id.client&&o.left.id.clock+o.left.length===o.id.clock;)o=o.left,!o.deleted&&o.countable&&(r-=o.length);return n!==null&&Qc(n.index-r)<o.parent.length/Fk?(Hk(n,o,r),n):_$(t._searchMarker,o,r)},_a=(t,e,n)=>{for(let o=t.length-1;o>=0;o--){const r=t[o];if(n>0){let s=r.p;for(s.marker=!1;s&&(s.deleted||!s.countable);)s=s.left,s&&!s.deleted&&s.countable&&(r.index-=s.length);if(s===null||s.marker===!0){t.splice(o,1);continue}r.p=s,s.marker=!0}(e<r.index||n>0&&e===r.index)&&(r.index=ji(e,r.index+n))}},cd=(t,e,n)=>{const o=t,r=e.changedParentTypes;for(;zi(r,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;Pk(o._eH,n,e)};class ct{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Bk(),this._dEH=Bk(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw Bn()}clone(){throw Bn()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Ok(this._eH,e)}observeDeep(e){Ok(this._dEH,e)}unobserve(e){Nk(this._eH,e)}unobserveDeep(e){Nk(this._dEH,e)}toJSON(){}}const jk=(t,e,n)=>{e<0&&(e=t._length+e),n<0&&(n=t._length+n);let o=n-e;const r=[];let s=t._start;for(;s!==null&&o>0;){if(s.countable&&!s.deleted){const a=s.content.getContent();if(a.length<=e)e-=a.length;else{for(let l=e;l<a.length&&o>0;l++)r.push(a[l]),o--;e=0}}s=s.right}return r},Uk=t=>{const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const o=n.content.getContent();for(let r=0;r<o.length;r++)e.push(o[r])}n=n.right}return e},Ta=(t,e)=>{let n=0,o=t._start;for(;o!==null;){if(o.countable&&!o.deleted){const r=o.content.getContent();for(let s=0;s<r.length;s++)e(r[s],n++,t)}o=o.right}},Wk=(t,e)=>{const n=[];return Ta(t,(o,r)=>{n.push(e(o,r,t))}),n},T$=t=>{let e=t._start,n=null,o=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),o=0,e=e.right}const r=n[o++];return n.length<=o&&(n=null),{done:!1,value:r}}}},Kk=(t,e)=>{const n=ld(t,e);let o=t._start;for(n!==null&&(o=n.p,e-=n.index);o!==null;o=o.right)if(!o.deleted&&o.countable){if(e<o.length)return o.content.getContent()[e];e-=o.length}},dd=(t,e,n,o)=>{let r=n;const s=t.doc,a=s.clientID,l=s.store,c=n===null?e._start:n.right;let d=[];const u=()=>{d.length>0&&(r=new $t($e(a,At(l,a)),r,r&&r.lastId,c,c&&c.id,e,null,new Yi(d)),r.integrate(t,0),d=[])};o.forEach(f=>{if(f===null)d.push(f);else switch(f.constructor){case Number:case Object:case Boolean:case Array:case String:d.push(f);break;default:switch(u(),f.constructor){case Uint8Array:case ArrayBuffer:r=new $t($e(a,At(l,a)),r,r&&r.lastId,c,c&&c.id,e,null,new md(new Uint8Array(f))),r.integrate(t,0);break;case Aa:r=new $t($e(a,At(l,a)),r,r&&r.lastId,c,c&&c.id,e,null,new yd(f)),r.integrate(t,0);break;default:if(f instanceof ct)r=new $t($e(a,At(l,a)),r,r&&r.lastId,c,c&&c.id,e,null,new er(f)),r.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),u()},qk=()=>Wi("Length exceeded!"),Gk=(t,e,n,o)=>{if(n>e._length)throw qk();if(n===0)return e._searchMarker&&_a(e._searchMarker,n,o.length),dd(t,e,null,o);const r=n,s=ld(e,n);let a=e._start;for(s!==null&&(a=s.p,n-=s.index,n===0&&(a=a.prev,n+=a&&a.countable&&!a.deleted?a.length:0));a!==null;a=a.right)if(!a.deleted&&a.countable){if(n<=a.length){n<a.length&&Xo(t,$e(a.id.client,a.id.clock+n));break}n-=a.length}return e._searchMarker&&_a(e._searchMarker,r,o.length),dd(t,e,a,o)},B$=(t,e,n)=>{let r=(e._searchMarker||[]).reduce((s,a)=>a.index>s.index?a:s,{index:0,p:e._start}).p;if(r)for(;r.right;)r=r.right;return dd(t,e,r,n)},Jk=(t,e,n,o)=>{if(o===0)return;const r=n,s=o,a=ld(e,n);let l=e._start;for(a!==null&&(l=a.p,n-=a.index);l!==null&&n>0;l=l.right)!l.deleted&&l.countable&&(n<l.length&&Xo(t,$e(l.id.client,l.id.clock+n)),n-=l.length);for(;o>0&&l!==null;)l.deleted||(o<l.length&&Xo(t,$e(l.id.client,l.id.clock+o)),l.delete(t),o-=l.length),l=l.right;if(o>0)throw qk();e._searchMarker&&_a(e._searchMarker,r,-s+o)},ud=(t,e,n)=>{const o=e._map.get(n);o!==void 0&&o.delete(t)},im=(t,e,n,o)=>{const r=e._map.get(n)||null,s=t.doc,a=s.clientID;let l;if(o==null)l=new Yi([o]);else switch(o.constructor){case Number:case Object:case Boolean:case Array:case String:l=new Yi([o]);break;case Uint8Array:l=new md(o);break;case Aa:l=new yd(o);break;default:if(o instanceof ct)l=new er(o);else throw new Error("Unexpected content type")}new $t($e(a,At(s.store,a)),r,r&&r.lastId,null,null,e,n,l).integrate(t,0)},sm=(t,e)=>{const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},Yk=t=>{const e={};return t._map.forEach((n,o)=>{n.deleted||(e[o]=n.content.getContent()[n.length-1])}),e},Xk=(t,e)=>{const n=t._map.get(e);return n!==void 0&&!n.deleted},O$=(t,e)=>{const n={};return t._map.forEach((o,r)=>{let s=o;for(;s!==null&&(!e.sv.has(s.id.client)||s.id.clock>=(e.sv.get(s.id.client)||0));)s=s.left;s!==null&&Ki(s,e)&&(n[r]=s.content.getContent()[s.length-1])}),n},fd=t=>a$(t.entries(),e=>!e[1].deleted);class N$ extends ad{constructor(e,n){super(e,n),this._transaction=n}}class Ba extends ct{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new Ba;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Ba}clone(){const e=new Ba;return e.insert(0,this.toArray().map(n=>n instanceof ct?n.clone():n)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(e,n){super._callObserver(e,n),cd(this,e,new N$(this,e))}insert(e,n){this.doc!==null?Ve(this.doc,o=>{Gk(o,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?Ve(this.doc,n=>{B$(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?Ve(this.doc,o=>{Jk(o,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return Kk(this,e)}toArray(){return Uk(this)}slice(e=0,n=this.length){return jk(this,e,n)}toJSON(){return this.map(e=>e instanceof ct?e.toJSON():e)}map(e){return Wk(this,e)}forEach(e){Ta(this,e)}[Symbol.iterator](){return T$(this)}_write(e){e.writeTypeRef(F$)}}class P$ extends ad{constructor(e,n,o){super(e,n),this.keysChanged=o}}class pd extends ct{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((o,r)=>{this.set(r,o)}),this._prelimContent=null}_copy(){return new pd}clone(){const e=new pd;return this.forEach((n,o)=>{e.set(o,n instanceof ct?n.clone():n)}),e}_callObserver(e,n){cd(this,e,new P$(this,e,n))}toJSON(){const e={};return this._map.forEach((n,o)=>{if(!n.deleted){const r=n.content.getContent()[n.length-1];e[o]=r instanceof ct?r.toJSON():r}}),e}get size(){return[...fd(this._map)].length}keys(){return Zh(fd(this._map),e=>e[0])}values(){return Zh(fd(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return Zh(fd(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this._map.forEach((n,o)=>{n.deleted||e(n.content.getContent()[n.length-1],o,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?Ve(this.doc,n=>{ud(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?Ve(this.doc,o=>{im(o,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return sm(this,e)}has(e){return Xk(this,e)}clear(){this.doc!==null?Ve(this.doc,e=>{this.forEach(function(n,o,r){ud(e,r,o)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(H$)}}const Zo=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&WL(t,e);class am{constructor(e,n,o,r){this.left=e,this.right=n,this.index=o,this.currentAttributes=r}forward(){switch(this.right===null&&Yo(),this.right.content.constructor){case tt:this.right.deleted||qi(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const Zk=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case tt:e.right.deleted||qi(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&Xo(t,$e(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},hd=(t,e,n,o)=>{const r=new Map,s=o?ld(e,n):null;if(s){const a=new am(s.p.left,s.p,s.index,r);return Zk(t,a,n-s.index)}else{const a=new am(null,e._start,0,r);return Zk(t,a,n)}},Qk=(t,e,n,o)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===tt&&Zo(o.get(n.right.content.key),n.right.content.value));)n.right.deleted||o.delete(n.right.content.key),n.forward();const r=t.doc,s=r.clientID;o.forEach((a,l)=>{const c=n.left,d=n.right,u=new $t($e(s,At(r.store,s)),c,c&&c.lastId,d,d&&d.id,e,null,new tt(l,a));u.integrate(t,0),n.right=u,n.forward()})},qi=(t,e)=>{const{key:n,value:o}=e;o===null?t.delete(n):t.set(n,o)},eC=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===tt&&Zo(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},tC=(t,e,n,o)=>{const r=t.doc,s=r.clientID,a=new Map;for(const l in o){const c=o[l],d=n.currentAttributes.get(l)??null;if(!Zo(d,c)){a.set(l,d);const{left:u,right:f}=n;n.right=new $t($e(s,At(r.store,s)),u,u&&u.lastId,f,f&&f.id,e,null,new tt(l,c)),n.right.integrate(t,0),n.forward()}}return a},lm=(t,e,n,o,r)=>{n.currentAttributes.forEach((p,h)=>{r[h]===void 0&&(r[h]=null)});const s=t.doc,a=s.clientID;eC(n,r);const l=tC(t,e,n,r),c=o.constructor===String?new lo(o):o instanceof ct?new er(o):new Ji(o);let{left:d,right:u,index:f}=n;e._searchMarker&&_a(e._searchMarker,n.index,c.getLength()),u=new $t($e(a,At(s.store,a)),d,d&&d.lastId,u,u&&u.id,e,null,c),u.integrate(t,0),n.right=u,n.index=f,n.forward(),Qk(t,e,n,l)},nC=(t,e,n,o,r)=>{const s=t.doc,a=s.clientID;eC(n,r);const l=tC(t,e,n,r);e:for(;n.right!==null&&(o>0||l.size>0&&(n.right.deleted||n.right.content.constructor===tt));){if(!n.right.deleted)switch(n.right.content.constructor){case tt:{const{key:c,value:d}=n.right.content,u=r[c];if(u!==void 0){if(Zo(u,d))l.delete(c);else{if(o===0)break e;l.set(c,d)}n.right.delete(t)}else n.currentAttributes.set(c,d);break}default:o<n.right.length&&Xo(t,$e(n.right.id.client,n.right.id.clock+o)),o-=n.right.length;break}n.forward()}if(o>0){let c="";for(;o>0;o--)c+=`
`;n.right=new $t($e(a,At(s.store,a)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new lo(c)),n.right.integrate(t,0),n.forward()}Qk(t,e,n,l)},oC=(t,e,n,o,r)=>{let s=e;const a=Tn();for(;s&&(!s.countable||s.deleted);){if(!s.deleted&&s.content.constructor===tt){const d=s.content;a.set(d.key,d)}s=s.right}let l=0,c=!1;for(;e!==s;){if(n===e&&(c=!0),!e.deleted){const d=e.content;switch(d.constructor){case tt:{const{key:u,value:f}=d,p=o.get(u)??null;(a.get(u)!==d||p===f)&&(e.delete(t),l++,!c&&(r.get(u)??null)===f&&p!==f&&(p===null?r.delete(u):r.set(u,p))),!c&&!e.deleted&&qi(r,d);break}}}e=e.right}return l},I$=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===tt){const o=e.content.key;n.has(o)?e.delete(t):n.add(o)}e=e.left}},D$=t=>{let e=0;return Ve(t.doc,n=>{let o=t._start,r=t._start,s=Tn();const a=Lh(s);for(;r;){if(r.deleted===!1)switch(r.content.constructor){case tt:qi(a,r.content);break;default:e+=oC(n,o,r,s,a),s=Lh(a),o=r;break}r=r.right}}),e},R$=t=>{const e=new Set,n=t.doc;for(const[o,r]of t.afterState.entries()){const s=t.beforeState.get(o)||0;r!==s&&Rk(t,n.store.clients.get(o),s,r,a=>{!a.deleted&&a.content.constructor===tt&&a.constructor!==Qo&&e.add(a.parent)})}Ve(n,o=>{vk(t,t.deleteSet,r=>{if(r instanceof Qo||!r.parent._hasFormatting||e.has(r.parent))return;const s=r.parent;r.content.constructor===tt?e.add(s):I$(o,r)});for(const r of e)D$(r)})},rC=(t,e,n)=>{const o=n,r=Lh(e.currentAttributes),s=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case er:case Ji:case lo:n<e.right.length&&Xo(t,$e(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}s&&oC(t,s,e.right,r,e.currentAttributes);const a=(e.left||e.right).parent;return a._searchMarker&&_a(a._searchMarker,e.index,-o+n),e};class L$ extends ad{constructor(e,n,o){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,o.forEach(r=>{r===null?this.childListChanged=!0:this.keysChanged.add(r)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];Ve(e,o=>{const r=new Map,s=new Map;let a=this.target._start,l=null;const c={};let d="",u=0,f=0;const p=()=>{if(l!==null){let h=null;switch(l){case"delete":f>0&&(h={delete:f}),f=0;break;case"insert":(typeof d=="object"||d.length>0)&&(h={insert:d},r.size>0&&(h.attributes={},r.forEach((m,g)=>{m!==null&&(h.attributes[g]=m)}))),d="";break;case"retain":u>0&&(h={retain:u},HL(c)||(h.attributes=VL({},c))),u=0;break}h&&n.push(h),l=null}};for(;a!==null;){switch(a.content.constructor){case er:case Ji:this.adds(a)?this.deletes(a)||(p(),l="insert",d=a.content.getContent()[0],p()):this.deletes(a)?(l!=="delete"&&(p(),l="delete"),f+=1):a.deleted||(l!=="retain"&&(p(),l="retain"),u+=1);break;case lo:this.adds(a)?this.deletes(a)||(l!=="insert"&&(p(),l="insert"),d+=a.content.str):this.deletes(a)?(l!=="delete"&&(p(),l="delete"),f+=a.length):a.deleted||(l!=="retain"&&(p(),l="retain"),u+=a.length);break;case tt:{const{key:h,value:m}=a.content;if(this.adds(a)){if(!this.deletes(a)){const g=r.get(h)??null;Zo(g,m)?m!==null&&a.delete(o):(l==="retain"&&p(),Zo(m,s.get(h)??null)?delete c[h]:c[h]=m)}}else if(this.deletes(a)){s.set(h,m);const g=r.get(h)??null;Zo(g,m)||(l==="retain"&&p(),c[h]=g)}else if(!a.deleted){s.set(h,m);const g=c[h];g!==void 0&&(Zo(g,m)?g!==null&&a.delete(o):(l==="retain"&&p(),m===null?delete c[h]:c[h]=m))}a.deleted||(l==="insert"&&p(),qi(r,a.content));break}}a=a.right}for(p();n.length>0;){const h=n[n.length-1];if(h.retain!==void 0&&h.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class Oa extends ct{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(o=>o())}catch(o){console.error(o)}this._pending=null}_copy(){return new Oa}clone(){const e=new Oa;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const o=new L$(this,e,n);cd(this,e,o),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===lo&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?Ve(this.doc,o=>{const r=new am(null,this._start,0,new Map);for(let s=0;s<e.length;s++){const a=e[s];if(a.insert!==void 0){const l=!n&&typeof a.insert=="string"&&s===e.length-1&&r.right===null&&a.insert.slice(-1)===`
`?a.insert.slice(0,-1):a.insert;(typeof l!="string"||l.length>0)&&lm(o,this,r,l,a.attributes||{})}else a.retain!==void 0?nC(o,this,r,a.retain,a.attributes||{}):a.delete!==void 0&&rC(o,r,a.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,o){const r=[],s=new Map,a=this.doc;let l="",c=this._start;function d(){if(l.length>0){const f={};let p=!1;s.forEach((m,g)=>{p=!0,f[g]=m});const h={insert:l};p&&(h.attributes=f),r.push(h),l=""}}const u=()=>{for(;c!==null;){if(Ki(c,e)||n!==void 0&&Ki(c,n))switch(c.content.constructor){case lo:{const f=s.get("ychange");e!==void 0&&!Ki(c,e)?(f===void 0||f.user!==c.id.client||f.type!=="removed")&&(d(),s.set("ychange",o?o("removed",c.id):{type:"removed"})):n!==void 0&&!Ki(c,n)?(f===void 0||f.user!==c.id.client||f.type!=="added")&&(d(),s.set("ychange",o?o("added",c.id):{type:"added"})):f!==void 0&&(d(),s.delete("ychange")),l+=c.content.str;break}case er:case Ji:{d();const f={insert:c.content.getContent()[0]};if(s.size>0){const p={};f.attributes=p,s.forEach((h,m)=>{p[m]=h})}r.push(f);break}case tt:Ki(c,e)&&(d(),qi(s,c.content));break}c=c.right}d()};return e||n?Ve(a,f=>{e&&em(f,e),n&&em(f,n),u()},"cleanup"):u(),r}insert(e,n,o){if(n.length<=0)return;const r=this.doc;r!==null?Ve(r,s=>{const a=hd(s,this,e,!o);o||(o={},a.currentAttributes.forEach((l,c)=>{o[c]=l})),lm(s,this,a,n,o)}):this._pending.push(()=>this.insert(e,n,o))}insertEmbed(e,n,o){const r=this.doc;r!==null?Ve(r,s=>{const a=hd(s,this,e,!o);lm(s,this,a,n,o||{})}):this._pending.push(()=>this.insertEmbed(e,n,o||{}))}delete(e,n){if(n===0)return;const o=this.doc;o!==null?Ve(o,r=>{rC(r,hd(r,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,o){if(n===0)return;const r=this.doc;r!==null?Ve(r,s=>{const a=hd(s,this,e,!1);a.right!==null&&nC(s,this,a,n,o)}):this._pending.push(()=>this.format(e,n,o))}removeAttribute(e){this.doc!==null?Ve(this.doc,n=>{ud(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?Ve(this.doc,o=>{im(o,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return sm(this,e)}getAttributes(){return Yk(this)}_write(e){e.writeTypeRef(j$)}}class cm{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===Na||n.constructor===Gi)&&n._start!==null)e=n._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class Gi extends ct{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Gi}clone(){const e=new Gi;return e.insert(0,this.toArray().map(n=>n instanceof ct?n.clone():n)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new cm(this,e)}querySelector(e){e=e.toUpperCase();const o=new cm(this,r=>r.nodeName&&r.nodeName.toUpperCase()===e).next();return o.done?null:o.value}querySelectorAll(e){return e=e.toUpperCase(),Hi(new cm(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){cd(this,e,new $$(this,n,e))}toString(){return Wk(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},o){const r=e.createDocumentFragment();return o!==void 0&&o._createAssociation(r,this),Ta(this,s=>{r.insertBefore(s.toDOM(e,n,o),null)}),r}insert(e,n){this.doc!==null?Ve(this.doc,o=>{Gk(o,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)Ve(this.doc,o=>{const r=e&&e instanceof ct?e._item:e;dd(o,this,r,n)});else{const o=this._prelimContent,r=e===null?0:o.findIndex(s=>s===e)+1;if(r===0&&e!==null)throw Wi("Reference item not found");o.splice(r,0,...n)}}delete(e,n=1){this.doc!==null?Ve(this.doc,o=>{Jk(o,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return Uk(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return Kk(this,e)}slice(e=0,n=this.length){return jk(this,e,n)}forEach(e){Ta(this,e)}_write(e){e.writeTypeRef(W$)}}class Na extends Gi{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((o,r)=>{this.setAttribute(r,o)}),this._prelimAttrs=null}_copy(){return new Na(this.nodeName)}clone(){const e=new Na(this.nodeName),n=this.getAttributes();return FL(n,(o,r)=>{typeof o=="string"&&e.setAttribute(r,o)}),e.insert(0,this.toArray().map(o=>o instanceof ct?o.clone():o)),e}toString(){const e=this.getAttributes(),n=[],o=[];for(const l in e)o.push(l);o.sort();const r=o.length;for(let l=0;l<r;l++){const c=o[l];n.push(c+'="'+e[c]+'"')}const s=this.nodeName.toLocaleLowerCase(),a=n.length>0?" "+n.join(" "):"";return`<${s}${a}>${super.toString()}</${s}>`}removeAttribute(e){this.doc!==null?Ve(this.doc,n=>{ud(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?Ve(this.doc,o=>{im(o,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return sm(this,e)}hasAttribute(e){return Xk(this,e)}getAttributes(e){return e?O$(this,e):Yk(this)}toDOM(e=document,n={},o){const r=e.createElement(this.nodeName),s=this.getAttributes();for(const a in s){const l=s[a];typeof l=="string"&&r.setAttribute(a,l)}return Ta(this,a=>{r.appendChild(a.toDOM(e,n,o))}),o!==void 0&&o._createAssociation(r,this),r}_write(e){e.writeTypeRef(U$),e.writeKey(this.nodeName)}}class $$ extends ad{constructor(e,n,o){super(e,o),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(r=>{r===null?this.childListChanged=!0:this.attributesChanged.add(r)})}}class Pa extends Oa{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new Pa}clone(){const e=new Pa;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,o){const r=e.createTextNode(this.toString());return o!==void 0&&o._createAssociation(r,this),r}toString(){return this.toDelta().map(e=>{const n=[];for(const r in e.attributes){const s=[];for(const a in e.attributes[r])s.push({key:a,value:e.attributes[r][a]});s.sort((a,l)=>a.key<l.key?-1:1),n.push({nodeName:r,attrs:s})}n.sort((r,s)=>r.nodeName<s.nodeName?-1:1);let o="";for(let r=0;r<n.length;r++){const s=n[r];o+=`<${s.nodeName}`;for(let a=0;a<s.attrs.length;a++){const l=s.attrs[a];o+=` ${l.key}="${l.value}"`}o+=">"}o+=e.insert;for(let r=n.length-1;r>=0;r--)o+=`</${n[r].nodeName}>`;return o}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(K$)}}class iC{constructor(e,n){this.id=e,this.length=n}get deleted(){throw Bn()}mergeWith(e){return!1}write(e,n,o){throw Bn()}integrate(e,n){throw Bn()}}const V$=0;class Qo extends iC{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),Ik(e.doc.store,this)}write(e,n){e.writeInfo(V$),e.writeLen(this.length-n)}getMissing(e,n){return null}}class md{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new md(this.content)}splice(e){throw Bn()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}class gd{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new gd(this.len)}splice(e){const n=new gd(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){_k(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const z$=(t,e)=>new Aa({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class yd{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new yd(z$(this.doc.guid,this.opts))}splice(e){throw Bn()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}class Ji{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Ji(this.embed)}splice(e){throw Bn()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}class tt{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new tt(this.key,this.value)}splice(e){throw Bn()}mergeWith(e){return!1}integrate(e,n){const o=n.parent;o._searchMarker=null,o._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}class Yi{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Yi(this.arr)}splice(e){const n=new Yi(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const o=this.arr.length;e.writeLen(o-n);for(let r=n;r<o;r++){const s=this.arr[r];e.writeAny(s)}}getRef(){return 8}}class lo{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new lo(this.str)}splice(e){const n=new lo(this.str.slice(e));this.str=this.str.slice(0,e);const o=this.str.charCodeAt(e-1);return o>=55296&&o<=56319&&(this.str=this.str.slice(0,e-1)+"�",n.str="�"+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const F$=0,H$=1,j$=2,U$=3,W$=4,K$=6;class er{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new er(this.type._copy())}splice(e){throw Bn()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(o=>{o.deleted?o.id.clock<(e.beforeState.get(o.id.client)||0)&&e._mergeStructs.push(o):o.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(o=>{for(;o!==null;)o.gc(e,!0),o=o.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const sC=(t,e,n)=>{const{client:o,clock:r}=e.id,s=new $t($e(o,r+n),e,$e(o,r+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&s.markDeleted(),e.keep&&(s.keep=!0),e.redone!==null&&(s.redone=$e(e.redone.client,e.redone.clock+n)),e.right=s,s.right!==null&&(s.right.left=s),t._mergeStructs.push(s),s.parentSub!==null&&s.right===null&&s.parent._map.set(s.parentSub,s),e.length=n,s};let $t=class wg extends iC{constructor(e,n,o,r,s,a,l,c){super(e,c.getLength()),this.origin=o,this.left=n,this.right=r,this.rightOrigin=s,this.parent=a,this.parentSub=l,this.redone=null,this.content=c,this.info=this.content.isCountable()?sk:0}set marker(e){(this.info&zh)>0!==e&&(this.info^=zh)}get marker(){return(this.info&zh)>0}get keep(){return(this.info&ik)>0}set keep(e){this.keep!==e&&(this.info^=ik)}get countable(){return(this.info&sk)>0}get deleted(){return(this.info&Vh)>0}set deleted(e){this.deleted!==e&&(this.info^=Vh)}markDeleted(){this.info|=Vh}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=At(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=At(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===nd&&this.id.client!==this.parent.client&&this.parent.clock>=At(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=Dk(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Xo(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Qo||this.right&&this.right.constructor===Qo)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===wg&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===wg&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===nd){const o=nm(n,this.parent);o.constructor===Qo?this.parent=null:this.parent=o.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=Dk(e,e.doc.store,$e(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let o=this.left,r;if(o!==null)r=o.right;else if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start;const s=new Set,a=new Set;for(;r!==null&&r!==this.right;){if(a.add(r),s.add(r),od(this.origin,r.origin)){if(r.id.client<this.id.client)o=r,s.clear();else if(od(this.rightOrigin,r.rightOrigin))break}else if(r.origin!==null&&a.has(nm(e.doc.store,r.origin)))s.has(nm(e.doc.store,r.origin))||(o=r,s.clear());else break;r=r.right}this.left=o}if(this.left!==null){const o=this.left.right;this.right=o,this.left.right=this}else{let o;if(this.parentSub!==null)for(o=this.parent._map.get(this.parentSub)||null;o!==null&&o.left!==null;)o=o.left;else o=this.parent._start,this.parent._start=this;this.right=o}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),Ik(e.doc.store,this),this.content.integrate(e,this),$k(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new Qo(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:$e(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&od(e.origin,this.lastId)&&this.right===e&&od(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(o=>{o.p===e&&(o.p=this,!this.deleted&&this.countable&&(o.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),_k(e.deleteSet,this.id.client,this.id.clock,this.length),$k(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw Yo();this.content.gc(e),n?k$(e,this,new Qo(this.id,this.length)):this.content=new gd(this.length)}write(e,n){const o=n>0?$e(this.id.client,this.id.clock+n-1):this.origin,r=this.rightOrigin,s=this.parentSub,a=this.content.getRef()&hL|(o===null?0:ed)|(r===null?0:ak)|(s===null?0:pL);if(e.writeInfo(a),o!==null&&e.writeLeftID(o),r!==null&&e.writeRightID(r),o===null&&r===null){const l=this.parent;if(l._item!==void 0){const c=l._item;if(c===null){const d=Ma(l);e.writeParentInfo(!0),e.writeString(d)}else e.writeParentInfo(!1),e.writeLeftID(c.id)}else l.constructor===String?(e.writeParentInfo(!0),e.writeString(l)):l.constructor===nd?(e.writeParentInfo(!1),e.writeLeftID(l)):Yo();s!==null&&e.writeString(s)}this.content.write(e,n)}};const aC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},lC="__ $YJS$ __";aC[lC]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),aC[lC]=!0;const q$=new ye("y-sync");new ye("y-undo"),new ye("yjs-cursor");const G$=(t,e,n)=>{if(t===0)return Qh(e,0);let o=e._first===null?null:e._first.content.type;for(;o!==null&&e!==o;){if(o instanceof Pa){if(o._length>=t)return Qh(o,t);if(t-=o._length,o._item!==null&&o._item.next!==null)o=o._item.next.content.type;else{do o=o._item===null?null:o._item.parent,t--;while(o!==e&&o!==null&&o._item!==null&&o._item.next===null);o!==null&&o!==e&&(o=o._item===null?null:o._item.next.content.type)}}else{const r=(n.get(o)||{nodeSize:0}).nodeSize;if(o._first!==null&&t<r)o=o._first.content.type,t--;else{if(t===1&&o._length===0&&r>1)return new rd(o._item===null?null:o._item.id,o._item===null?Ma(o):null,null);if(t-=r,o._item!==null&&o._item.next!==null)o=o._item.next.content.type;else{if(t===0)return o=o._item===null?o:o._item.parent,new rd(o._item===null?null:o._item.id,o._item===null?Ma(o):null,null);do o=o._item.parent,t--;while(o!==e&&o._item.next===null);o!==e&&(o=o._item.next.content.type)}}}if(o===null)throw Yo();if(t===0&&o.constructor!==Pa&&o!==e)return J$(o._item.parent,o._item)}return Qh(e,e._length)},J$=(t,e)=>{let n=null,o=null;return t._item===null?o=Ma(t):n=$e(t._item.id.client,t._item.id.clock),new rd(n,o,e.id)};function dm(t,e,n){const o=[],r=t.node(0);n=typeof n=="number"&&n>=0?n:t.sameParent(e)?Math.max(0,t.sharedDepth(e.pos)-1):t.sharedDepth(e.pos);const s=new ds(t,e,n),a=s.depth===0?0:r.resolve(s.start).posAtIndex(0);return s.parent.forEach((l,c)=>{const d=a+c,u=d+l.nodeSize;if(d<s.start||d>=s.end)return;const f=new Tu(r.resolve(d),r.resolve(u));o.push(f)}),o}class um{constructor(e,n){Ja(this,"anchor");Ja(this,"head");this.anchor=e,this.head=n}map(e){return new um(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),o=e.resolve(this.head);return new Nn(n,o)}}class Nn extends ee{constructor(n,o,r,s=1){const{doc:a}=n,l=n===o,c=n.pos===a.content.size&&o.pos===a.content.size,d=l&&!c?a.resolve(o.pos+(s>0?1:-1)):o,u=l&&c?a.resolve(n.pos-(s>0?1:-1)):n,f=dm(u.min(d),u.max(d),r);super(d.pos>=n.pos?f[0].$from:f[f.length-1].$to,d.pos>=n.pos?f[f.length-1].$to:f[0].$from,f);Ja(this,"depth");this.depth=r}get $to(){return this.ranges[this.ranges.length-1].$to}eq(n){return n instanceof Nn&&n.$from.pos===this.$from.pos&&n.$to.pos===this.$to.pos}map(n,o){const r=n.resolve(o.map(this.anchor)),s=n.resolve(o.map(this.head));return new Nn(r,s)}toJSON(){return{type:"nodeRange",anchor:this.anchor,head:this.head}}get isForwards(){return this.head>=this.anchor}get isBackwards(){return!this.isForwards}extendBackwards(){const{doc:n}=this.$from;if(this.isForwards&&this.ranges.length>1){const s=this.ranges.slice(0,-1),a=s[0].$from,l=s[s.length-1].$to;return new Nn(a,l,this.depth)}const o=this.ranges[0],r=n.resolve(Math.max(0,o.$from.pos-1));return new Nn(this.$anchor,r,this.depth)}extendForwards(){const{doc:n}=this.$from;if(this.isBackwards&&this.ranges.length>1){const s=this.ranges.slice(1),a=s[0].$from,l=s[s.length-1].$to;return new Nn(l,a,this.depth)}const o=this.ranges[this.ranges.length-1],r=n.resolve(Math.min(n.content.size,o.$to.pos+1));return new Nn(this.$anchor,r,this.depth)}static fromJSON(n,o){return new Nn(n.resolve(o.anchor),n.resolve(o.head))}static create(n,o,r,s,a=1){return new this(n.resolve(o),n.resolve(r),s,a)}getBookmark(){return new um(this.anchor,this.head)}}function Y$(t){const e=t.cloneNode(!0),n=[t,...Array.from(t.getElementsByTagName("*"))],o=[e,...Array.from(e.getElementsByTagName("*"))];return n.forEach((r,s)=>{o[s].style.cssText=function(a){let l="";const c=getComputedStyle(a);for(let d=0;d<c.length;d+=1)l+=`${c[d]}:${c.getPropertyValue(c[d])};`;return l}(r)}),e}function bd(t,e){return window.getComputedStyle(t)[e]}function X$(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function cC(t){t.parentNode!==null&&t.parentNode!==void 0&&t.parentNode.removeChild(t)}const dC=t=>{const{x:e,y:n,direction:o,editor:r}=t;let s=null,a=null,l=null,c=e;for(;a===null&&c<window.innerWidth&&c>0;){const d=document.elementsFromPoint(c,n),u=d.findIndex(p=>p.classList.contains("ProseMirror")),f=d.slice(0,u);if(f.length>0){const p=f[0];if(s=p,l=r.view.posAtDOM(p,0),l>=0){a=r.state.doc.nodeAt(Math.max(l-1,0)),(a===null||a.isText)&&(a=r.state.doc.nodeAt(Math.max(l-1,0))),a||(a=r.state.doc.nodeAt(Math.max(l,0)));break}}o==="left"?c-=1:c+=1}return{resultElement:s,resultNode:a,pos:l!==null?l:null}};function Z$(t,e){const{doc:n}=e.view.state,o=dC({editor:e,x:t.clientX,y:t.clientY,direction:"right"});if(!o.resultNode||o.pos===null)return[];const r=t.clientX,s=function(u,f,p){const h=parseInt(bd(u.dom,"paddingLeft"),10),m=parseInt(bd(u.dom,"paddingRight"),10),g=parseInt(bd(u.dom,"borderLeftWidth"),10),y=parseInt(bd(u.dom,"borderLeftWidth"),10),b=u.dom.getBoundingClientRect();return{left:X$(f,b.left+h+g,b.right-m-y),top:p}}(e.view,r,t.clientY),a=e.view.posAtCoords(s);if(!a)return[];const{pos:l}=a;if(!n.resolve(l).parent)return[];const c=n.resolve(o.pos),d=n.resolve(o.pos+1);return dm(c,d,0)}const uC=(t,e)=>{const n=t.resolve(e),{depth:o}=n;return o===0?e:n.pos-n.parentOffset-1},fC=(t,e)=>{const n=t.nodeAt(e),o=t.resolve(e);let{depth:r}=o,s=n;for(;r>0;){const a=o.node(r);r-=1,r===0&&(s=a)}return s},fm=(t,e)=>{const n=q$.getState(t);return n?G$(e,n.type,n.binding.mapping):null},pC=(t,e)=>{let n=e;for(;n&&n.parentNode&&n.parentNode!==t.dom;)n=n.parentNode;return n},Q$=new ye("dragHandle"),eV=({pluginKey:t=Q$,element:e,editor:n,tippyOptions:o,onNodeChange:r})=>{const s=document.createElement("div");let a=null,l=!1,c=null,d=-1;return e.addEventListener("dragstart",u=>{const{view:f}=n;if(!u.dataTransfer)return;const{empty:p,$from:h,$to:m}=f.state.selection,g=Z$(u,n),y=dm(h,m,0),b=y.some(_=>g.find(E=>E.$from===_.$from&&E.$to===_.$to)),x=p||!b?g:y;if(!x.length)return;const{tr:k}=f.state,w=document.createElement("div"),C=x[0].$from.pos,S=x[x.length-1].$to.pos,v=Nn.create(f.state.doc,C,S),B=v.content();x.forEach(_=>{const E=Y$(f.nodeDOM(_.$from.pos));w.append(E)}),w.style.position="absolute",w.style.top="-10000px",document.body.append(w),u.dataTransfer.clearData(),u.dataTransfer.setDragImage(w,0,0),f.dragging={slice:B,move:!0},k.setSelection(v),f.dispatch(k),document.addEventListener("drop",()=>cC(w),{once:!0}),setTimeout(()=>{e&&(e.style.pointerEvents="none")},0)}),e.addEventListener("dragend",()=>{e&&(e.style.pointerEvents="auto")}),new ge({key:typeof t=="string"?new ye(t):t,state:{init:()=>({locked:!1}),apply(u,f,p,h){const m=u.getMeta("lockDragHandle"),g=u.getMeta("hideDragHandle");if(m!==void 0&&(l=m),g&&a)return a.hide(),l=!1,c=null,d=-1,r==null||r({editor:n,node:null,pos:-1}),f;if(u.docChanged&&d!==-1&&e&&a){const y=u.mapping.map(d);y!==d&&(d=y,fm(h,d))}return f}},view:u=>{var f;return e.draggable=!0,e.style.pointerEvents="auto",(f=n.view.dom.parentElement)===null||f===void 0||f.appendChild(s),s.appendChild(e),s.style.pointerEvents="none",s.style.position="absolute",s.style.top="0",s.style.left="0",a=Io(u.dom,{getReferenceClientRect:null,interactive:!0,trigger:"manual",placement:"left-start",hideOnClick:!1,duration:100,zIndex:10,popperOptions:{modifiers:[{name:"flip",enabled:!1},{name:"preventOverflow",options:{rootBoundary:"document",mainAxis:!1}}]},...o,appendTo:s,content:e}),{update(p,h){if(!e||!a||(e.draggable=!l,u.state.doc.eq(h.doc)||d===-1))return;let m=u.nodeDOM(d);if(m=pC(u,m),m===u.dom||(m==null?void 0:m.nodeType)!==1)return;const g=u.posAtDOM(m,0),y=fC(n.state.doc,g);if(y!==c){const b=uC(n.state.doc,g);c=y,d=b,fm(u.state,d),r==null||r({editor:n,node:c,pos:d}),a.setProps({getReferenceClientRect:()=>m.getBoundingClientRect()}),a.show()}},destroy(){a==null||a.destroy(),e&&cC(s)}}},props:{handleDOMEvents:{mouseleave:(u,f)=>(l||f.target&&!s.contains(f.relatedTarget)&&(a==null||a.hide(),c=null,d=-1,r==null||r({editor:n,node:null,pos:-1})),!1),mousemove(u,f){if(!e||!a||l)return!1;const p=dC({x:f.clientX,y:f.clientY,direction:"right",editor:n});if(!p.resultElement)return!1;let h=p.resultElement;if(h=pC(u,h),h===u.dom||(h==null?void 0:h.nodeType)!==1)return!1;const m=u.posAtDOM(h,0),g=fC(n.state.doc,m);if(g!==c){const y=uC(n.state.doc,m);c=g,d=y,fm(u.state,d),r==null||r({editor:n,node:c,pos:d}),a.setProps({getReferenceClientRect:()=>h.getBoundingClientRect()}),a.show()}return!1}}}})},pm=i.defineComponent({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const r=he(t,e);return(s,a)=>(i.openBlock(),i.createBlock(i.unref(XO),i.normalizeProps(i.guardReactiveProps(i.unref(r))),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))}}),hm=i.defineComponent({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const n=Ze(t);return(o,r)=>(i.openBlock(),i.createBlock(i.unref(ZO),i.mergeProps({class:"outline-none"},i.unref(n)),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16))}}),mm=i.defineComponent({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=he(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(rh),null,{default:i.withCtx(()=>[i.createVNode(i.unref(QO),i.mergeProps(i.unref(s),{class:i.unref(Z)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Jt=i.defineComponent({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=Ze(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(eN),i.mergeProps(i.unref(o),{class:i.unref(Z)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r.inset&&"pl-8",e.class)}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3},16,["class"]))}}),tV={class:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},Xi=i.defineComponent({__name:"DropdownMenuCheckboxItem",props:{checked:{type:[Boolean,String]},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},emits:["select","update:checked"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=he(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(nN),i.mergeProps(i.unref(s),{class:i.unref(Z)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n.class)}),{default:i.withCtx(()=>[i.createElementVNode("span",tV,[i.createVNode(i.unref(oN),null,{default:i.withCtx(()=>[i.createVNode(i.unref(jc),{class:"w-4 h-4"})]),_:1})]),i.renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),hC=i.defineComponent({__name:"DropdownMenuShortcut",props:{class:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createElementBlock("span",{class:i.normalizeClass(i.unref(Z)("ml-auto text-xs tracking-widest opacity-60",e.class))},[i.renderSlot(n.$slots,"default")],2))}}),wd=i.defineComponent({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(tN),i.mergeProps(n.value,{class:i.unref(Z)("-mx-1 my-1 h-px bg-muted",e.class)}),null,16,["class"]))}}),mC=i.defineComponent({__name:"DropdownMenuSub",props:{defaultOpen:{type:Boolean},open:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const r=he(t,e);return(s,a)=>(i.openBlock(),i.createBlock(i.unref(rN),i.normalizeProps(i.guardReactiveProps(i.unref(r))),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))}}),gC=i.defineComponent({__name:"DropdownMenuSubTrigger",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=Ze(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(sN),i.mergeProps(i.unref(o),{class:i.unref(Z)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e.class)}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default"),i.createVNode(i.unref(cD),{class:"ml-auto h-4 w-4"})]),_:3},16,["class"]))}}),yC=i.defineComponent({__name:"DropdownMenuSubContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},sideOffset:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=he(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(iN),i.mergeProps(i.unref(s),{class:i.unref(Z)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class"]))}});var co=(t=>(t[t.max=7]="max",t[t.min=0]="min",t[t.more=1]="more",t[t.less=-1]="less",t))(co||{});function nV(t,e,n){return t<e?e:t>n?n:t}function oV(t,e,n,o){const{doc:r,selection:s}=t;if(!r||!s||!(s instanceof Y||s instanceof kt))return t;const{from:a,to:l}=s;return r.nodesBetween(a,l,(c,d)=>{const u=c.type;return n.includes(u.name)?(t=gm(t,d,e),!1):!Cf(c.type.name,o.extensionManager.extensions)}),t}function gm(t,e,n){if(!t.doc)return t;const o=t.doc.nodeAt(e);if(!o)return t;const a=nV((o.attrs.indent||0)+n,0,7);if(a===o.attrs.indent)return t;const l={...o.attrs,indent:a};return t.setNodeMarkup(e,o.type,l,o.marks)}function bC({delta:t,types:e}){return({state:n,dispatch:o,editor:r})=>{const{selection:s}=n;let{tr:a}=n;return a=a.setSelection(s),a=oV(a,t,e,r),a.docChanged?(o&&o(a),!0):!1}}const rV={class:"flex items-center gap-0.5",style:{"transition-property":"top, left","transition-timing-function":"ease-in-out","transition-duration":"0.2s"}},iV={class:"ml-auto text-xs text-neutral-400"},sV={class:"ml-auto text-xs text-neutral-400"},aV={class:"ml-auto text-xs text-neutral-400"},lV={class:"ml-auto text-xs text-neutral-400"},cV={class:"ml-auto text-xs text-neutral-400"},dV=i.defineComponent({__name:"ContentMenu",props:{className:{default:"drag-handle"},editor:{},disabled:{type:Boolean,default:!1},pluginKey:{default:"ContentItemMenu"}},setup(t){const e=t,{t:n}=Be(),o=i.ref(null),r=i.ref(null),s=i.ref(null),a=i.ref(-1),l=i.ref(!1);i.onMounted(()=>{o.value&&!e.editor.isDestroyed&&(r.value=eV({editor:e.editor,element:o.value,pluginKey:e.pluginKey,tippyOptions:{offset:[-2,16],zIndex:9,moveTransition:"transform 0.15s ease-out"},onNodeChange:g}),e.editor.registerPlugin(r.value))}),i.onUnmounted(()=>{r.value&&e.editor.unregisterPlugin(e.pluginKey)});function c(){var x;const b=e.editor.chain();b.setNodeSelection(a.value).unsetAllMarks(),((x=s.value)==null?void 0:x.type.name)!=="paragraph"&&b.setParagraph(),b.run()}function d(){e.editor.chain().focus().setNodeSelection(a.value).run(),document.execCommand("copy")}function u(){var k;e.editor.commands.setNodeSelection(a.value);const{$anchor:b}=e.editor.state.selection,x=b.node(1)||e.editor.state.selection.node;e.editor.chain().setMeta("hideDragHandle",!0).insertContentAt(a.value+(((k=s.value)==null?void 0:k.nodeSize)||0),x.toJSON()).run()}function f(b){e.editor.commands.setTextAlign(b)}function p(){const b=gm(e.editor.state.tr,a.value,1);b.setMeta("hideDragHandle",!0),e.editor.view.dispatch&&e.editor.view.dispatch(b)}function h(){const b=gm(e.editor.state.tr,a.value,-1);e.editor.view.dispatch&&e.editor.view.dispatch(b)}function m(){e.editor.chain().setMeta("hideDragHandle",!0).setNodeSelection(a.value).deleteSelection().run()}function g(b){b.node&&(s.value=b.node),a.value=b.pos}function y(){var b,x,k,w;if(e.editor.isEditable&&a.value!==-1){const C=((b=s.value)==null?void 0:b.nodeSize)||0,S=a.value+C,v=((x=s.value)==null?void 0:x.type.name)==="paragraph"&&((w=(k=s.value)==null?void 0:k.content)==null?void 0:w.size)===0,B=v?a.value+2:S+2;e.editor.chain().command(({dispatch:_,tr:E,state:T})=>_?(v?E.insertText("/",a.value,a.value+1):E.insert(S,T.schema.nodes.paragraph.create(null,[T.schema.text("/")])),_(E)):!0).focus(B).run()}}return i.watch(()=>l.value,b=>{b?e.editor.commands.setMeta("lockDragHandle",!0):e.editor.commands.setMeta("lockDragHandle",!1)}),i.watch(()=>e.editor.isDestroyed,b=>{b&&r.value&&(e.editor.unregisterPlugin(e.pluginKey),r.value=null)}),(b,x)=>i.withDirectives((i.openBlock(),i.createElementBlock("div",{class:i.normalizeClass(b.className),ref_key:"dragElement",ref:o,style:{"transition-property":"top, left","transition-timing-function":"ease-in-out","transition-duration":"0.2s"}},[i.createElementVNode("div",rV,[i.createVNode(i.unref(lt),{variant:"ghost",onClick:y,size:"icon",class:"w-7 h-7 cursor-grab rounded-sm",disabled:b.disabled},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"Plus",class:"text-lg text-neutral-600 dark:text-neutral-200"})]),_:1},8,["disabled"]),i.createVNode(i.unref(pm),{open:l.value,"onUpdate:open":x[3]||(x[3]=k=>l.value=k)},{default:i.withCtx(()=>[i.createVNode(i.unref(hm),{disable:b.disabled},{default:i.withCtx(()=>[i.createVNode(i.unref(Ri),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Pi),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Di),{"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(lt),{variant:"ghost",size:"icon",class:"w-6 h-7 cursor-grab rounded-sm",disabled:b.disabled},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"Grip",class:"text-sm dark:text-neutral-200 text-neutral-600"})]),_:1},8,["disabled"])]),_:1}),i.createVNode(i.unref(Ii),null,{default:i.withCtx(()=>[i.createElementVNode("p",null,i.toDisplayString(i.unref(n)("editor.draghandle.tooltip")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["disable"]),i.createVNode(i.unref(mm),{class:"w-48",align:"start",side:"bottom"},{default:i.withCtx(()=>[i.createVNode(i.unref(Jt),{onClick:m,class:"flex gap-3 focus:text-red-500 focus:bg-red-400 hover:bg-red-400 dark:hover:text-red-500 bg-opacity-10 hover:bg-opacity-20 focus:bg-opacity-30 dark:hover:bg-opacity-20"},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"Trash2"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.remove")),1)]),_:1}),i.createVNode(i.unref(Jt),{class:"flex gap-3",onClick:c},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"PaintRoller"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.clear.tooltip")),1)]),_:1}),i.createVNode(i.unref(Jt),{class:"flex gap-3",onClick:d},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"Clipboard"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.copyToClipboard")),1)]),_:1}),i.createVNode(i.unref(Jt),{class:"flex gap-3",onClick:u},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"Copy"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.copy")),1)]),_:1}),i.createVNode(i.unref(wd)),i.createVNode(i.unref(mC),null,{default:i.withCtx(()=>[i.createVNode(i.unref(gC),{class:"flex gap-3"},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"AlignCenter"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.textalign.tooltip")),1)]),_:1}),i.createVNode(i.unref(rh),null,{default:i.withCtx(()=>[i.createVNode(i.unref(yC),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Jt),{class:"flex gap-3",onClick:x[0]||(x[0]=k=>f("left"))},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"AlignLeft"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.textalign.left.tooltip")),1),i.createElementVNode("span",iV,i.toDisplayString(i.unref(oo)(["Mod","Shift","L"])),1)]),_:1}),i.createVNode(i.unref(Jt),{class:"flex gap-3",onClick:x[1]||(x[1]=k=>f("center"))},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"AlignCenter"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.textalign.center.tooltip")),1),i.createElementVNode("span",sV,i.toDisplayString(i.unref(oo)(["Mod","Shift","E"])),1)]),_:1}),i.createVNode(i.unref(Jt),{class:"flex gap-3",onClick:x[2]||(x[2]=k=>f("right"))},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"AlignRight"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.textalign.right.tooltip")),1),i.createElementVNode("span",aV,i.toDisplayString(i.unref(oo)(["Mod","Shift","R"])),1)]),_:1})]),_:1})]),_:1})]),_:1}),i.createVNode(i.unref(mC),null,{default:i.withCtx(()=>[i.createVNode(i.unref(gC),{class:"flex gap-3"},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"IndentIncrease"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.indent")),1)]),_:1}),i.createVNode(i.unref(rh),null,{default:i.withCtx(()=>[i.createVNode(i.unref(yC),null,{default:i.withCtx(()=>{var k,w,C,S;return[i.createVNode(i.unref(Jt),{class:"flex gap-3",onClick:p,disabled:((w=(k=s.value)==null?void 0:k.attrs)==null?void 0:w.indent)>=i.unref(co).max},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"IndentIncrease"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.indent.tooltip")),1),i.createElementVNode("span",lV,i.toDisplayString(i.unref(oo)(["Tab"])),1)]),_:1},8,["disabled"]),i.createVNode(i.unref(Jt),{class:"flex gap-3",onClick:h,disabled:((S=(C=s.value)==null?void 0:C.attrs)==null?void 0:S.indent)<=i.unref(co).min},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"IndentDecrease"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.outdent.tooltip")),1),i.createElementVNode("span",cV,i.toDisplayString(i.unref(oo)(["Shift","Tab"])),1)]),_:1},8,["disabled"])]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])])],2)),[[i.vShow,!b.disabled]])}}),uV=Pe.create({name:"column",content:"block+",isolating:!0,addAttributes(){return{position:{default:"",parseHTML:t=>t.getAttribute("data-position"),renderHTML:t=>({"data-position":t.position})}}},renderHTML({HTMLAttributes:t}){return["div",xe(t,{"data-type":"column"}),0]},parseHTML(){return[{tag:'div[data-type="column"]'}]}});var Vr=(t=>(t.SidebarLeft="sidebar-left",t.SidebarRight="sidebar-right",t.TwoColumn="two-column",t))(Vr||{});const fV=Pe.create({name:"columns",group:"columns",content:"column+",defining:!0,isolating:!0,addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),layout:"two-column"}},addAttributes(){return{layout:{default:"two-column"}}},addCommands(){return{setColumns:()=>({commands:t})=>(t.insertContent('<div data-type="columns"><div data-type="column" data-position="left"><p></p></div><div data-type="column" data-position="right"><p></p></div></div>'),!0),setLayout:t=>({commands:e})=>e.updateAttributes("columns",{layout:t})}},renderHTML({HTMLAttributes:t}){return["div",{"data-type":"columns",class:`layout-${t.layout}`},0]},parseHTML(){return[{tag:'div[data-type="columns"]'}]},addExtensions(){return[uV.configure(this.options.columnOptions)]}}),wC=(t,e)=>{const{view:n,state:{selection:{from:o}}}=t,r=document.querySelectorAll(".focus"),s=r.length,l=r[s-1];if(l&&l.getAttribute("data-type")&&l.getAttribute("data-type")===e||l&&l.classList&&l.classList.contains(e))return l;const c=n.domAtPos(o).node;let d=c;for(d.tagName||(d=c.parentElement);d&&!(d.getAttribute("data-type")&&d.getAttribute("data-type")===e)&&!d.classList.contains(e);)d=d.parentElement;return d},pV={class:"p-2 bg-white rounded-lg dark:bg-black shadow-sm border border-neutral-200 dark:border-neutral-800"},hV={class:"flex gap-1 items-center"},mV=i.defineComponent({__name:"ColumnsBubbleMenu",props:{editor:{},disabled:{type:Boolean,default:!1}},setup(t){const e=t,n=({editor:l})=>Pl(l.view.state,"columns"),o=()=>{const l=wC(e.editor,"columns");return(l==null?void 0:l.getBoundingClientRect())||new DOMRect(-1e3,-1e3,0,0)},r=()=>{e.editor.chain().focus().setLayout(Vr.SidebarLeft).run()},s=()=>{e.editor.chain().focus().setLayout(Vr.SidebarRight).run()},a=()=>{e.editor.chain().focus().setLayout(Vr.TwoColumn).run()};return(l,c)=>(i.openBlock(),i.createBlock(i.unref(xi),{editor:l.editor,pluginKey:"columns",shouldShow:n,updateDelay:0,"tippy-options":{offset:[0,8],popperOptions:{modifiers:[{name:"flip",enabled:!1}]},getReferenceClientRect:o,plugins:[i.unref(jf)],sticky:"popper"}},{default:i.withCtx(()=>[i.createElementVNode("div",pV,[i.createElementVNode("div",hV,[i.createVNode(ne,{icon:"PanelLeft",tooltip:"左侧边栏",action:r,isActive:()=>l.editor.isActive("columns",{layout:i.unref(Vr).SidebarLeft}),"tooltip-options":{sideOffset:15}},null,8,["isActive"]),i.createVNode(ne,{icon:"Columns",tooltip:"两栏布局",action:a,isActive:()=>l.editor.isActive("columns",{layout:i.unref(Vr).TwoColumn}),"tooltip-options":{sideOffset:15}},null,8,["isActive"]),i.createVNode(ne,{icon:"PanelRight",tooltip:"右侧边栏",action:s,isActive:()=>l.editor.isActive("columns",{layout:i.unref(Vr).SidebarRight}),"tooltip-options":{sideOffset:15}},null,8,["isActive"])])])]),_:1},8,["editor","tippy-options"]))}}),ym=i.defineComponent({__name:"Tabs",props:{defaultValue:{},orientation:{},dir:{},activationMode:{},modelValue:{},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(t,{emit:e}){const r=he(t,e);return(s,a)=>(i.openBlock(),i.createBlock(i.unref(KP),i.normalizeProps(i.guardReactiveProps(i.unref(r))),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))}}),bm=i.defineComponent({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(qP),i.mergeProps(n.value,{class:i.unref(Z)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e.class)}),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["class"]))}}),Ia=i.defineComponent({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=Ze(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(JP),i.mergeProps(i.unref(o),{class:i.unref(Z)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e.class)}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3},16,["class"]))}}),gV={class:"border border-neutral-200 dark:border-neutral-800 px-3 py-2 transition-all select-none pointer-events-auto shadow-sm rounded-sm w-auto bg-background"},yV={class:"flex items-center flex-nowrap whitespace-nowrap h-[26px] justify-start relative gap-0.5"},bV={class:"flex items-center gap-2"},wV={class:"mt-3"},xV=i.defineComponent({__name:"ImageBubbleMenu",props:{editor:{},disabled:{type:Boolean,default:!1}},setup(t){const e=t,{t:n}=Be(),o=i.ref("100"),r=i.ref(),s=i.ref(),a=i.ref(),l=["left","center","right"],c={left:"AlignLeft",center:"AlignCenter",right:"AlignRight"};function d(w){w==null||w.preventDefault(),e.editor.getAttributes("image").src&&e.editor.chain().focus(void 0,{scrollIntoView:!1}).updateImage({width:r.value?`${r.value}px`:null}).run()}function u(w){const C=Math.max(0,Math.min(100,parseInt(o.value)));e.editor.chain().focus(void 0,{scrollIntoView:!1}).updateImage({width:`${C}%`}).run()}const f=({editor:w})=>Pl(w.view.state,"image"),p=i.computed(()=>{const w=wC(e.editor,"node-image");return(w==null?void 0:w.getBoundingClientRect())||new DOMRect(-1e3,-1e3,0,0)});function h(w){e.editor.chain().focus().setTextAlign(w).run()}i.watch(o,()=>{o.value&&u()}),i.watch(()=>e.editor.getAttributes("image"),w=>{w&&(r.value=Math.round(parseFloat(w.originWidth)),s.value=Math.round(parseFloat(w.originHeight)),a.value=w.originWidth/w.originHeight)});function m(){s.value&&a.value?r.value=Math.max(30,Math.round(s.value*a.value)):r.value=null}function g(){r.value&&a.value?s.value=Math.max(20,Math.round(r.value/a.value)):s.value=null}function y(w){h(w)}function b(){const w=e.editor.getAttributes("image"),{flipX:C}=w;e.editor.chain().focus(void 0,{scrollIntoView:!1}).updateImage({flipX:!C}).run()}function x(){const w=e.editor.getAttributes("image"),{flipY:C}=w;e.editor.chain().focus(void 0,{scrollIntoView:!1}).updateImage({flipY:!C}).run()}function k(){const{state:w,dispatch:C}=e.editor.view;af(w,C)}return(w,C)=>{const S=ne,v=no,B=$i,_=xa,E=Jo,T=Ia,M=bm,$=ym,L=Vi,U=Li;return i.openBlock(),i.createBlock(i.unref(xi),{editor:w.editor,pluginKey:"image-menus-123",shouldShow:f,updateDelay:0,"tippy-options":{offset:[0,8],zIndex:10,popperOptions:{modifiers:[{name:"flip",enabled:!1}]},appendTo:"parent",getReferenceClientRect:i.unref(p).value,plugins:[i.unref(jf)],sticky:"popper"}},{default:i.withCtx(()=>[i.createElementVNode("div",gV,[i.createElementVNode("div",yV,[i.createVNode(S,{tooltip:i.unref(n)("editor.image.menu.flipX"),icon:"FlipVertical",action:b},null,8,["tooltip"]),i.createVNode(S,{tooltip:i.unref(n)("editor.image.menu.flipY"),icon:"FlipHorizontal",action:x},null,8,["tooltip"]),i.createVNode(v,{orientation:"vertical",class:"mx-1 me-2 h-[16px]"}),i.createVNode(U,null,{default:i.withCtx(()=>[i.createVNode(B,null,{default:i.withCtx(()=>[i.createVNode(S,{title:i.unref(n)("editor.image.menu.size"),icon:"ImageSize"},null,8,["title"])]),_:1}),i.createVNode(L,{class:"w-84"},{default:i.withCtx(()=>[i.createElementVNode("div",bV,[i.createVNode(_,{for:"maxWidth",class:"whitespace-nowrap"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(n)("editor.image.menu.size.width")),1)]),_:1}),i.createVNode(E,{id:"maxWidth",modelValue:i.unref(r),"onUpdate:modelValue":C[0]||(C[0]=O=>i.isRef(r)?r.value=O:null),type:"number",onInput:g,onKeyup:i.withKeys(d,["enter"]),class:"w-20 h-8 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"},null,8,["modelValue"]),i.createVNode(_,{for:"maxWidth",class:"whitespace-nowrap"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(n)("editor.image.menu.size.height")),1)]),_:1}),i.createVNode(E,{id:"maxWidth",modelValue:i.unref(s),"onUpdate:modelValue":C[1]||(C[1]=O=>i.isRef(s)?s.value=O:null),type:"number",onInput:m,onKeyup:i.withKeys(d,["enter"]),class:"w-20 h-8 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"},null,8,["modelValue"])]),i.createElementVNode("div",wV,[i.createVNode($,{"model-value":i.unref(o),"onUpdate:modelValue":[C[2]||(C[2]=O=>i.isRef(o)?o.value=O:null),C[3]||(C[3]=O=>{o.value=O})]},{default:i.withCtx(()=>[i.createVNode(M,null,{default:i.withCtx(()=>[(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(["25","50","75","100"],O=>i.createVNode(T,{key:O,value:O},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(O)+"% ",1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["model-value"])])]),_:1})]),_:1}),i.createVNode(v,{orientation:"vertical",class:"mx-1 me-2 h-[16px]"}),(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(l,(O,A)=>i.createVNode(S,{key:A,tooltip:i.unref(n)(`editor.textalign.${O}.tooltip`),icon:c[O],action:()=>y(O),disabled:!w.editor.can().setTextAlign(O),"is-active":()=>w.editor.isActive({textAlign:O})||!1},null,8,["tooltip","icon","action","disabled","is-active"])),64)),i.createVNode(v,{orientation:"vertical",class:"mx-1 me-2 h-[16px]"}),i.createVNode(S,{tooltip:i.unref(n)("editor.remove"),icon:"Trash2",action:k,disabled:!w.editor.isEditable},null,8,["tooltip","disabled"])])])]),_:1},8,["editor","tippy-options"])}}}),wm=(t,e)=>{const n=t.__vccOpts||t;for(const[o,r]of e)n[o]=r;return n},kV={},CV={class:"flex select-none items-center p-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 hover:bg-accent rounded-sm gap-2"};function SV(t,e){return i.openBlock(),i.createElementBlock("div",CV,[i.renderSlot(t.$slots,"default")])}const xd=wm(kV,[["render",SV]]),EV={class:"bg-popover mt-3 text-foreground overflow-auto flex-wrap border rounded-md p-3 max-w-60"},vV={class:"flex flex-col gap-1"},AV=i.defineComponent({__name:"AiCompletion",props:{editor:{type:ty,required:!0},completion:{type:String,required:!0}},emits:["generate","close"],setup(t,{emit:e}){const n=t,{t:o}=Be(),r=e;function s(){const d=n.editor.view.state.selection;n.editor.chain().focus().deleteRange({from:d.from,to:d.to}).insertContent(n.completion).run()}function a(){const{to:d}=n.editor.view.state.selection;d&&n.editor.chain().focus().insertContentAt(d+1,n.completion).run()}function l(){r("generate")}function c(){r("close")}return(d,u)=>(i.openBlock(),i.createElementBlock("div",EV,[i.createElementVNode("div",vV,[i.createVNode(xd,{onClick:s},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"Replace"}),i.createTextVNode(" "+i.toDisplayString(i.unref(o)("editor.AI.replace")),1)]),_:1}),i.createVNode(xd,{onClick:a},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"TextQuote"}),i.createTextVNode(" "+i.toDisplayString(i.unref(o)("editor.AI.insert")),1)]),_:1}),i.createVNode(i.unref(no)),i.createVNode(xd,{onClick:l},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"Redo2"}),i.createTextVNode(" "+i.toDisplayString(i.unref(o)("editor.AI.regenerate")),1)]),_:1}),i.createVNode(xd,{onClick:c},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"Trash2"}),i.createTextVNode(" "+i.toDisplayString(i.unref(o)("editor.AI.close")),1)]),_:1})])]))}}),MV=1,_V=1e6,uo={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let xm=0;function TV(){return xm=(xm+1)%Number.MAX_VALUE,xm.toString()}const km=new Map;function xC(t){if(km.has(t))return;const e=setTimeout(()=>{km.delete(t),Da({type:uo.REMOVE_TOAST,toastId:t})},_V);km.set(t,e)}const an=i.ref({toasts:[]});function Da(t){switch(t.type){case uo.ADD_TOAST:an.value.toasts=[t.toast,...an.value.toasts].slice(0,MV);break;case uo.UPDATE_TOAST:an.value.toasts=an.value.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e);break;case uo.DISMISS_TOAST:{const{toastId:e}=t;e?xC(e):an.value.toasts.forEach(n=>{xC(n.id)}),an.value.toasts=an.value.toasts.map(n=>n.id===e||e===void 0?{...n,open:!1}:n);break}case uo.REMOVE_TOAST:t.toastId===void 0?an.value.toasts=[]:an.value.toasts=an.value.toasts.filter(e=>e.id!==t.toastId);break}}function Zi(){return{toasts:i.computed(()=>an.value.toasts),toast:BV,dismiss:t=>Da({type:uo.DISMISS_TOAST,toastId:t})}}function BV(t){const e=TV(),n=r=>Da({type:uo.UPDATE_TOAST,toast:{...r,id:e}}),o=()=>Da({type:uo.DISMISS_TOAST,toastId:e});return Da({type:uo.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:r=>{r||o()}}}),{id:e,dismiss:o,update:n}}const OV=["onMouseenter","onClick"],NV={key:1,class:"absolute left-full top-0 bg-background shadow-md rounded-sm border border-sm"},PV={class:"p-1 flex flex-col gap-1 min-w-32"},IV=["onMouseenter","onClick"],DV=i.defineComponent({__name:"menu",props:{items:{}},emits:["itemClick"],setup(t,{expose:e,emit:n}){const o=t,r=n,s=i.ref(null),a=i.reactive([]),l=i.ref(0),c=i.ref(-1),d=y=>y.map((b,x)=>{var k;return{...b,isSelected:x===0,children:(k=b.children)==null?void 0:k.map(w=>({...w,isSelected:!1}))}});i.onMounted(()=>{a.splice(0,a.length,...d(o.items)),i.nextTick(()=>{var y;(y=s.value)==null||y.focus()})}),i.watch(()=>o.items,y=>{a.splice(0,a.length,...d(y))},{deep:!0}),e({handleKeyDown:y=>{var x,k;const b=c.value!==-1;switch(y.key){case"ArrowDown":if(y.preventDefault(),b&&a[l.value].children){const C=a[l.value].children;c.value=(c.value+1)%C.length,p()}else l.value=(l.value+1)%a.length,c.value=-1,f();break;case"ArrowUp":if(y.preventDefault(),b&&a[l.value].children){const C=a[l.value].children;c.value=(c.value-1+C.length)%C.length,p()}else l.value=(l.value-1+a.length)%a.length,c.value=-1,f();break;case"ArrowRight":y.preventDefault(),!b&&((x=a[l.value].children)!=null&&x.length)&&(c.value=0,p());break;case"ArrowLeft":y.preventDefault(),b&&(c.value=-1,f());break;case"Enter":y.preventDefault();const w=b?(k=a[l.value].children)==null?void 0:k[c.value]:a[l.value];w&&!w.children&&g(w);break}}});const f=()=>{a.forEach((y,b)=>{y.isSelected=b===l.value,y.children&&y.children.forEach(x=>{x.isSelected=!1})})},p=()=>{const y=a[l.value];y.children&&y.children.forEach((b,x)=>{b.isSelected=x===c.value})},h=y=>{l.value=y,c.value=-1,f()},m=(y,b)=>{l.value=y,c.value=b,p()},g=y=>{y.children||r("itemClick",y)};return(y,b)=>(i.openBlock(),i.createElementBlock("div",{class:"p-1 bg-background rounded-sm outline-none shadow-md border flex flex-col gap-1",tabindex:"0",ref_key:"menuRef",ref:s},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(a,(x,k)=>(i.openBlock(),i.createElementBlock("div",{key:x.label,class:i.normalizeClass(["relative flex items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors cursor-pointer",x.isSelected?"bg-accent text-accent-foreground":"","hover:bg-accent hover:text-accent-foreground"]),onMouseenter:w=>h(k),onClick:w=>g(x)},[i.createElementVNode("span",null,i.toDisplayString(x.label),1),x.children&&x.isSelected?(i.openBlock(),i.createBlock(i.unref(re),{key:0,name:"ChevronRight",class:"ml-auto h-4 w-4"})):i.createCommentVNode("",!0),x.children&&x.isSelected?(i.openBlock(),i.createElementBlock("div",NV,[i.createElementVNode("div",PV,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(x.children,(w,C)=>(i.openBlock(),i.createElementBlock("div",{key:w.label,class:i.normalizeClass(["flex items-center rounded-sm px-2 py-1.5 text-sm whitespace-nowrap outline-none transition-colors cursor-pointer",w.isSelected?"bg-accent text-accent-foreground":"","hover:bg-accent hover:text-accent-foreground"]),onMouseenter:S=>m(k,C),onClick:S=>g(w)},[i.createElementVNode("span",null,i.toDisplayString(w.label),1)],42,IV))),128))])])):i.createCommentVNode("",!0)],42,OV))),128))],512))}});function RV(t){const e=i.ref(""),n=i.ref("init"),o=i.ref([]),{toast:r}=Zi(),s=i.ref(null);async function a(d,u){var p,h,m;n.value="generating",e.value="";const f=(p=t.extensionManager.extensions.find(g=>g.name==="AI"))==null?void 0:p.options;try{o.value.length===0?o.value.push({role:"user",content:`Question: ${u} Context:${d}`}):o.value.push({role:"user",content:u}),s.value=new AbortController;const g=await f.completions(o.value,s.value.signal);if(!g)throw new Error("Failed to create stream");let y="";for await(const b of g){const x=((m=(h=b.choices[0])==null?void 0:h.delta)==null?void 0:m.content)||"";e.value+=x,y+=x}return o.value.push({role:"assistant",content:y}),n.value="completed",y}catch(g){throw g.name==="AbortError"?n.value="init":r({title:(g==null?void 0:g.message)||"Failed to generate AI completion",variant:"destructive"}),g}}function l(){e.value="",n.value="init",o.value=[],s.value=null}return{result:e,status:n,conversationHistory:o,handleCompletion:a,resetConversation:l,stopGeneration:()=>{s.value&&(s.value.abort(),s.value=null)}}}const LV=[{label:"editor.AI.shortcuts.generate.title",children:[{label:"editor.AI.shortcuts.generate.improve",prompt:"Rewrite this content with no spelling mistakes, proper grammar, and with more descriptive language, using best writing practices without losing the original meaning."},{label:"editor.AI.shortcuts.generate.shorter",prompt:"Remove any repetitive, redundant, or non-essential writing in this content without changing the meaning or losing any key information."},{label:"editor.AI.shortcuts.generate.longer",prompt:"Expand upon this content with descriptive language and more detailed explanations, to make the writing easier to understand and increase the length of the content."},{label:"editor.AI.shortcuts.generate.summarize",prompt:"Provide the key points and concepts in this content in a succinct summary."},{label:"editor.AI.shortcuts.generate.continue",prompt:"Expand and continue this content, maintaining the original tone and style. Ensure that the continuation flows naturally from the existing writing while adding new ideas, further details, or continuing the narrative or argument in a coherent manner."}]},{label:"editor.AI.shortcuts.tone.title",children:[{label:"editor.AI.shortcuts.tone.professional",prompt:"Rewrite this content using polished, formal, and respectful language to convey professional expertise and competence."},{label:"editor.AI.shortcuts.tone.casual",prompt:"Rewrite this content with casual, informal language to convey a casual conversation with a real person."},{label:"editor.AI.shortcuts.tone.direct",prompt:"Rewrite this content with direct language using only the essential information."},{label:"editor.AI.shortcuts.tone.confident",prompt:"Rewrite this content using compelling, optimistic language to convey confidence in the writing."},{label:"editor.AI.shortcuts.tone.friendly",prompt:"Rewrite this content using friendly, comforting language, to convey understanding and empathy."}]},{label:"editor.AI.shortcuts.style.title",children:[{label:"editor.AI.shortcuts.style.business",prompt:"Rewrite this content as a business professional with formal language."},{label:"editor.AI.shortcuts.style.legal",prompt:"Rewrite this content as a legal professional using valid legal terminology."},{label:"editor.AI.shortcuts.style.journalism",prompt:"Rewrite this content as a journalist using engaging language to convey the importance of the information."},{label:"editor.AI.shortcuts.style.medical",prompt:"Rewrite this content as a medical professional using valid medical terminology."},{label:"editor.AI.shortcuts.style.poetic",prompt:"Rewrite this content as a poem using poetic techniques without losing the original meaning."}]},{label:"editor.AI.shortcuts.translate.title",children:[{label:"editor.AI.shortcuts.translate.english",prompt:"Translate this content to English language."},{label:"editor.AI.shortcuts.translate.chinese",prompt:"Translate this content to Simplified Chinese language."},{label:"editor.AI.shortcuts.translate.spanish",prompt:"Translate this content to Spanish language."},{label:"editor.AI.shortcuts.translate.german",prompt:"Translate this content to German language."},{label:"editor.AI.shortcuts.translate.french",prompt:"Translate this content to French language."},{label:"editor.AI.shortcuts.translate.russian",prompt:"Translate this content to Russian language."},{label:"editor.AI.shortcuts.translate.portuguese",prompt:"Translate this content to Simplified Portuguese language."},{label:"editor.AI.shortcuts.translate.korean",prompt:"Translate this content to Simplified Korean language."},{label:"editor.AI.shortcuts.translate.japanese",prompt:"Translate this content to Simplified Japanese language."},{label:"editor.AI.shortcuts.translate.hindi",prompt:"Translate this content to Simplified Hindi language."},{label:"editor.AI.shortcuts.translate.arabic",prompt:"Translate this content to Simplified Arabic language."}]}],$V={class:"border rounded-sm shadow-sm bg-background"},VV=["innerHTML"],zV={key:0,class:"text_loading_animation border w-full rounded-md pl-10 pr-20 h-12 py-1 flex items-center text-sm text-foreground"},FV={class:"absolute start-0 inset-y-0 flex items-center justify-center px-2"},HV={class:"mt-3 max-w-56"},jV=wm(i.defineComponent({__name:"AIMenu",props:{editor:{},disabled:{type:Boolean,default:!1}},setup(t){const e=t,n=Ot(),o=i.ref(""),r=i.ref(null),s=i.ref(null),{focused:a}=yp(s),l=i.ref(null),{t:c}=Be(),d=i.ref(!1),u=i.ref(null),f=i.ref(),{result:p,status:h,handleCompletion:m,resetConversation:g}=RV(e.editor),{toast:y}=Zi(),b=M=>{const $=M.state.selection.content(),U=bo.fromSchema(M.schema).serializeFragment($.content),O=document.createElement("div");return O.appendChild(U),O.innerHTML},x=OT(()=>{l.value&&(l.value.scrollTop=l.value.scrollHeight)},100,{maxWait:200});async function k(){if(!e.editor){y({title:c.value("editor.AI.error"),description:c.value("editor.AI.editorNotFound"),variant:"destructive"});return}try{h.value="generating";const M=b(e.editor);if(!M.trim()){y({title:c.value("editor.AI.error"),description:c.value("editor.AI.noSelection"),variant:"destructive"});return}await m(M,o.value),r.value={context:M,prompt:o.value},o.value="",await i.nextTick(),a.value=!0,x()}catch(M){y({title:c.value("editor.AI.error"),description:M instanceof Error?M.message:c.value("editor.AI.unknownError"),variant:"destructive"}),S()}}const w=i.reactive({maxWidth:600,zIndex:99,appendTo:"parent",placement:"bottom-start",onShow(M){u.value=M,setTimeout(()=>{a.value=!0},30)},onHide(){S()},onDestroy(){u.value=null},interactive:!0}),C=i.computed(()=>n==null?void 0:n.state.AIMenu);function S(){o.value="",r.value=null,g(),n.state.AIMenu=!1}function v(){var M,$;if(!((M=r.value)!=null&&M.context)||!(($=r.value)!=null&&$.prompt)){y({title:c.value("editor.AI.error"),description:c.value("editor.AI.noCachedPrompt"),variant:"destructive"});return}try{h.value="generating",g(),m(r.value.context,r.value.prompt).then(()=>{x()}).catch(L=>{y({title:c.value("editor.AI.error"),description:L instanceof Error?L.message:c.value("editor.AI.regenerateError"),variant:"destructive"}),S()})}catch(L){y({title:c.value("editor.AI.error"),description:L instanceof Error?L.message:c.value("editor.AI.unknownError"),variant:"destructive"}),S()}}function B(){if(h.value==="init"&&o.value===""){S();return}d.value=!0,setTimeout(()=>{d.value=!1},820)}function _(M){if(!e.editor){y({title:c.value("editor.AI.error"),description:c.value("editor.AI.editorNotFound"),variant:"destructive"});return}try{const $=b(e.editor);r.value={context:$,prompt:M.prompt},h.value="generating",m($,M.prompt).then(()=>{x(),a.value=!0}).catch(L=>{y({title:c.value("editor.AI.error"),description:L instanceof Error?L.message:c.value("editor.AI.shortcutError"),variant:"destructive"}),S()})}catch($){y({title:c.value("editor.AI.error"),description:$ instanceof Error?$.message:c.value("editor.AI.unknownError"),variant:"destructive"}),S()}}const E=i.computed(()=>{var L,U,O;const M=(O=(U=(L=e.editor)==null?void 0:L.extensionManager.extensions.find(A=>A.name==="AI"))==null?void 0:U.options)==null?void 0:O.shortcuts;return[...LV,...M].map(A=>{var N;return{...A,label:c.value(A.label),children:(N=A.children)==null?void 0:N.map(D=>({...D,label:c.value(D.label)}))}})});function T(M){var $;h.value==="init"&&E.value.length&&!o.value&&(($=f.value)==null||$.handleKeyDown(M))}return(M,$)=>i.withDirectives((i.openBlock(),i.createElementBlock("div",{class:"absolute left-0 right-0 top-0 bottom-0",style:i.normalizeStyle({zIndex:i.unref(h)==="init"&&o.value===""?-1:98}),onClick:B},[i.withDirectives(i.createVNode(i.unref(xi),{pluginKey:"AIMenu","update-delay":0,editor:M.editor,"tippy-options":w},{default:i.withCtx(()=>[i.createElementVNode("div",{onKeydown:T,class:i.normalizeClass(["relative w-[450px] z-[99]",{"shake-animation":d.value}])},[i.withDirectives(i.createElementVNode("div",$V,[i.createElementVNode("div",{ref_key:"resultContainer",ref:l,class:"p-4 line-height-none block overflow-y-auto",style:{"max-height":"270px"}},[i.createElementVNode("div",{class:"text-sm text-foreground line-height-snug ProseMirror",style:{padding:0,minHeight:"auto"},innerHTML:i.unref(p)},null,8,VV)],512)],512),[[i.vShow,(i.unref(h)==="generating"||i.unref(h)==="completed")&&i.unref(p)]]),i.createElementVNode("form",{onSubmit:k,class:"relative w-full items-center flex bg-background mt-3 rounded-md shadow-sm"},[i.unref(h)==="generating"?(i.openBlock(),i.createElementBlock("div",zV,i.toDisplayString(i.unref(c)("editor.AI.generating")),1)):(i.openBlock(),i.createBlock(i.unref(Jo),{key:1,modelValue:o.value,"onUpdate:modelValue":$[0]||($[0]=L=>o.value=L),ref_key:"inputRef",ref:s,placeholder:i.unref(c)("editor.AI.placeholder"),class:"pl-10 pr-20 h-12 outline-none ring-0 focus-visible:ring-0"},null,8,["modelValue","placeholder"])),i.createElementVNode("span",FV,[i.createVNode(i.unref(re),{name:"Sparkles",class:"w-5 h-5"})]),i.unref(h)==="generating"?(i.openBlock(),i.createBlock(i.unref(lt),{key:2,variant:"secondary",class:"absolute end-0 inset-y-0 flex items-center justify-center px-2 h-[32px] m-2",onClick:S},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(c)("editor.AI.stop")),1)]),_:1})):(i.openBlock(),i.createBlock(i.unref(lt),{key:3,disabled:!o.value,onClick:k,class:"absolute end-0 inset-y-0 flex items-center justify-center px-2 w-[32px] h-[32px] m-2 rounded-full"},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"ArrowUp",class:"w-5 h-5 font-bold"})]),_:1},8,["disabled"]))],32),i.withDirectives(i.createElementVNode("div",HV,[i.createVNode(DV,{ref_key:"menuRef",ref:f,items:E.value,onItemClick:_},null,8,["items"])],512),[[i.vShow,i.unref(h)==="init"&&E.value.length&&!o.value]]),i.unref(h)==="completed"&&o.value===""?(i.openBlock(),i.createBlock(AV,{key:0,onClose:S,onGenerate:v,editor:M.editor,completion:i.unref(p)},null,8,["editor","completion"])):i.createCommentVNode("",!0)],34)]),_:1},8,["editor","tippy-options"]),[[i.vShow,C.value]])],4)),[[i.vShow,C.value]])}}),[["__scopeId","data-v-1f0dd7e2"]]),UV=i.defineComponent({__name:"Menubar",props:{modelValue:{},defaultValue:{},dir:{},loop:{type:Boolean},class:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=he(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(cN),i.mergeProps(i.unref(s),{class:i.unref(Z)("flex h-9 items-center space-x-1 rounded-md border bg-background p-1 shadow-sm",n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),WV=i.defineComponent({__name:"MenubarItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},emits:["select"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=he(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(mN),i.mergeProps(i.unref(s),{class:i.unref(Z)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a.inset&&"pl-8",n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),KV=i.defineComponent({__name:"MenubarContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:8},align:{default:"start"},alignOffset:{default:-4},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=Ze(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(pN),null,{default:i.withCtx(()=>[i.createVNode(i.unref(hN),i.mergeProps(i.unref(o),{class:i.unref(Z)("z-50 min-w-48 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e.class)}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),qV=i.defineComponent({__name:"MenubarMenu",props:{value:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(uN),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),GV={class:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center"},JV=i.defineComponent({__name:"MenubarCheckboxItem",props:{checked:{type:[Boolean,String]},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},emits:["select","update:checked"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=he(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(yN),i.mergeProps(i.unref(s),{class:i.unref(Z)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pr-8 pl-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n.class)}),{default:i.withCtx(()=>[i.createElementVNode("span",GV,[i.createVNode(i.unref(bN),null,{default:i.withCtx(()=>[i.createVNode(i.unref(jc),{class:"w-4 h-4"})]),_:1})]),i.renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),YV=i.defineComponent({__name:"MenubarSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=Ze(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(gN),i.mergeProps({class:i.unref(Z)("-mx-1 my-1 h-px bg-muted",e.class)},i.unref(o)),null,16,["class"]))}}),XV=i.defineComponent({__name:"MenubarTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=Ze(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(fN),i.mergeProps(i.unref(o),{class:i.unref(Z)("flex cursor-default select-none items-center rounded-sm px-3 py-1 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e.class)}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3},16,["class"]))}}),kC=i.defineComponent({__name:"MenubarShortcut",props:{class:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createElementBlock("span",{class:i.normalizeClass(i.unref(Z)("ml-auto text-xs tracking-widest text-muted-foreground",e.class))},[i.renderSlot(n.$slots,"default")],2))}});function Cm(t){const{from:e,to:n,empty:o}=t.state.selection;return o?"":t.state.doc.textBetween(e,n,"")}const kd="echo-editor-draft",ZV=i.defineComponent({__name:"Menubars",props:{editor:{},disabled:{type:Boolean,default:!1}},setup(t){const{t:e}=Be(),n=t,o=Ot(),r=i.computed(()=>n.editor.extensionManager.extensions.map(y=>y.name)),s=y=>y?y.every(b=>r.value.includes(b)):!0,a=i.computed(()=>p.value.map(y=>({...y,children:y.children.filter(b=>s(b.requiredExtensions))}))),l=()=>{const y=n.editor.getHTML();y&&!n.editor.isEmpty&&localStorage.setItem(kd,y)},c=()=>{const y=localStorage.getItem(kd);y&&n.editor.commands.setContent(y,!0)},d=()=>{n.editor.chain().clearContent(!0).focus().run()},u=()=>!!localStorage.getItem(kd),f=()=>{localStorage.removeItem(kd)},p=i.ref([{title:"editor.menubar.file",children:[{title:"editor.menubar.menu.newDoc",icon:"File",disabled:()=>!n.editor.isEditable,action:()=>{l(),d()}},{title:"editor.menubar.menu.restoreLastDraft",icon:"Refresh",disabled:()=>!u()||!n.editor.isEditable,action:()=>{c(),f()}},{separator:!0},{title:"editor.menubar.menu.preview",icon:"Eye",action:()=>{n.editor.commands.togglePreview()},requiredExtensions:["preview"]},{separator:!0},{title:"editor.importWord.tooltip",icon:"Word",action:()=>{n.editor.commands.toggleImportWord()},requiredExtensions:["importWord"]},{separator:!0},{title:"editor.menubar.menu.print",icon:"Printer",shortcut:["mod","P"],requiredExtensions:["printer"],action:()=>{o.state.printer=!0}}]},{title:"editor.menubar.edit",children:[{title:"editor.undo.tooltip",icon:"Undo2",shortcut:["mod","Z"],disabled:()=>!n.editor.can().undo()||!n.editor.isEditable,action:()=>{n.editor.commands.undo()},requiredExtensions:["history"]},{title:"editor.redo.tooltip",icon:"Redo2",shortcut:["shift","mod","Z"],disabled:()=>!n.editor.can().redo()||!n.editor.isEditable,action:()=>{n.editor.commands.redo()},requiredExtensions:["history"]},{separator:!0},{title:"editor.menubar.menu.cut",icon:"Cut",shortcut:["mod","X"],disabled:()=>!n.editor.isEditable,action:async()=>{const y=Cm(n.editor);y&&(await navigator.clipboard.writeText(y),n.editor.commands.deleteSelection())}},{title:"editor.menubar.menu.copy",icon:"Copy",shortcut:["mod","C"],action:async()=>{Cm(n.editor)&&document.execCommand("copy")}},{title:"editor.menubar.menu.paste",icon:"Paste",shortcut:["mod","V"],disabled:()=>!n.editor.isEditable,action:async()=>{try{const y=await navigator.clipboard.read();let b="",x="";for(const k of y)k.types.includes("text/html")&&(b=await(await k.getType("text/html")).text()),k.types.includes("text/plain")&&(x=await(await k.getType("text/plain")).text());b?n.editor.chain().insertContent(b).focus().run():x&&n.editor.chain().insertContent(x).focus().run()}catch(y){console.error("读取剪贴板内容时出错: ",y)}}},{title:"editor.menubar.menu.pasteAsText",icon:"Paste",disabled:()=>!n.editor.isEditable,action:async()=>{const y=await navigator.clipboard.readText();y&&n.editor.chain().insertContent(y).focus().run()}},{separator:!0},{title:"editor.menubar.menu.selectAll",disabled:()=>!n.editor.isEditable,icon:"TextSelect",action:()=>{var y;(y=n.editor)==null||y.chain().focus().selectAll().run()}},{separator:!0},{title:"editor.findAndReplace.tooltip",icon:"DocSearch",action:()=>{o.toggleFindAndReplace()},requiredExtensions:["findAndReplace"]}]},{title:"editor.menubar.view",children:[{title:"editor.fullscreen.tooltip.fullscreen",icon:"Maximize",action:()=>{o.toggleFullscreen()},requiredExtensions:["fullscreen"]},{title:"editor.menubar.menu.preview",action:()=>{n.editor.commands.togglePreview()},icon:"Eye",requiredExtensions:["preview"]},{separator:!0},{title:"editor.menubar.menu.spellCheck",icon:"SpellCheck",checked:()=>o.state.spellCheck,action:()=>{o.toggleSpellCheck()}}]},{title:"editor.menubar.insert",children:[{title:"editor.image.tooltip",icon:"ImageUp",disabled:()=>!n.editor.isEditable||!n.editor.can().setImage({}),action:()=>{n.editor.commands.setImageUpload()},requiredExtensions:["image","imageUpload"]},{title:"editor.video.tooltip",icon:"Video",disabled:()=>!n.editor.isEditable||!n.editor.can().setVideo({}),action:()=>{n.editor.commands.setVideoUpload()},requiredExtensions:["video","videoUpload"]},{title:"editor.link.tooltip",icon:"Link",disabled:()=>!n.editor.isEditable||!n.editor.can().setLink({href:""}),action:()=>{n.editor.chain().extendMarkRange("link").insertContent({type:"text",text:"link",marks:[{type:"link",attrs:{href:"",target:"_blank"}}]}).setLink({href:""}).focus().run()},requiredExtensions:["link"]}]},{title:"editor.menubar.format",children:[{title:"editor.bold.tooltip",icon:"Bold",shortcut:["Mod","B"],disabled:()=>!n.editor.isEditable||!n.editor.can().toggleBold(),action:()=>{n.editor.commands.toggleBold()},requiredExtensions:["bold"]},{title:"editor.italic.tooltip",icon:"Italic",shortcut:["Mod","I"],disabled:()=>!n.editor.isEditable||!n.editor.can().toggleItalic(),action:()=>{n.editor.commands.toggleItalic()},requiredExtensions:["italic"]},{title:"editor.underline.tooltip",icon:"Underline",shortcut:["Mod","U"],disabled:()=>!n.editor.isEditable||!n.editor.can().toggleUnderline(),action:()=>{n.editor.commands.toggleUnderline()},requiredExtensions:["underline"]},{title:"editor.strike.tooltip",icon:"Strikethrough",disabled:()=>!n.editor.isEditable||!n.editor.can().toggleStrike(),action:()=>{n.editor.commands.toggleStrike()},requiredExtensions:["strike"]},{title:"editor.superscript.tooltip",icon:"Superscript",disabled:()=>!n.editor.isEditable||!n.editor.can().toggleSuperscript(),action:()=>{n.editor.commands.toggleSuperscript()},requiredExtensions:["superscript"]},{title:"editor.subscript.tooltip",icon:"Subscript",disabled:()=>!n.editor.isEditable||!n.editor.can().toggleSubscript(),action:()=>{n.editor.commands.toggleSubscript()},requiredExtensions:["subscript"]},{title:"editor.code.tooltip",icon:"Code",disabled:()=>!n.editor.isEditable||!n.editor.can().toggleCode(),action:()=>{n.editor.commands.toggleCode()},requiredExtensions:["code"]}]}]),h=y=>{y&&y()},m=y=>y===void 0?!1:typeof y=="function"?y():y,g=y=>y===void 0?!1:typeof y=="function"?y():y;return(y,b)=>(i.openBlock(),i.createBlock(i.unref(UV),{class:"rounded-b-none shadow-none border-t-transparent border-l-transparent border-r-transparent rounded-t-[0.5rem]"},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(i.unref(a),(x,k)=>(i.openBlock(),i.createBlock(i.unref(qV),{key:k},{default:i.withCtx(()=>[i.createVNode(i.unref(XV),null,{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(e)(x.title)),1)]),_:2},1024),i.createVNode(i.unref(KV),null,{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(x.children,(w,C)=>(i.openBlock(),i.createElementBlock(i.Fragment,{key:C},[w!=null&&w.separator?(i.openBlock(),i.createBlock(i.unref(YV),{key:0})):w.checked&&s(w.requiredExtensions)?(i.openBlock(),i.createBlock(i.unref(JV),{key:1,onClick:S=>h(w.action),checked:g(w.checked),disabled:m(w.disabled),class:"flex gap-3"},{default:i.withCtx(()=>[w.icon?(i.openBlock(),i.createBlock(i.unref(re),{key:0,name:w.icon},null,8,["name"])):i.createCommentVNode("",!0),i.createTextVNode(" "+i.toDisplayString(i.unref(e)(w.title))+" ",1),w.shortcut?(i.openBlock(),i.createBlock(i.unref(kC),{key:1},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(oo)(w.shortcut)),1)]),_:2},1024)):i.createCommentVNode("",!0)]),_:2},1032,["onClick","checked","disabled"])):s(w.requiredExtensions)?(i.openBlock(),i.createBlock(i.unref(WV),{key:2,onClick:S=>h(w.action),disabled:m(w.disabled),class:"flex gap-3"},{default:i.withCtx(()=>[w.icon?(i.openBlock(),i.createBlock(i.unref(re),{key:0,name:w.icon},null,8,["name"])):i.createCommentVNode("",!0),i.createTextVNode(" "+i.toDisplayString(i.unref(e)(w.title))+" ",1),w.shortcut?(i.openBlock(),i.createBlock(i.unref(kC),{key:1},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(oo)(w.shortcut)),1)]),_:2},1024)):i.createCommentVNode("",!0)]),_:2},1032,["onClick","disabled"])):i.createCommentVNode("",!0)],64))),128))]),_:2},1024)]),_:2},1024))),128))]),_:1}))}}),QV={class:"sticky top-0 h-auto bg-background z-10 overflow-visible rounded-t-[0.5rem]"},ez={class:"flex flex-nowrap overflow-x-auto sm:flex-wrap gap-y-1 gap-x-1 items-center py-0.5"},tz={class:"flex items-center"},nz=i.defineComponent({__name:"Toolbar",props:{editor:{},disabled:{type:Boolean,default:!1}},setup(t){const{t:e}=Be(),n=t,o=i.computed(()=>{const s=[...n.editor.extensionManager.extensions].sort((l,c)=>{const d=l.options.sort??-1,u=c.options.sort??-1;return d-u});let a=[];for(const l of s){const{button:c,divider:d=!1,spacer:u=!1,toolbar:f=!0}=l.options;if(!c||!pT(c)||!f)continue;const p=c({editor:n.editor,extension:l,t:i.unref(e)});if(Array.isArray(p)){const h=p.map((m,g)=>({button:m,divider:g===p.length-1?d:!1,spacer:g===0?u:!1}));a=[...a,...h];continue}a.push({button:p,divider:d,spacer:u})}return a});return(r,s)=>(i.openBlock(),i.createElementBlock("div",QV,[i.createElementVNode("div",ez,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.value,(a,l)=>{var c;return i.openBlock(),i.createElementBlock(i.Fragment,{key:l},[i.createElementVNode("div",tz,[a.spacer?(i.openBlock(),i.createBlock(i.unref(no),{key:0,orientation:"vertical",class:"h-[16px] mx-[10px]"})):i.createCommentVNode("",!0)]),(i.openBlock(),i.createBlock(i.resolveDynamicComponent(a.button.component),i.mergeProps({ref_for:!0},a.button.componentProps,{editor:r.editor,disabled:r.disabled||((c=a.button.componentProps)==null?void 0:c.disabled)}),i.createSlots({_:2},[i.renderList(a.button.componentSlots,(d,u,f)=>({name:`${u}`,fn:i.withCtx(p=>[(i.openBlock(),i.createBlock(i.resolveDynamicComponent(d),i.mergeProps({ref_for:!0},p==null?void 0:p.props),null,16))])}))]),1040,["editor","disabled"])),a.divider?(i.openBlock(),i.createBlock(i.unref(no),{key:0,orientation:"vertical",class:"h-auto mx-2"})):i.createCommentVNode("",!0)],64)}),128))])]))}}),oz=i.defineComponent({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const r=he(t,e);return(s,a)=>(i.openBlock(),i.createBlock(i.unref(JB),i.normalizeProps(i.guardReactiveProps(i.unref(r))),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))}}),rz=i.defineComponent({__name:"DialogHeader",props:{class:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createElementBlock("div",{class:i.normalizeClass(i.unref(Z)("flex flex-col gap-y-1.5 text-center sm:text-left",e.class))},[i.renderSlot(n.$slots,"default")],2))}}),iz=i.defineComponent({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=Ze(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(CO),i.mergeProps(i.unref(o),{class:i.unref(Z)("text-lg font-semibold leading-none tracking-tight",e.class)}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3},16,["class"]))}}),sz=i.createElementVNode("span",{class:"sr-only"},"Close",-1),az=i.defineComponent({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=he(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(YB),null,{default:i.withCtx(()=>[i.createVNode(i.unref(xO),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),i.createVNode(i.unref(bO),i.mergeProps(i.unref(s),{class:i.unref(Z)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default"),i.createVNode(i.unref(kO),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},{default:i.withCtx(()=>[i.createVNode(i.unref(bx),{class:"w-4 h-4"}),sz]),_:1})]),_:3},16,["class"])]),_:3}))}}),lz=i.defineComponent({__name:"DialogFooter",props:{class:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createElementBlock("div",{class:i.normalizeClass(i.unref(Z)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",e.class))},[i.renderSlot(n.$slots,"default")],2))}}),cz=i.defineComponent({__name:"ResizablePanelGroup",props:{id:{},autoSaveId:{},direction:{},keyboardResizeBy:{},storage:{},asChild:{type:Boolean},as:{},class:{}},emits:["layout"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=he(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(HP),i.mergeProps(i.unref(s),{class:i.unref(Z)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),dz={key:0,class:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border"},uz=i.defineComponent({__name:"ResizableHandle",props:{id:{},hitAreaMargins:{},tabindex:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{},withHandle:{type:Boolean}},emits:["dragging"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=he(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(UP),i.mergeProps(i.unref(s),{class:i.unref(Z)("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 [&[data-orientation=vertical]]:h-px [&[data-orientation=vertical]]:w-full [&[data-orientation=vertical]]:after:left-0 [&[data-orientation=vertical]]:after:h-1 [&[data-orientation=vertical]]:after:w-full [&[data-orientation=vertical]]:after:-translate-y-1/2 [&[data-orientation=vertical]]:after:translate-x-0 [&[data-orientation=vertical]>div]:rotate-90",n.class)}),{default:i.withCtx(()=>[n.withHandle?(i.openBlock(),i.createElementBlock("div",dz,[i.createVNode(i.unref(uD),{class:"h-2.5 w-2.5"})])):i.createCommentVNode("",!0)]),_:1},16,["class"]))}}),fz=i.defineComponent({__name:"ToggleGroup",props:{rovingFocus:{type:Boolean},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},type:{},modelValue:{},defaultValue:{},class:{},variant:{},size:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e;i.provide("toggleGroup",{variant:n.variant,size:n.size});const r=i.computed(()=>{const{class:a,...l}=n;return l}),s=he(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(mI),i.mergeProps(i.unref(s),{class:i.unref(Z)("flex items-center justify-center gap-1",n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),Sm=i.defineComponent({__name:"ToggleGroupItem",props:{value:{},defaultValue:{type:Boolean},pressed:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{},variant:{},size:{}},setup(t){const e=t,n=i.inject("toggleGroup"),o=i.computed(()=>{const{class:s,variant:a,size:l,...c}=e;return c}),r=Ze(o);return(s,a)=>{var l,c;return i.openBlock(),i.createBlock(i.unref(gI),i.mergeProps(i.unref(r),{class:i.unref(Z)(i.unref(tk)({variant:((l=i.unref(n))==null?void 0:l.variant)||s.variant,size:((c=i.unref(n))==null?void 0:c.size)||s.size}),e.class)}),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16,["class"])}}}),pz=i.defineComponent({__name:"ScrollBar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(LN),i.mergeProps(n.value,{class:i.unref(Z)("flex touch-none select-none transition-colors",o.orientation==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",o.orientation==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px",e.class)}),{default:i.withCtx(()=>[i.createVNode(i.unref($N),{class:"relative flex-1 rounded-full bg-border"})]),_:1},16,["class"]))}}),CC=i.defineComponent({__name:"ScrollArea",props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(MN),i.mergeProps(n.value,{class:i.unref(Z)("relative overflow-hidden",e.class)}),{default:i.withCtx(()=>[i.createVNode(i.unref(_N),{class:"h-full w-full rounded-[inherit]"},{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3}),i.createVNode(pz),i.createVNode(i.unref(zN))]),_:3},16,["class"]))}}),hz={class:"flex justify-center"},mz={class:"hidden items-center gap-1.5 rounded-md border p-[2px] shadow-sm md:flex"},gz={class:"relative overflow-y-auto after:absolute after:inset-0 after:right-3 after:z-0 after:rounded-lg h-[--container-height] px-4"},yz=["innerHTML"],bz=i.defineComponent({__name:"Preview",props:{editor:{},disabled:{type:Boolean,default:!1}},setup(t){const e=t,{t:n}=Be(),o=Ot(),r=i.ref();function s(c){o.state.showPreview=c}function a(){o.state.showPreview=!1}const l=i.computed(()=>e.editor.getHTML());return(c,d)=>{var u;return i.openBlock(),i.createBlock(i.unref(oz),{open:(u=i.unref(o))==null?void 0:u.state.showPreview,"onUpdate:open":s},{default:i.withCtx(()=>[i.createVNode(i.unref(az),{class:"sm:max-w-[425px] md:max-w-[825px] lg:max-w-[1200px] grid-rows-[auto_minmax(0,1fr)_auto] p-0 max-h-[90dvh]"},{default:i.withCtx(()=>[i.createVNode(i.unref(rz),{class:"p-6 pb-0"},{default:i.withCtx(()=>[i.createVNode(i.unref(iz),null,{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(n)("editor.preview.tooltip")),1)]),_:1}),i.createElementVNode("div",hz,[i.createElementVNode("div",mz,[i.createVNode(i.unref(fz),{type:"single","default-value":"100","onUpdate:modelValue":d[0]||(d[0]=f=>{var p;(p=i.unref(r))==null||p.resize(parseInt(f))})},{default:i.withCtx(()=>[i.createVNode(i.unref(Sm),{value:"100",class:"h-[32px] w-[32px] rounded-sm p-0"},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"Monitor",class:"w-5 h-5"})]),_:1}),i.createVNode(i.unref(Sm),{value:"60",class:"h-[32px] w-[32px] rounded-sm p-0"},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"Tablet",class:"w-5 h-5"})]),_:1}),i.createVNode(i.unref(Sm),{value:"30",class:"h-[32px] w-[32px] rounded-sm p-0"},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{name:"Phone",class:"w-5 h-5"})]),_:1})]),_:1})])])]),_:1}),i.createElementVNode("div",gz,[i.createVNode(i.unref(cz),{id:"preview-resizable",direction:"horizontal",class:"relative z-10 overflow-auto"},{default:i.withCtx(()=>[i.createVNode(i.unref(tx),{ref_key:"resizableRef",ref:r,class:"relative rounded-lg border bg-background transition-all","default-size":100,"min-size":30,id:"preview-resize-panel-1"},{default:i.withCtx(()=>[i.createVNode(i.unref(CC),{class:"h-full w-full rounded-md border p-3 border-none"},{default:i.withCtx(()=>[i.createElementVNode("div",{innerHTML:i.unref(l),class:"ProseMirror"},null,8,yz)]),_:1})]),_:1},512),i.createVNode(i.unref(uz),{id:"block-resizable-handle",class:"relative hidden w-3 bg-transparent p-0 after:absolute after:right-0 after:top-1/2 after:h-8 after:w-[6px] after:-translate-y-1/2 after:translate-x-[-1px] after:rounded-full after:bg-border after:transition-all after:hover:h-10 sm:block"}),i.createVNode(i.unref(tx),{id:"block-resizable-panel-2","default-size":0,"min-size":0})]),_:1})]),i.createVNode(i.unref(lz),{class:"p-2 pt-0"},{default:i.withCtx(()=>[i.createVNode(i.unref(lt),{onClick:a},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(n)("editor.close")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),wz='.ProseMirror p{margin-bottom:.375rem;line-height:1.625}.ProseMirror p:first-child{margin-top:0}.ProseMirror p:last-child{margin-bottom:0}.ProseMirror p:empty:after{content:" "}.ProseMirror>p{margin-bottom:.375rem}.ProseMirror>p:first-child{margin-top:0}.ProseMirror>p:last-child{margin-bottom:0}.ProseMirror h1{font-size:1.875rem;line-height:2.25rem}.ProseMirror h2{font-size:1.5rem;line-height:2rem}.ProseMirror h3{font-size:1.25rem;line-height:1.75rem}.ProseMirror h4{font-size:1.125rem;line-height:1.75rem}.ProseMirror h5{font-size:1rem;line-height:1.5rem}.ProseMirror h6{font-size:.875rem;line-height:1.25rem}.ProseMirror h1,.ProseMirror h2,.ProseMirror h3,.ProseMirror h4,.ProseMirror h5,.ProseMirror h6{font-weight:700}.ProseMirror h1:first-child,.ProseMirror h2:first-child,.ProseMirror h3:first-child,.ProseMirror h4:first-child,.ProseMirror h5:first-child,.ProseMirror h6:first-child{margin-top:0}.ProseMirror h1:last-child,.ProseMirror h2:last-child,.ProseMirror h3:last-child,.ProseMirror h4:last-child,.ProseMirror h5:last-child,.ProseMirror h6:last-child{margin-bottom:0}.ProseMirror h1,.ProseMirror h2,.ProseMirror h3{margin-top:3rem}.ProseMirror h4,.ProseMirror h5,.ProseMirror h6{margin-top:2rem}.ProseMirror a.link{font-weight:800;--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.ProseMirror a.link:is(.dark *){--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity))}.ProseMirror mark{border-radius:calc(var(--radius) - 4px);--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity));-webkit-box-decoration-break:clone;box-decoration-break:clone;padding-top:.25rem;padding-bottom:.25rem;padding-left:0;padding-right:0;color:inherit}.ProseMirror mark:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(248 113 113 / var(--tw-bg-opacity))}.ProseMirror img{display:block;height:auto;max-width:100%}.ProseMirror *[data-indent="1"]{text-indent:2em!important}.ProseMirror *[data-indent="2"]{text-indent:4em!important}.ProseMirror *[data-indent="3"]{text-indent:6em!important}.ProseMirror *[data-indent="4"]{text-indent:8em!important}.ProseMirror *[data-indent="5"]{text-indent:10em!important}.ProseMirror *[data-indent="6"]{text-indent:12em!important}.ProseMirror *[data-indent="7"]{text-indent:14em!important}.ProseMirror iframe{margin-top:.5rem;height:400px;width:100%;border-radius:calc(var(--radius) - 4px);border-width:1px;border-color:hsl(var(--border))}.ProseMirror [data-type=horizontalRule]{margin-top:2rem;margin-bottom:2rem;padding-top:1rem;padding-bottom:1rem}.ProseMirror [data-type=horizontalRule] hr{border-width:0px;border-top-width:1px;border-color:#0003;background-color:#000c}.ProseMirror [data-type=horizontalRule] hr:is(.dark *){border-color:#fff3;background-color:#fffc}.ProseMirror .blockquote{border-radius:var(--radius);border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:4px;--tw-border-opacity: 1;border-left-color:rgb(64 64 64 / var(--tw-border-opacity));--tw-bg-opacity: .8;padding:.5rem 1rem;--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.ProseMirror .blockquote:is(.dark *){--tw-border-opacity: 1;border-left-color:rgb(212 212 212 / var(--tw-border-opacity));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.ProseMirror [data-type=columns]{margin-top:3.5rem;margin-bottom:3rem;display:grid;gap:1rem}.ProseMirror [data-type=columns].layout-sidebar-left{grid-template-columns:40fr 60fr}.ProseMirror [data-type=columns].layout-sidebar-right{grid-template-columns:60fr 40fr}.ProseMirror [data-type=columns].layout-two-column{grid-template-columns:1fr 1fr}.ProseMirror [data-type=column]{overflow:auto}.ProseMirror code{border-radius:calc(var(--radius) - 4px);--tw-bg-opacity: 1;background-color:rgb(23 23 23 / var(--tw-bg-opacity));font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));caret-color:#fff;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.ProseMirror code::-moz-selection{background-color:#ffffff4d}.ProseMirror code::selection{background-color:#ffffff4d}.ProseMirror pre{margin-top:3rem;margin-bottom:3rem;border-radius:.25rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(64 64 64 / var(--tw-bg-opacity));padding:1rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));caret-color:#fff}.ProseMirror pre:is(.dark *){--tw-border-opacity: 1;border-color:rgb(38 38 38 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(23 23 23 / var(--tw-bg-opacity))}.ProseMirror pre *::-moz-selection{background-color:#fff3}.ProseMirror pre *::selection{background-color:#fff3}.ProseMirror pre code{background-color:inherit;padding:0;color:inherit;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.ProseMirror pre .hljs-comment,.ProseMirror pre .hljs-quote{--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity))}.ProseMirror pre .hljs-variable,.ProseMirror pre .hljs-template-variable,.ProseMirror pre .hljs-attribute,.ProseMirror pre .hljs-tag,.ProseMirror pre .hljs-name,.ProseMirror pre .hljs-regexp,.ProseMirror pre .hljs-link,.ProseMirror pre .hljs-selector-id,.ProseMirror pre .hljs-selector-class{--tw-text-opacity: 1;color:rgb(252 165 165 / var(--tw-text-opacity))}.ProseMirror pre .hljs-number,.ProseMirror pre .hljs-meta,.ProseMirror pre .hljs-built_in,.ProseMirror pre .hljs-builtin-name,.ProseMirror pre .hljs-literal,.ProseMirror pre .hljs-type,.ProseMirror pre .hljs-params{--tw-text-opacity: 1;color:rgb(253 186 116 / var(--tw-text-opacity))}.ProseMirror pre .hljs-string,.ProseMirror pre .hljs-symbol,.ProseMirror pre .hljs-bullet{--tw-text-opacity: 1;color:rgb(190 242 100 / var(--tw-text-opacity))}.ProseMirror pre .hljs-title,.ProseMirror pre .hljs-section{--tw-text-opacity: 1;color:rgb(253 224 71 / var(--tw-text-opacity))}.ProseMirror pre .hljs-keyword,.ProseMirror pre .hljs-selector-tag{--tw-text-opacity: 1;color:rgb(94 234 212 / var(--tw-text-opacity))}.ProseMirror pre .hljs-emphasis{font-style:italic}.ProseMirror pre .hljs-strong{font-weight:700}.ProseMirror ol{list-style-type:decimal}.ProseMirror ul{list-style-type:disc}.ProseMirror ul,.ProseMirror ol{margin-top:1.5rem;margin-bottom:1.5rem;padding-top:0;padding-bottom:0;padding-left:2rem;padding-right:2rem}.ProseMirror ul:first-child,.ProseMirror ol:first-child{margin-top:0}.ProseMirror ul:last-child,.ProseMirror ol:last-child{margin-bottom:0}.ProseMirror ul ul,.ProseMirror ul ol,.ProseMirror ul li,.ProseMirror ol ul,.ProseMirror ol ol,.ProseMirror ol li{margin-top:.25rem;margin-bottom:.25rem}.ProseMirror ul p,.ProseMirror ol p{margin-top:0;margin-bottom:.25rem}.ProseMirror>ul,.ProseMirror>ol{margin-top:2rem;margin-bottom:2rem}.ProseMirror>ul:first-child,.ProseMirror>ol:first-child{margin-top:0}.ProseMirror>ul:last-child,.ProseMirror>ol:last-child{margin-bottom:0}.ProseMirror ul[data-type=taskList]{list-style-type:none;padding:0}.ProseMirror ul[data-type=taskList] p{margin:0}.ProseMirror ul[data-type=taskList] li{display:flex}.ProseMirror ul[data-type=taskList] li>label{margin-top:.25rem;margin-right:.5rem;flex:1 1 auto;flex-shrink:0;flex-grow:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ProseMirror ul[data-type=taskList] li>div{flex:1 1 auto}.ProseMirror ul[data-type=taskList] li[data-checked=true]{text-decoration-line:line-through}.ProseMirror table{box-sizing:border-box;display:block;table-layout:fixed;border-collapse:collapse;overflow-x:auto;overflow-y:hidden;border-color:#0000001a}.ProseMirror table:is(.dark *){border-color:#fff3}.ProseMirror table td,.ProseMirror table th{position:relative;box-sizing:border-box;min-width:1em;border-width:1px;border-style:solid;border-color:#0000001a;padding:.5rem;text-align:left;vertical-align:top}.ProseMirror table td:is(.dark *),.ProseMirror table th:is(.dark *){border-color:#fff3}.ProseMirror table td:first-of-type:not(a),.ProseMirror table th:first-of-type:not(a){margin-top:0}.ProseMirror table td p,.ProseMirror table th p{margin:0}.ProseMirror table td p+p,.ProseMirror table th p+p{margin-top:.75rem}.ProseMirror table th{text-align:left;font-weight:700}',xz='*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}:root{--background: 0 0% 100%;--foreground: 240 10% 3.9%;--muted: 240 4.8% 95.9%;--muted-foreground: 240 3.8% 46.1%;--popover: 0 0% 100%;--popover-foreground: 240 10% 3.9%;--card: 0 0% 100%;--card-foreground: 240 10% 3.9%;--border: 240 5.9% 90%;--input: 240 5.9% 90%;--primary: 240 5.9% 10%;--primary-foreground: 0 0% 98%;--secondary: 240 4.8% 95.9%;--secondary-foreground: 240 5.9% 10%;--accent: 240 4.8% 95.9%;--accent-foreground: 240 5.9% 10%;--destructive: 0 84.2% 60.2%;--destructive-foreground: 0 0% 98%;--ring: 240 10% 3.9%;--radius: .5rem}.dark{--background: 240 10% 3.9%;--foreground: 0 0% 98%;--muted: 240 3.7% 15.9%;--muted-foreground: 240 5% 64.9%;--popover: 240 10% 3.9%;--popover-foreground: 0 0% 98%;--card: 240 10% 3.9%;--card-foreground: 0 0% 98%;--border: 240 3.7% 15.9%;--input: 240 3.7% 15.9%;--primary: 0 0% 98%;--primary-foreground: 240 5.9% 10%;--secondary: 240 3.7% 15.9%;--secondary-foreground: 0 0% 98%;--accent: 240 3.7% 15.9%;--accent-foreground: 0 0% 98%;--destructive: 0 62.8% 30.6%;--destructive-foreground: 0 0% 98%;--ring: 240 4.9% 83.9%}*{border-color:hsl(var(--border))}body{background-color:hsl(var(--background));color:hsl(var(--foreground))}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.\\!container{width:100%!important;margin-right:auto!important;margin-left:auto!important;padding-right:2rem!important;padding-left:2rem!important}.container{width:100%;margin-right:auto;margin-left:auto;padding-right:2rem;padding-left:2rem}@media (min-width: 1400px){.\\!container{max-width:1400px!important}.container{max-width:1400px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.\\!fixed{position:fixed!important}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.inset-y-0{top:0;bottom:0}.bottom-0{bottom:0}.end-0{inset-inline-end:0px}.left-0{left:0}.left-1\\/2{left:50%}.left-2{left:.5rem}.left-\\[1px\\]{left:1px}.left-full{left:100%}.right-0{right:0}.right-1{right:.25rem}.right-2{right:.5rem}.right-4{right:1rem}.start-0{inset-inline-start:0px}.top-0{top:0}.top-1{top:.25rem}.top-1\\/2{top:50%}.top-2{top:.5rem}.top-4{top:1rem}.top-\\[-1px\\]{top:-1px}.z-10{z-index:10}.z-50{z-index:50}.z-\\[100\\]{z-index:100}.z-\\[10\\]{z-index:10}.z-\\[11\\]{z-index:11}.z-\\[99\\]{z-index:99}.col-\\[1\\/-1\\]{grid-column:1/-1}.m-0{margin:0}.m-2{margin:.5rem}.-mx-1{margin-left:-.25rem;margin-right:-.25rem}.mx-1{margin-left:.25rem;margin-right:.25rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-\\[10px\\]{margin-left:10px;margin-right:10px}.my-1{margin-top:.25rem;margin-bottom:.25rem}.my-3{margin-top:.75rem;margin-bottom:.75rem}.my-8{margin-top:2rem;margin-bottom:2rem}.mb-8{margin-bottom:2rem}.me-1{margin-inline-end:.25rem}.me-2{margin-inline-end:.5rem}.ml-1{margin-left:.25rem}.ml-auto{margin-left:auto}.mr-1{margin-right:.25rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.box-border{box-sizing:border-box}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.size-5{width:1.25rem;height:1.25rem}.h-0{height:0px}.h-10{height:2.5rem}.h-12{height:3rem}.h-2{height:.5rem}.h-2\\.5{height:.625rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-9{height:2.25rem}.h-96{height:24rem}.h-\\[--container-height\\]{height:var(--container-height)}.h-\\[--radix-select-trigger-height\\]{height:var(--radix-select-trigger-height)}.h-\\[16px\\]{height:16px}.h-\\[18px\\]{height:18px}.h-\\[26px\\]{height:26px}.h-\\[32px\\]{height:32px}.h-\\[3px\\]{height:3px}.h-\\[48px\\]{height:48px}.h-\\[72px\\]{height:72px}.h-auto{height:auto}.h-full{height:100%}.h-px{height:1px}.max-h-96{max-height:24rem}.max-h-\\[90dvh\\]{max-height:90dvh}.max-h-\\[min\\(80vh\\,24rem\\)\\]{max-height:min(80vh,24rem)}.max-h-screen{max-height:100vh}.w-0{width:0px}.w-2{width:.5rem}.w-2\\.5{width:.625rem}.w-20{width:5rem}.w-3{width:.75rem}.w-3\\.5{width:.875rem}.w-32{width:8rem}.w-36{width:9rem}.w-4{width:1rem}.w-48{width:12rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-7{width:1.75rem}.w-72{width:18rem}.w-80{width:20rem}.w-9{width:2.25rem}.w-\\[160px\\]{width:160px}.w-\\[16px\\]{width:16px}.w-\\[18px\\]{width:18px}.w-\\[320px\\]{width:320px}.w-\\[32px\\]{width:32px}.w-\\[400px\\]{width:400px}.w-\\[450px\\]{width:450px}.w-\\[48px\\]{width:48px}.w-\\[72px\\]{width:72px}.w-auto{width:auto}.w-full{width:100%}.w-px{width:1px}.min-w-24{min-width:6rem}.min-w-32{min-width:8rem}.min-w-4{min-width:1rem}.min-w-48{min-width:12rem}.min-w-\\[--radix-select-trigger-width\\]{min-width:var(--radix-select-trigger-width)}.max-w-24{max-width:6rem}.max-w-32{max-width:8rem}.max-w-56{max-width:14rem}.max-w-60{max-width:15rem}.max-w-\\[calc\\(-68px_\\+_100vw\\)\\]{max-width:calc(-68px + 100vw)}.max-w-lg{max-width:32rem}.max-w-sm{max-width:24rem}.flex-1{flex:1 1 0%}.flex-shrink-0,.shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.-translate-x-1\\/2{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-default{cursor:default}.cursor-grab{cursor:grab}.cursor-pointer{cursor:pointer}.touch-none{touch-action:none}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.resize{resize:both}.list-outside{list-style-position:outside}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-rows-\\[auto_minmax\\(0\\,1fr\\)_auto\\]{grid-template-rows:auto minmax(0,1fr) auto}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-nowrap{flex-wrap:nowrap}.place-items-center{place-items:center}.items-center{align-items:center}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-0{gap:0px}.gap-0\\.5{gap:.125rem}.gap-1{gap:.25rem}.gap-1\\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-x-1{-moz-column-gap:.25rem;column-gap:.25rem}.gap-y-1{row-gap:.25rem}.gap-y-1\\.5{row-gap:.375rem}.space-x-1>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.25rem * var(--tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.self-end{align-self:flex-end}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-visible{overflow:visible}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.break-all{word-break:break-all}.rounded{border-radius:.25rem}.rounded-\\[0\\.5rem\\]{border-radius:.5rem}.rounded-\\[2px\\]{border-radius:2px}.rounded-\\[inherit\\]{border-radius:inherit}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:var(--radius)}.rounded-md{border-radius:calc(var(--radius) - 2px)}.rounded-sm{border-radius:calc(var(--radius) - 4px)}.rounded-b-none{border-bottom-right-radius:0;border-bottom-left-radius:0}.rounded-l-none{border-top-left-radius:0;border-bottom-left-radius:0}.rounded-t-\\[0\\.5rem\\]{border-top-left-radius:.5rem;border-top-right-radius:.5rem}.border{border-width:1px}.border-0{border-width:0px}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-t{border-top-width:1px}.border-none{border-style:none}.border-accent-foreground{border-color:hsl(var(--accent-foreground))}.border-black{--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity))}.border-border{border-color:hsl(var(--border))}.border-destructive{border-color:hsl(var(--destructive))}.border-input{border-color:hsl(var(--input))}.border-neutral-200{--tw-border-opacity: 1;border-color:rgb(229 229 229 / var(--tw-border-opacity))}.border-primary{border-color:hsl(var(--primary))}.border-transparent{border-color:transparent}.border-l-transparent{border-left-color:transparent}.border-r-transparent{border-right-color:transparent}.border-t-transparent{border-top-color:transparent}.bg-accent{background-color:hsl(var(--accent))}.bg-background{background-color:hsl(var(--background))}.bg-black\\/80{background-color:#000c}.bg-border{background-color:hsl(var(--border))}.bg-destructive{background-color:hsl(var(--destructive))}.bg-foreground{background-color:hsl(var(--foreground))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.bg-muted{background-color:hsl(var(--muted))}.bg-popover{background-color:hsl(var(--popover))}.bg-primary{background-color:hsl(var(--primary))}.bg-secondary{background-color:hsl(var(--secondary))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-opacity-10{--tw-bg-opacity: .1}.fill-current{fill:currentColor}.p-0{padding:0}.p-0\\.5{padding:.125rem}.p-1{padding:.25rem}.p-1\\.5{padding:.375rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-\\[2px\\]{padding:2px}.p-px{padding:1px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\\.5{padding-left:.375rem;padding-right:.375rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-2\\.5{padding-left:.625rem;padding-right:.625rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-8{padding-left:2rem;padding-right:2rem}.py-0{padding-top:0;padding-bottom:0}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.pb-0{padding-bottom:0}.pl-10{padding-left:2.5rem}.pl-2{padding-left:.5rem}.pl-3{padding-left:.75rem}.pl-4{padding-left:1rem}.pl-8{padding-left:2rem}.pr-10{padding-right:2.5rem}.pr-2{padding-right:.5rem}.pr-20{padding-right:5rem}.pr-40{padding-right:10rem}.pr-6{padding-right:1.5rem}.pr-8{padding-right:2rem}.pt-0{padding-top:0}.text-left{text-align:left}.text-center{text-align:center}.text-start{text-align:start}.text-\\[0\\.65rem\\]{font-size:.65rem}.text-\\[10px\\]{font-size:10px}.text-\\[12px\\]{font-size:12px}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.italic{font-style:italic}.leading-none{line-height:1}.tracking-tight{letter-spacing:-.025em}.tracking-wider{letter-spacing:.05em}.tracking-widest{letter-spacing:.1em}.text-accent-foreground{color:hsl(var(--accent-foreground))}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-current{color:currentColor}.text-destructive-foreground{color:hsl(var(--destructive-foreground))}.text-foreground{color:hsl(var(--foreground))}.text-foreground\\/50{color:hsl(var(--foreground) / .5)}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-muted-foreground{color:hsl(var(--muted-foreground))}.text-neutral-400{--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity))}.text-neutral-500{--tw-text-opacity: 1;color:rgb(115 115 115 / var(--tw-text-opacity))}.text-neutral-600{--tw-text-opacity: 1;color:rgb(82 82 82 / var(--tw-text-opacity))}.text-neutral-800{--tw-text-opacity: 1;color:rgb(38 38 38 / var(--tw-text-opacity))}.text-popover-foreground{color:hsl(var(--popover-foreground))}.text-primary{color:hsl(var(--primary))}.text-primary-foreground{color:hsl(var(--primary-foreground))}.text-secondary-foreground{color:hsl(var(--secondary-foreground))}.text-zinc-500{--tw-text-opacity: 1;color:rgb(113 113 122 / var(--tw-text-opacity))}.text-zinc-600{--tw-text-opacity: 1;color:rgb(82 82 91 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.underline-offset-4{text-underline-offset:4px}.opacity-0{opacity:0}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-90{opacity:.9}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-none{--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-1{outline-width:1px}.outline-border{outline-color:hsl(var(--border))}.outline-primary{outline-color:hsl(var(--primary))}.ring-0{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-offset-background{--tw-ring-offset-color: hsl(var(--background))}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200{transition-duration:.2s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}@keyframes enter{0%{opacity:var(--tw-enter-opacity, 1);transform:translate3d(var(--tw-enter-translate-x, 0),var(--tw-enter-translate-y, 0),0) scale3d(var(--tw-enter-scale, 1),var(--tw-enter-scale, 1),var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity, 1);transform:translate3d(var(--tw-exit-translate-x, 0),var(--tw-exit-translate-y, 0),0) scale3d(var(--tw-exit-scale, 1),var(--tw-exit-scale, 1),var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0))}}.animate-in{animation-name:enter;animation-duration:.15s;--tw-enter-opacity: initial;--tw-enter-scale: initial;--tw-enter-rotate: initial;--tw-enter-translate-x: initial;--tw-enter-translate-y: initial}.fade-in-0{--tw-enter-opacity: 0}.zoom-in-95{--tw-enter-scale: .95}.duration-200{animation-duration:.2s}.ease-out{animation-timing-function:cubic-bezier(0,0,.2,1)}.file\\:border-0::file-selector-button{border-width:0px}.file\\:bg-transparent::file-selector-button{background-color:transparent}.file\\:text-sm::file-selector-button{font-size:.875rem;line-height:1.25rem}.file\\:font-medium::file-selector-button{font-weight:500}.placeholder\\:text-muted-foreground::-moz-placeholder{color:hsl(var(--muted-foreground))}.placeholder\\:text-muted-foreground::placeholder{color:hsl(var(--muted-foreground))}.after\\:absolute:after{content:var(--tw-content);position:absolute}.after\\:inset-0:after{content:var(--tw-content);top:0;right:0;bottom:0;left:0}.after\\:inset-y-0:after{content:var(--tw-content);top:0;bottom:0}.after\\:left-0:after{content:var(--tw-content);left:0}.after\\:left-1\\/2:after{content:var(--tw-content);left:50%}.after\\:right-0:after{content:var(--tw-content);right:0}.after\\:right-3:after{content:var(--tw-content);right:.75rem}.after\\:top-1\\/2:after{content:var(--tw-content);top:50%}.after\\:top-\\[10px\\]:after{content:var(--tw-content);top:10px}.after\\:z-0:after{content:var(--tw-content);z-index:0}.after\\:block:after{content:var(--tw-content);display:block}.after\\:h-0:after{content:var(--tw-content);height:0px}.after\\:h-8:after{content:var(--tw-content);height:2rem}.after\\:w-1:after{content:var(--tw-content);width:.25rem}.after\\:w-6:after{content:var(--tw-content);width:1.5rem}.after\\:w-\\[6px\\]:after{content:var(--tw-content);width:6px}.after\\:-translate-x-1\\/2:after{content:var(--tw-content);--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.after\\:-translate-y-1\\/2:after{content:var(--tw-content);--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.after\\:translate-x-\\[-1px\\]:after{content:var(--tw-content);--tw-translate-x: -1px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.after\\:rotate-\\[45deg\\]:after{content:var(--tw-content);--tw-rotate: 45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.after\\:rounded-full:after{content:var(--tw-content);border-radius:9999px}.after\\:rounded-lg:after{content:var(--tw-content);border-radius:var(--radius)}.after\\:border-b-2:after{content:var(--tw-content);border-bottom-width:2px}.after\\:border-b-red-500:after{content:var(--tw-content);--tw-border-opacity: 1;border-bottom-color:rgb(239 68 68 / var(--tw-border-opacity))}.after\\:bg-border:after{content:var(--tw-content);background-color:hsl(var(--border))}.after\\:transition-all:after{content:var(--tw-content);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.first\\:mt-0:first-child{margin-top:0}.first\\:mt-0\\.5:first-child{margin-top:.125rem}.last\\:pb-2:last-child{padding-bottom:.5rem}.hover\\:cursor-pointer:hover{cursor:pointer}.hover\\:border-border:hover{border-color:hsl(var(--border))}.hover\\:bg-accent:hover{background-color:hsl(var(--accent))}.hover\\:bg-destructive\\/90:hover{background-color:hsl(var(--destructive) / .9)}.hover\\:bg-muted:hover{background-color:hsl(var(--muted))}.hover\\:bg-muted-foreground\\/20:hover{background-color:hsl(var(--muted-foreground) / .2)}.hover\\:bg-primary\\/90:hover{background-color:hsl(var(--primary) / .9)}.hover\\:bg-red-400:hover{--tw-bg-opacity: 1;background-color:rgb(248 113 113 / var(--tw-bg-opacity))}.hover\\:bg-secondary:hover{background-color:hsl(var(--secondary))}.hover\\:bg-secondary\\/80:hover{background-color:hsl(var(--secondary) / .8)}.hover\\:bg-opacity-20:hover{--tw-bg-opacity: .2}.hover\\:text-accent-foreground:hover{color:hsl(var(--accent-foreground))}.hover\\:text-foreground:hover{color:hsl(var(--foreground))}.hover\\:text-muted-foreground:hover{color:hsl(var(--muted-foreground))}.hover\\:text-neutral-800:hover{--tw-text-opacity: 1;color:rgb(38 38 38 / var(--tw-text-opacity))}.hover\\:underline:hover{text-decoration-line:underline}.hover\\:opacity-100:hover{opacity:1}.hover\\:shadow-sm:hover{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.after\\:hover\\:h-10:hover:after{content:var(--tw-content);height:2.5rem}.focus\\:bg-accent:focus{background-color:hsl(var(--accent))}.focus\\:bg-red-400:focus{--tw-bg-opacity: 1;background-color:rgb(248 113 113 / var(--tw-bg-opacity))}.focus\\:bg-opacity-30:focus{--tw-bg-opacity: .3}.focus\\:text-accent-foreground:focus{color:hsl(var(--accent-foreground))}.focus\\:text-red-500:focus{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity))}.focus\\:opacity-100:focus{opacity:1}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-1:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-ring:focus{--tw-ring-color: hsl(var(--ring))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus-visible\\:outline-none:focus-visible{outline:2px solid transparent;outline-offset:2px}.focus-visible\\:ring-0:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\\:ring-1:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\\:ring-2:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\\:ring-ring:focus-visible{--tw-ring-color: hsl(var(--ring))}.focus-visible\\:ring-offset-1:focus-visible{--tw-ring-offset-width: 1px}.focus-visible\\:ring-offset-2:focus-visible{--tw-ring-offset-width: 2px}.focus-visible\\:ring-offset-background:focus-visible{--tw-ring-offset-color: hsl(var(--background))}.disabled\\:pointer-events-none:disabled{pointer-events:none}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.group:hover .group-hover\\:opacity-100{opacity:1}.group.destructive .group-\\[\\.destructive\\]\\:border-muted\\/40{border-color:hsl(var(--muted) / .4)}.group.destructive .group-\\[\\.destructive\\]\\:text-red-300{--tw-text-opacity: 1;color:rgb(252 165 165 / var(--tw-text-opacity))}.group.destructive .group-\\[\\.destructive\\]\\:hover\\:border-destructive\\/30:hover{border-color:hsl(var(--destructive) / .3)}.group.destructive .group-\\[\\.destructive\\]\\:hover\\:bg-destructive:hover{background-color:hsl(var(--destructive))}.group.destructive .group-\\[\\.destructive\\]\\:hover\\:text-destructive-foreground:hover{color:hsl(var(--destructive-foreground))}.group.destructive .group-\\[\\.destructive\\]\\:hover\\:text-red-50:hover{--tw-text-opacity: 1;color:rgb(254 242 242 / var(--tw-text-opacity))}.group.destructive .group-\\[\\.destructive\\]\\:focus\\:ring-destructive:focus{--tw-ring-color: hsl(var(--destructive))}.group.destructive .group-\\[\\.destructive\\]\\:focus\\:ring-red-400:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(248 113 113 / var(--tw-ring-opacity))}.group.destructive .group-\\[\\.destructive\\]\\:focus\\:ring-offset-red-600:focus{--tw-ring-offset-color: #dc2626}.peer:disabled~.peer-disabled\\:cursor-not-allowed{cursor:not-allowed}.peer:disabled~.peer-disabled\\:opacity-70{opacity:.7}.data-\\[disabled\\]\\:pointer-events-none[data-disabled]{pointer-events:none}.data-\\[side\\=bottom\\]\\:translate-y-1[data-side=bottom]{--tw-translate-y: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=left\\]\\:-translate-x-1[data-side=left]{--tw-translate-x: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=right\\]\\:translate-x-1[data-side=right]{--tw-translate-x: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=top\\]\\:-translate-y-1[data-side=top]{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=checked\\]\\:translate-x-4[data-state=checked]{--tw-translate-x: 1rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=unchecked\\]\\:translate-x-0[data-state=unchecked],.data-\\[swipe\\=cancel\\]\\:translate-x-0[data-swipe=cancel]{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[swipe\\=end\\]\\:translate-x-\\[var\\(--radix-toast-swipe-end-x\\)\\][data-swipe=end]{--tw-translate-x: var(--radix-toast-swipe-end-x);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[swipe\\=move\\]\\:translate-x-\\[var\\(--radix-toast-swipe-move-x\\)\\][data-swipe=move]{--tw-translate-x: var(--radix-toast-swipe-move-x);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[panel-group-direction\\=vertical\\]\\:flex-col[data-panel-group-direction=vertical]{flex-direction:column}.data-\\[state\\=active\\]\\:bg-background[data-state=active]{background-color:hsl(var(--background))}.data-\\[state\\=checked\\]\\:bg-primary[data-state=checked]{background-color:hsl(var(--primary))}.data-\\[state\\=on\\]\\:bg-accent[data-state=on],.data-\\[state\\=open\\]\\:bg-accent[data-state=open]{background-color:hsl(var(--accent))}.data-\\[state\\=unchecked\\]\\:bg-input[data-state=unchecked]{background-color:hsl(var(--input))}.data-\\[state\\=active\\]\\:text-foreground[data-state=active]{color:hsl(var(--foreground))}.data-\\[state\\=checked\\]\\:text-primary-foreground[data-state=checked]{color:hsl(var(--primary-foreground))}.data-\\[state\\=on\\]\\:text-accent-foreground[data-state=on],.data-\\[state\\=open\\]\\:text-accent-foreground[data-state=open]{color:hsl(var(--accent-foreground))}.data-\\[state\\=open\\]\\:text-muted-foreground[data-state=open]{color:hsl(var(--muted-foreground))}.data-\\[disabled\\]\\:opacity-50[data-disabled]{opacity:.5}.data-\\[state\\=active\\]\\:shadow[data-state=active]{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.data-\\[swipe\\=move\\]\\:transition-none[data-swipe=move]{transition-property:none}.data-\\[state\\=open\\]\\:animate-in[data-state=open]{animation-name:enter;animation-duration:.15s;--tw-enter-opacity: initial;--tw-enter-scale: initial;--tw-enter-rotate: initial;--tw-enter-translate-x: initial;--tw-enter-translate-y: initial}.data-\\[state\\=closed\\]\\:animate-out[data-state=closed],.data-\\[swipe\\=end\\]\\:animate-out[data-swipe=end]{animation-name:exit;animation-duration:.15s;--tw-exit-opacity: initial;--tw-exit-scale: initial;--tw-exit-rotate: initial;--tw-exit-translate-x: initial;--tw-exit-translate-y: initial}.data-\\[state\\=closed\\]\\:fade-out-0[data-state=closed]{--tw-exit-opacity: 0}.data-\\[state\\=closed\\]\\:fade-out-80[data-state=closed]{--tw-exit-opacity: .8}.data-\\[state\\=open\\]\\:fade-in-0[data-state=open]{--tw-enter-opacity: 0}.data-\\[state\\=closed\\]\\:zoom-out-95[data-state=closed]{--tw-exit-scale: .95}.data-\\[state\\=open\\]\\:zoom-in-95[data-state=open]{--tw-enter-scale: .95}.data-\\[side\\=bottom\\]\\:slide-in-from-top-2[data-side=bottom]{--tw-enter-translate-y: -.5rem}.data-\\[side\\=left\\]\\:slide-in-from-right-2[data-side=left]{--tw-enter-translate-x: .5rem}.data-\\[side\\=right\\]\\:slide-in-from-left-2[data-side=right]{--tw-enter-translate-x: -.5rem}.data-\\[side\\=top\\]\\:slide-in-from-bottom-2[data-side=top]{--tw-enter-translate-y: .5rem}.data-\\[state\\=closed\\]\\:slide-out-to-left-1\\/2[data-state=closed]{--tw-exit-translate-x: -50%}.data-\\[state\\=closed\\]\\:slide-out-to-right-full[data-state=closed]{--tw-exit-translate-x: 100%}.data-\\[state\\=closed\\]\\:slide-out-to-top-\\[48\\%\\][data-state=closed]{--tw-exit-translate-y: -48%}.data-\\[state\\=open\\]\\:slide-in-from-left-1\\/2[data-state=open]{--tw-enter-translate-x: -50%}.data-\\[state\\=open\\]\\:slide-in-from-top-\\[48\\%\\][data-state=open]{--tw-enter-translate-y: -48%}.data-\\[state\\=open\\]\\:slide-in-from-top-full[data-state=open]{--tw-enter-translate-y: -100%}.dark\\:border-neutral-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(38 38 38 / var(--tw-border-opacity))}.dark\\:bg-black:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}.dark\\:bg-neutral-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(23 23 23 / var(--tw-bg-opacity))}.dark\\:text-gray-100:is(.dark *){--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}.dark\\:text-neutral-200:is(.dark *){--tw-text-opacity: 1;color:rgb(229 229 229 / var(--tw-text-opacity))}.dark\\:hover\\:bg-neutral-900:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(23 23 23 / var(--tw-bg-opacity))}.dark\\:hover\\:bg-opacity-20:hover:is(.dark *){--tw-bg-opacity: .2}.dark\\:hover\\:text-neutral-200:hover:is(.dark *){--tw-text-opacity: 1;color:rgb(229 229 229 / var(--tw-text-opacity))}.dark\\:hover\\:text-red-500:hover:is(.dark *){--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity))}@media (min-width: 640px){.sm\\:bottom-0{bottom:0}.sm\\:right-0{right:0}.sm\\:top-auto{top:auto}.sm\\:block{display:block}.sm\\:max-w-\\[425px\\]{max-width:425px}.sm\\:flex-row{flex-direction:row}.sm\\:flex-col{flex-direction:column}.sm\\:flex-wrap{flex-wrap:wrap}.sm\\:justify-end{justify-content:flex-end}.sm\\:gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.sm\\:rounded-lg{border-radius:var(--radius)}.sm\\:text-left{text-align:left}.data-\\[state\\=open\\]\\:sm\\:slide-in-from-bottom-full[data-state=open]{--tw-enter-translate-y: 100%}}@media (min-width: 768px){.md\\:flex{display:flex}.md\\:w-full{width:100%}.md\\:max-w-\\[420px\\]{max-width:420px}.md\\:max-w-\\[825px\\]{max-width:825px}}@media (min-width: 1024px){.lg\\:max-w-\\[1200px\\]{max-width:1200px}}.\\[\\&\\+div\\]\\:text-xs+div{font-size:.75rem;line-height:1rem}.\\[\\&\\:\\:-webkit-inner-spin-button\\]\\:appearance-none::-webkit-inner-spin-button{-webkit-appearance:none;-moz-appearance:none;appearance:none}.\\[\\&\\:\\:-webkit-outer-spin-button\\]\\:appearance-none::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:none;appearance:none}.\\[\\&\\>span\\]\\:truncate>span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.\\[\\&\\[data-orientation\\=vertical\\]\\>div\\]\\:rotate-90[data-orientation=vertical]>div{--tw-rotate: 90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\\[\\&\\[data-orientation\\=vertical\\]\\]\\:h-px[data-orientation=vertical]{height:1px}.\\[\\&\\[data-orientation\\=vertical\\]\\]\\:w-full[data-orientation=vertical]{width:100%}.\\[\\&\\[data-orientation\\=vertical\\]\\]\\:after\\:left-0[data-orientation=vertical]:after{content:var(--tw-content);left:0}.\\[\\&\\[data-orientation\\=vertical\\]\\]\\:after\\:h-1[data-orientation=vertical]:after{content:var(--tw-content);height:.25rem}.\\[\\&\\[data-orientation\\=vertical\\]\\]\\:after\\:w-full[data-orientation=vertical]:after{content:var(--tw-content);width:100%}.\\[\\&\\[data-orientation\\=vertical\\]\\]\\:after\\:-translate-y-1\\/2[data-orientation=vertical]:after{content:var(--tw-content);--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\\[\\&\\[data-orientation\\=vertical\\]\\]\\:after\\:translate-x-0[data-orientation=vertical]:after{content:var(--tw-content);--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}',kz=["srcdoc"],Cz=i.defineComponent({__name:"Printer",props:{editor:{},disabled:{type:Boolean,default:!1}},setup(t){const e=t,{state:n}=Ot(),o=i.ref(""),r=i.ref(null);async function s(){var u,f;e.editor.commands.blur();const d=e.editor.getHTML();o.value=`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <title>Echo Editor</title>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>${wz} ${xz}</style>
    </head>
    <body class="is-print">
      <div class="tiptap ProseMirror" translate="no" aria-expanded="false">
          ${d}
      </div>
    </body>
    </html>`,await i.nextTick(),a(r.value),(f=(u=r==null?void 0:r.value)==null?void 0:u.contentWindow)==null||f.print()}function a(d){if(!d.contentWindow){console.error("无法访问 iframe 的 contentWindow");return}d.contentWindow.addEventListener("afterprint",()=>{n.printer=!1})}i.watch(()=>n.printer,d=>{d&&s()});const{bind:l,unbind:c}=Cw("ctrl+p,command+p",()=>{n.printer=!0});return e.editor.on("focus",l),e.editor.on("blur",c),(d,u)=>i.unref(n).printer?(i.openBlock(),i.createElementBlock("iframe",{key:0,ref_key:"iframeRef",ref:r,class:"absolute w-0 h-0 border-none overflow-auto",srcdoc:i.unref(o)},null,8,kz)):i.createCommentVNode("",!0)}}),Sz={class:"flex w-full max-w-sm items-center gap-1.5"},Ez={class:"relative w-full max-w-sm items-center"},vz={class:"absolute end-0 inset-y-0 flex items-center justify-center px-2 text-sm"},Az={class:"flex gap-1"},Mz={class:"flex items-center space-x-2 mt-2"},_z={for:"terms",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},Tz={class:"flex gap-3 mt-3"},Bz=i.defineComponent({__name:"FindAndReplace",props:{editor:{},disabled:{type:Boolean,default:!1},containerRef:{default:void 0}},emits:["update:modelValue","find","replace"],setup(t,{emit:e}){const n=t,o=i.ref(null),r=i.ref(null),s=Ot(),a=i.ref(""),l=i.ref(""),c=i.ref(!1),{t:d}=Be(),u=i.computed(()=>n.containerRef),{focused:f}=yp(r),{top:p,right:h}=qT(u),m=JT(u),g=i.ref({x:0,y:0}),y=i.computed(()=>{var T,M;return((M=(T=n.editor)==null?void 0:T.storage.findAndReplace)==null?void 0:M.results.length)||0});i.watch([p,h,m],()=>{m.value&&o.value&&(g.value={y:p.value+24,x:h.value-320-24})});const b=(T=!1)=>{n.editor&&(T&&n.editor.commands.resetIndex(),n.editor.commands.setSearchTerm(a.value),n.editor.commands.setReplaceTerm(l.value),n.editor.commands.setCaseSensitive(c.value))},x=()=>{if(!n.editor)return;const{results:T,resultIndex:M}=n.editor.storage.findAndReplace,$=T[M];if(!$)return;n.editor.commands.setTextSelection($);const{node:L}=n.editor.view.domAtPos(n.editor.state.selection.anchor);L instanceof HTMLElement&&L.scrollIntoView({behavior:"smooth",block:"center"})};i.watch(()=>a.value.trim(),(T,M)=>{T||S(),T!==M&&b(!0)}),i.watch(()=>l.value.trim(),(T,M)=>T===M?null:b()),i.watch(()=>c.value,(T,M)=>T===M?null:b(!0)),i.watch(()=>s.state.findAndReplace,async T=>{T?(await i.nextTick(),f.value=!0,a.value=Cm(n.editor)||""):S()});const k=()=>{n.editor.commands.replace(),x()},w=()=>{n.editor.commands.nextSearchResult(),x()},C=T=>{T.preventDefault(),n.editor.commands.previousSearchResult(),x()},S=()=>{a.value=l.value="",n.editor.commands.resetIndex()},v=()=>n.editor.commands.replaceAll();function B(T){c.value=T}i.onMounted(()=>setTimeout(b));const{bind:_,unbind:E}=Cw("ctrl+f,command+f",()=>{s.state.findAndReplace=!0});return n.editor.on("focus",_),n.editor.on("blur",E),(T,M)=>{var N,D,F,z,Q,ue,ie,se,be,me,_e,Ge;const $=re,L=xa,U=Jo,O=lt,A=wx;return i.openBlock(),i.createBlock(i.Teleport,{to:"body"},[i.withDirectives(i.createElementVNode("div",{ref_key:"dialogRef",ref:o,class:"findAndReplaceDialog fixed bg-white shadow-lg rounded-lg p-4 w-[320px] border z-[11]",style:i.normalizeStyle({top:`${g.value.y}px`,left:`${g.value.x}px`})},[i.createElementVNode("button",{onClick:M[0]||(M[0]=ve=>i.unref(s).toggleFindAndReplace()),class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},[i.createVNode($,{name:"Close"})]),i.createVNode(L,null,{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(d)("editor.findAndReplace.find")),1)]),_:1}),i.createElementVNode("div",Sz,[i.createElementVNode("div",Ez,[i.createVNode(U,{modelValue:a.value,"onUpdate:modelValue":M[1]||(M[1]=ve=>a.value=ve),onKeyup:i.withKeys(w,["enter"]),class:"pr-10",ref_key:"inputRef",ref:r},null,8,["modelValue"]),i.createElementVNode("span",vz,i.toDisplayString((F=(D=(N=T.editor)==null?void 0:N.storage)==null?void 0:D.findAndReplace)!=null&&F.results.length?((ue=(Q=(z=T.editor)==null?void 0:z.storage)==null?void 0:Q.findAndReplace)==null?void 0:ue.resultIndex)+1:(be=(se=(ie=T.editor)==null?void 0:ie.storage)==null?void 0:se.findAndReplace)==null?void 0:be.resultIndex)+" / "+i.toDisplayString((Ge=(_e=(me=T.editor)==null?void 0:me.storage)==null?void 0:_e.findAndReplace)==null?void 0:Ge.results.length),1)]),i.createElementVNode("div",Az,[i.createVNode(O,{onClick:C,variant:"outline",size:"icon",class:"px-2.5"},{default:i.withCtx(()=>[i.createVNode($,{name:"ChevronUp",class:"w-5 h-5"})]),_:1}),i.createVNode(O,{onClick:w,variant:"outline",size:"icon",class:"px-2.5"},{default:i.withCtx(()=>[i.createVNode($,{name:"ChevronDown",class:"w-5 h-5"})]),_:1})])]),i.createVNode(L,null,{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(d)("editor.findAndReplace.replace")),1)]),_:1}),i.createVNode(U,{modelValue:l.value,"onUpdate:modelValue":M[2]||(M[2]=ve=>l.value=ve)},null,8,["modelValue"]),i.createElementVNode("div",Mz,[i.createVNode(A,{id:"terms",checked:c.value,"onUpdate:checked":B},null,8,["checked"]),i.createElementVNode("label",_z,i.toDisplayString(i.unref(d)("editor.findAndReplace.caseSensitive")),1)]),i.createElementVNode("div",Tz,[i.createVNode(O,{type:"submit",disabled:!y.value},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(d)("editor.findAndReplace.find")),1)]),_:1},8,["disabled"]),i.createVNode(O,{variant:"secondary",onClick:k,disabled:!T.editor.isEditable||!y.value},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(d)("editor.findAndReplace.replace")),1)]),_:1},8,["disabled"]),i.createVNode(O,{variant:"secondary",onClick:v,disabled:!T.editor.isEditable||!y.value},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(d)("editor.findAndReplace.replaceAll")),1)]),_:1},8,["disabled"])])],4),[[i.vShow,i.unref(s).state.findAndReplace&&i.unref(m)]])])}}}),Oz=i.defineComponent({__name:"Toast",props:{class:{},variant:{},onOpenChange:{type:Function},defaultOpen:{type:Boolean},forceMount:{type:Boolean},type:{},open:{type:Boolean},duration:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=he(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(aI),i.mergeProps(i.unref(s),{class:i.unref(Z)(i.unref(Rz)({variant:a.variant}),n.class),"onUpdate:open":a.onOpenChange}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class","onUpdate:open"]))}}),Nz=i.defineComponent({__name:"ToastViewport",props:{hotkey:{},label:{type:[String,Function]},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(dI),i.mergeProps(n.value,{class:i.unref(Z)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e.class)}),null,16,["class"]))}}),Pz=i.defineComponent({__name:"ToastClose",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(cI),i.mergeProps(n.value,{class:i.unref(Z)("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e.class)}),{default:i.withCtx(()=>[i.createVNode(i.unref(bx),{class:"h-4 w-4"})]),_:1},16,["class"]))}}),Iz=i.defineComponent({__name:"ToastTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(uI),i.mergeProps(n.value,{class:i.unref(Z)("text-sm font-semibold [&+div]:text-xs",e.class)}),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["class"]))}}),SC=i.defineComponent({__name:"ToastDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(fI),i.mergeProps({class:i.unref(Z)("text-sm opacity-90",e.class)},n.value),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["class"]))}}),Dz=i.defineComponent({__name:"ToastProvider",props:{label:{},duration:{},swipeDirection:{},swipeThreshold:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(XP),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),Rz=Ih("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Lz={class:"grid gap-1"},$z=i.defineComponent({__name:"Toaster",setup(t){const{toasts:e}=Zi();return(n,o)=>(i.openBlock(),i.createBlock(i.unref(Dz),null,{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(i.unref(e),r=>(i.openBlock(),i.createBlock(i.unref(Oz),i.mergeProps({key:r.id,ref_for:!0},r),{default:i.withCtx(()=>[i.createElementVNode("div",Lz,[r.title?(i.openBlock(),i.createBlock(i.unref(Iz),{key:0},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(r.title),1)]),_:2},1024)):i.createCommentVNode("",!0),r.description?(i.openBlock(),i.createElementBlock(i.Fragment,{key:1},[i.isVNode(r.description)?(i.openBlock(),i.createBlock(i.unref(SC),{key:0},{default:i.withCtx(()=>[(i.openBlock(),i.createBlock(i.resolveDynamicComponent(r.description)))]),_:2},1024)):(i.openBlock(),i.createBlock(i.unref(SC),{key:1},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(r.description),1)]),_:2},1024))],64)):i.createCommentVNode("",!0),i.createVNode(i.unref(Pz))]),(i.openBlock(),i.createBlock(i.resolveDynamicComponent(r.action)))]),_:2},1040))),128)),i.createVNode(i.unref(Nz))]),_:1}))}}),Vz={class:"overflow-hidden relative flex-1"},zz={key:2,class:"flex justify-between border-t p-3 items-center"},Fz={class:"flex flex-col"},Hz={class:"flex justify-end gap-3 text-sm"},EC=i.defineComponent({__name:"EchoEditor",props:{modelValue:{default:""},output:{default:"html"},dark:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},hideToolbar:{type:Boolean,default:!1},hideMenubar:{type:Boolean,default:!1},hideBubble:{type:Boolean,default:!1},removeDefaultWrapper:{type:Boolean,default:!1},maxWidth:{default:void 0},minHeight:{default:void 0},maxHeight:{default:void 0},extensions:{default:()=>[]},editorClass:{default:void 0},contentClass:{default:void 0}},emits:["enter","change","update:modelValue"],setup(t,{expose:e,emit:n}){const o=t,r=n,s=i.useAttrs(),{state:a,isFullscreen:l}=Ot(),{t:c}=Be(),d=WT(),u=i.ref(null),f=i.computed(()=>[...a.extensions,...H_(o.extensions,a.extensions,"name")].map((g,y)=>g.configure({sort:y}))),p=new qy({content:o.modelValue,editorProps:{handleKeyDown:Ql((g,y)=>y.key==="Enter"&&s.enter&&!y.shiftKey?(r("enter"),!0):!1,Yy)},onUpdate:Ql(({editor:g})=>{const y=m(g,o.output);r("update:modelValue",y),r("change",{editor:g,output:y})},Yy),extensions:i.unref(f),editable:!o.disabled});i.watch(()=>o.dark,g=>{g!==void 0&&(d.value=g)});const h=i.computed(()=>({...i.unref(l)?{height:"100%",overflowY:"auto"}:{minHeight:ec(o.minHeight),maxHeight:ec(o.maxHeight),overflowY:"auto",scrollBehavior:"smooth",scrollbarWidth:"thin"},maxWidth:ec(o.maxWidth),width:o.maxWidth?"100%":void 0,margin:o.maxWidth?"8px auto":void 0}));function m(g,y){if(o.removeDefaultWrapper)return y==="html"?g.isEmpty?"":g.getHTML():y==="json"?g.isEmpty?{}:g.getJSON():y==="text"?g.isEmpty?"":g.getText():"";switch(y){case"html":return g.getHTML();case"json":return g.getJSON();case"text":return g.getText();default:return""}}return i.watch(()=>o.modelValue,g=>{if(!p||j_(m(p,o.output),g))return;const{from:y,to:b}=p.state.selection;p.commands.setContent(g,!1),p.commands.setTextSelection({from:y,to:b})},{deep:!0}),i.watch(()=>o.disabled,g=>p==null?void 0:p.setEditable(!g)),i.onUnmounted(()=>p==null?void 0:p.destroy()),e({editor:p}),(g,y)=>i.unref(p)?(i.openBlock(),i.createElementBlock("div",{key:0,class:i.normalizeClass(["echo-editor rounded-[0.5rem] bg-background shadow outline outline-1 relative",[g.editorClass,{"outline-primary":i.unref(p).isFocused,"outline-border":!i.unref(p).isFocused}]])},[i.createVNode(bz,{editor:i.unref(p)},null,8,["editor"]),i.createVNode(Cz,{editor:i.unref(p)},null,8,["editor"]),i.createVNode(Bz,{"container-ref":i.unref(u),editor:i.unref(p)},null,8,["container-ref","editor"]),i.createElementVNode("div",{class:i.normalizeClass(["relative flex flex-col overflow-hidden",{"!fixed bg-background inset-0 z-[10]  w-full h-full m-0 rounded-[0.5rem]":i.unref(l)}])},[g.hideMenubar?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(ZV,{key:0,editor:i.unref(p),disabled:g.disabled},null,8,["editor","disabled"])),g.hideToolbar?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(nz,{key:1,editor:i.unref(p),disabled:g.disabled,class:"border-b py-1 px-1 overflow-hidden"},null,8,["editor","disabled"])),i.createElementVNode("div",Vz,[i.createVNode(i.unref(xv),{ref_key:"contentRef",ref:u,editor:i.unref(p),class:i.normalizeClass(g.contentClass),style:i.normalizeStyle(h.value),spellcheck:i.unref(a).spellCheck},null,8,["editor","class","style","spellcheck"]),!g.hideBubble&&!g.disabled&&i.unref(p).isEditable?(i.openBlock(),i.createElementBlock(i.Fragment,{key:0},[i.createVNode(dV,{editor:i.unref(p),class:"hidden sm:block"},null,8,["editor"]),i.createVNode(OR,{editor:i.unref(p)},null,8,["editor"]),i.createVNode(mV,{editor:i.unref(p)},null,8,["editor"]),i.createVNode(aL,{editor:i.unref(p)},null,8,["editor"]),i.createVNode(jV,{editor:i.unref(p)},null,8,["editor"]),i.createVNode(xV,{editor:i.unref(p)},null,8,["editor"]),i.createVNode(sD,{editor:i.unref(p)},null,8,["editor"])],64)):i.createCommentVNode("",!0)]),i.unref(tc)(i.unref(p),"characterCount")?(i.openBlock(),i.createElementBlock("div",zz,[i.createElementVNode("div",Fz,[i.createElementVNode("div",Hz,[i.createElementVNode("span",null,i.toDisplayString(i.unref(p).storage.characterCount.characters())+" "+i.toDisplayString(i.unref(c)("editor.characters")),1)])]),i.renderSlot(g.$slots,"footer",{editor:i.unref(p)})])):i.createCommentVNode("",!0)],2),i.createVNode($z)],2)):i.createCommentVNode("",!0)}});function jz(){Ax({prefix:"echo",icons:{baidu:{body:'<svg t="1716185245518" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6045" width="24" height="24"><path d="M824.32 1018.88h-163.84l348.16-348.16v163.84c0 102.4-81.92 184.32-184.32 184.32z m0-1008.64c102.4 0 184.32 81.92 184.32 184.32v97.28l-281.6-281.6h97.28z m-58.88 366.08c0 66.56-25.6 128-66.56 174.08l-7.68 5.12c-79.36 87.04-140.8 192-179.2 307.2-2.56 2.56-5.12 5.12-10.24 5.12s-7.68-2.56-10.24-5.12c-38.4-115.2-99.84-217.6-179.2-307.2l-7.68-7.68-2.56-2.56 2.56 2.56c-40.96-46.08-66.56-107.52-66.56-174.08 0-56.32 17.92-107.52 46.08-148.48C332.8 156.16 409.6 112.64 499.2 112.64s168.96 43.52 215.04 112.64c33.28 43.52 51.2 94.72 51.2 151.04z m-289.28-112.64h-33.28v61.44h-38.4c-38.4 0-71.68 30.72-71.68 71.68v15.36c0 38.4 30.72 71.68 71.68 71.68h66.56v-2.56h2.56v-217.6z m176.64 64h-35.84v125.44h-40.96c-15.36 0-30.72-12.8-30.72-30.72v-97.28H512V435.2c0 25.6 20.48 48.64 48.64 48.64h92.16v-156.16z m-276.48 84.48v-15.36c0-20.48 15.36-35.84 35.84-35.84h30.72v89.6h-30.72c-20.48-2.56-35.84-17.92-35.84-38.4z m-97.28-194.56c-17.92 28.16-33.28 58.88-40.96 89.6L28.16 94.72C61.44 43.52 117.76 7.68 184.32 7.68h307.2l107.52 107.52c-30.72-12.8-64-17.92-97.28-17.92-92.16 2.56-174.08 48.64-222.72 120.32z m20.48 335.36l7.68 7.68c28.16 30.72 53.76 61.44 76.8 97.28L64 972.8C25.6 939.52 0 890.88 0 834.56V225.28l250.88 250.88c12.8 28.16 28.16 53.76 48.64 76.8z m476.16-181.76c0-35.84-7.68-69.12-17.92-99.84l245.76 245.76-276.48 279.04-117.76-117.76c25.6-40.96 56.32-79.36 89.6-117.76l7.68-7.68c40.96-48.64 69.12-112.64 69.12-181.76zM491.52 878.08c2.56 2.56 5.12 5.12 10.24 5.12s7.68-2.56 10.24-5.12c10.24-33.28 25.6-66.56 40.96-99.84l94.72 94.72-145.92 145.92H184.32c-15.36 0-30.72-2.56-43.52-5.12l286.72-286.72c25.6 48.64 48.64 99.84 64 151.04z" fill="#B3CE7D" p-id="6046"></path><path d="M765.44 376.32c0 66.56-25.6 128-66.56 174.08l-7.68 5.12c-79.36 87.04-140.8 192-179.2 307.2-2.56 2.56-5.12 5.12-10.24 5.12s-7.68-2.56-10.24-5.12c-38.4-115.2-99.84-217.6-179.2-307.2l-7.68-7.68-2.56-2.56 2.56 2.56c-40.96-46.08-66.56-107.52-66.56-174.08 0-56.32 17.92-107.52 46.08-148.48C332.8 156.16 409.6 112.64 499.2 112.64s168.96 43.52 215.04 112.64c33.28 43.52 51.2 94.72 51.2 151.04z m-289.28-112.64h-33.28v61.44h-38.4c-38.4 0-71.68 30.72-71.68 71.68v15.36c0 38.4 30.72 71.68 71.68 71.68h66.56v-2.56h2.56v-217.6z m176.64 64h-35.84v125.44h-40.96c-15.36 0-30.72-12.8-30.72-30.72v-97.28H512V435.2c0 25.6 20.48 48.64 48.64 48.64h92.16v-156.16z m-276.48 84.48v-15.36c0-20.48 15.36-35.84 35.84-35.84h30.72v89.6h-30.72c-20.48-2.56-35.84-17.92-35.84-38.4z" fill="#F93737" p-id="6047"></path><path d="M824.32 10.24c102.4 0 184.32 81.92 184.32 184.32v97.28l-281.6-281.6h97.28z" fill="#B2E5FF" p-id="6048"></path><path d="M279.04 217.6c-17.92 28.16-33.28 58.88-40.96 89.6L28.16 94.72C61.44 43.52 117.76 7.68 184.32 7.68h307.2l107.52 107.52c-30.72-12.8-64-17.92-97.28-17.92-92.16 2.56-174.08 48.64-222.72 120.32z m496.64 153.6c0-35.84-7.68-69.12-17.92-99.84l245.76 245.76-276.48 279.04-117.76-117.76c25.6-40.96 56.32-79.36 89.6-117.76l7.68-7.68c40.96-48.64 69.12-112.64 69.12-181.76z" fill="#E6F28F" p-id="6049"></path></svg>',width:24,height:24},gaode:{body:'<svg t="1716185147787" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4078" width="24" height="24"><path d="M658.285714 621.714286h365.714286v256a146.285714 146.285714 0 0 1-146.285714 146.285714h-219.428572V621.714286z" fill="#B2D8FF" p-id="4079"></path><path d="M1024 364.397714V218.624H0v145.773714z" fill="#FFFFFF" p-id="4080"></path><path d="M649.142857 1024h145.773714V0H649.142857z" fill="#FFFFFF" p-id="4081"></path><path d="M1024 729.417143v-145.773714H0v145.773714z" fill="#FFCF68" p-id="4082"></path><path d="M0 218.624h649.179429V0H146.285714a146.285714 146.285714 0 0 0-146.285714 146.285714v72.338286z" fill="#AFE881" p-id="4083"></path><path d="M195.803429 1024H341.577143V0H195.803429z" fill="#FFCF68" p-id="4084"></path><path d="M103.862857 543.670857L349.622857 618.057143l302.628572-256.950857-234.569143 276.772571 262.765714 81.188572 135.314286-520.192z" fill="#0093FD" p-id="4085"></path><path d="M652.251429 361.142857L349.586286 618.057143l68.096 19.821714z" fill="#0066BD" p-id="4086"></path><path d="M349.622857 618.093714v143.908572l97.938286-114.834286-97.974857-29.074286z" fill="#0064BB" p-id="4087"></path></svg>',width:24,height:24},youku:{body:'<svg t="1716185468594" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7073" width="24" height="24"><path d="M740.113 555.315l0.205-0.307c0.512-0.82 0.887-1.707 1.4-2.526 0.204-0.41 0.409-0.82 0.716-1.229 0.205-0.307 0.341-0.682 0.512-1.024 5.598-10.956 8.636-23.04 8.738-35.328v-2.457a80.76 80.76 0 0 0-8.738-35.362c-0.205-0.308-0.307-0.683-0.512-1.024a7.578 7.578 0 0 0-0.683-1.195c-0.546-0.82-0.921-1.707-1.433-2.526-0.103-0.102-0.103-0.205-0.205-0.341a71.339 71.339 0 0 0-4.983-7.305v-0.102a76.902 76.902 0 0 0-8.124-9.148l-0.205-0.17a106.462 106.462 0 0 0-5.086-4.472c-0.41-0.341-0.682-0.614-1.126-0.922l-3.652-2.73a5.632 5.632 0 0 1-0.82-0.615l-250.88-168.14a80.247 80.247 0 0 0-60.586-12.186 80.213 80.213 0 0 0-51.405 34.236 80.862 80.862 0 0 0 22.05 112.06l150.87 101.17-150.972 101.172a80.862 80.862 0 0 0-22.05 112.06 80.213 80.213 0 0 0 51.404 34.235 80.247 80.247 0 0 0 60.553-12.185L715.913 580.71a5.632 5.632 0 0 0 0.819-0.614l1.536-1.024 2.218-1.604 1.127-0.922c1.843-1.433 3.447-2.935 5.086-4.437l0.204-0.24c2.936-2.832 5.7-5.87 8.124-9.147v-0.102c1.912-2.321 3.55-4.779 5.086-7.305z" fill="#FF4A4A" p-id="7074"></path><path d="M979.149 312.627a504.286 504.286 0 0 0-108.886-161.45A506.778 506.778 0 0 0 510.976 2.526c-86.016 0-171.042 21.913-245.93 63.385A510.26 510.26 0 0 0 85.162 233.335 506.368 506.368 0 0 0 2.97 510.464c0 68.574 13.38 135.1 39.936 197.769a505.651 505.651 0 0 0 108.783 161.45A508.757 508.757 0 0 0 313.105 978.57a509.61 509.61 0 0 0 435.712-19.115A512.341 512.341 0 0 0 926.583 802.61a504.9 504.9 0 0 0 92.331-292.181 501.214 501.214 0 0 0-39.8-197.769zM510.976 857.532c-191.386 0-347.136-155.717-347.136-347.136 0-67.55 19.456-132.95 56.115-189.235a346.453 346.453 0 0 1 291.021-157.867c191.42 0 347.136 155.716 347.136 347.136 0 71.919-21.845 140.97-63.078 199.51a347.477 347.477 0 0 1-284.058 147.592z" fill="#38CEFF" p-id="7075"></path><path d="M907.332 690.415a80.35 80.35 0 0 0-112.06 19.524 80.35 80.35 0 0 0 65.707 126.669c25.293 0 50.176-11.878 65.843-34.133a80.555 80.555 0 0 0-19.49-112.06z m-798.72-345.77a80.486 80.486 0 0 0 87.894-134.827 80.486 80.486 0 0 0-87.86 134.826z" fill="#0B99FF" p-id="7076"></path><path d="M751.684 512.444a82.193 82.193 0 0 0-8.738-35.362c-0.205-0.308-0.307-0.683-0.512-1.024a7.578 7.578 0 0 0-0.683-1.195c-0.546-0.82-0.921-1.707-1.433-2.526-0.103-0.102-0.103-0.205-0.205-0.341-0.717-1.093-1.331-2.219-2.15-3.243-0.922-1.4-1.912-2.73-2.936-4.062v-0.102a87.04 87.04 0 0 0-8.124-9.148l-0.204-0.17a106.462 106.462 0 0 0-5.086-4.472c-0.41-0.341-0.683-0.614-1.127-0.922a17.954 17.954 0 0 0-2.218-1.638l-1.536-1.024a79.701 79.701 0 0 0-45.91-14.2c-16.042 0-31.607 4.78-44.885 13.722l-100.01 67.038 100.01 67.038c13.312 8.943 28.843 13.721 44.885 13.721a80.982 80.982 0 0 0 45.91-14.233l1.536-1.024 2.218-1.604 1.127-0.922a157.672 157.672 0 0 0 5.086-4.437l0.204-0.24a77.32 77.32 0 0 0 8.124-9.147v-0.102c1.024-1.298 1.912-2.629 2.936-4.062l2.15-3.243 0.205-0.307a31.88 31.88 0 0 0 1.4-2.526c0.204-0.41 0.409-0.82 0.716-1.229 0.205-0.307 0.341-0.683 0.512-1.024 5.598-10.957 8.533-23.04 8.738-35.362v-2.628z" fill="#F5001A" p-id="7077"></path></svg>',width:24,height:24},bilibili:{body:'<svg t="1716185543850" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8124" width="24" height="24"><path d="M0 0m184.32 0l655.36 0q184.32 0 184.32 184.32l0 655.36q0 184.32-184.32 184.32l-655.36 0q-184.32 0-184.32-184.32l0-655.36q0-184.32 184.32-184.32Z" fill="#EC5D85" p-id="8125"></path><path d="M512 241.96096h52.224l65.06496-96.31744c49.63328-50.31936 89.64096 0.43008 63.85664 45.71136l-34.31424 51.5072c257.64864 5.02784 257.64864 43.008 257.64864 325.03808 0 325.94944 0 336.46592-404.48 336.46592S107.52 893.8496 107.52 567.90016c0-277.69856 0-318.80192 253.14304-324.95616l-39.43424-58.368c-31.26272-54.90688 37.33504-90.40896 64.68608-42.37312l60.416 99.80928c18.18624-0.0512 41.18528-0.0512 65.66912-0.0512z" fill="#EF85A7" p-id="8126"></path><path d="M512 338.5856c332.8 0 332.8 0 332.8 240.64s0 248.39168-332.8 248.39168-332.8-7.75168-332.8-248.39168 0-240.64 332.8-240.64z" fill="#EC5D85" p-id="8127"></path><path d="M281.6 558.08a30.72 30.72 0 0 1-27.47392-16.97792 30.72 30.72 0 0 1 13.73184-41.216l122.88-61.44a30.72 30.72 0 0 1 41.216 13.74208 30.72 30.72 0 0 1-13.74208 41.216l-122.88 61.44a30.59712 30.59712 0 0 1-13.73184 3.23584zM752.64 558.08a30.60736 30.60736 0 0 1-12.8512-2.83648l-133.12-61.44a30.72 30.72 0 0 1-15.04256-40.7552 30.72 30.72 0 0 1 40.76544-15.02208l133.12 61.44A30.72 30.72 0 0 1 752.64 558.08zM454.656 666.88a15.36 15.36 0 0 1-12.288-6.1952 15.36 15.36 0 0 1 3.072-21.49376l68.5056-50.91328 50.35008 52.62336a15.36 15.36 0 0 1-22.20032 21.23776l-31.5904-33.024-46.71488 34.72384a15.28832 15.28832 0 0 1-9.13408 3.04128z" fill="#EF85A7" p-id="8128"></path><path d="M65.536 369.31584c15.03232 101.90848 32.84992 147.17952 44.544 355.328 14.63296 2.18112 177.70496 10.04544 204.05248-74.62912a16.14848 16.14848 0 0 0 1.64864-10.87488c-30.60736-80.3328-169.216-60.416-169.216-60.416s-10.36288-146.50368-11.49952-238.83776zM362.25024 383.03744l34.816 303.17568h34.64192L405.23776 381.1328zM309.52448 536.28928h45.48608l16.09728 158.6176-31.82592 1.85344zM446.86336 542.98624h45.80352V705.3312h-33.87392zM296.6016 457.97376h21.39136l5.2736 58.99264-18.91328 2.26304zM326.99392 457.97376h21.39136l2.53952 55.808-17.408 1.61792zM470.62016 459.88864h19.456v62.27968h-19.456zM440.23808 459.88864h22.20032v62.27968h-16.62976z" fill="#FFFFFF" p-id="8129"></path><path d="M243.56864 645.51936a275.456 275.456 0 0 1-28.4672 23.74656 242.688 242.688 0 0 1-29.53216 17.52064 2.70336 2.70336 0 0 1-4.4032-1.95584 258.60096 258.60096 0 0 1-5.12-29.57312c-1.41312-12.1856-1.95584-25.68192-2.16064-36.36224 0-0.3072 0-2.5088 3.01056-1.90464a245.92384 245.92384 0 0 1 34.22208 9.5744 257.024 257.024 0 0 1 32.3584 15.17568c0.52224 0.256 2.51904 1.4848 0.09216 3.77856z" fill="#EB5480" p-id="8130"></path><path d="M513.29024 369.31584c15.03232 101.90848 32.84992 147.17952 44.544 355.328 14.63296 2.18112 177.70496 10.04544 204.05248-74.62912a16.14848 16.14848 0 0 0 1.64864-10.87488c-30.60736-80.3328-169.216-60.416-169.216-60.416s-10.36288-146.50368-11.49952-238.83776zM810.00448 383.03744l34.816 303.17568h34.64192L852.992 381.1328zM757.27872 536.28928h45.48608l16.09728 158.6176-31.82592 1.85344zM894.6176 542.98624h45.80352V705.3312H906.5472zM744.35584 457.97376h21.39136l5.2736 58.99264-18.91328 2.26304zM774.74816 457.97376h21.39136l2.53952 55.808-17.408 1.61792zM918.3744 459.88864h19.456v62.27968h-19.456zM887.99232 459.88864h22.20032v62.27968h-16.62976z" fill="#FFFFFF" p-id="8131"></path><path d="M691.32288 645.51936a275.456 275.456 0 0 1-28.4672 23.74656 242.688 242.688 0 0 1-29.53216 17.52064 2.70336 2.70336 0 0 1-4.4032-1.95584 258.60096 258.60096 0 0 1-5.12-29.57312c-1.41312-12.1856-1.95584-25.68192-2.16064-36.36224 0-0.3072 0-2.5088 3.01056-1.90464a245.92384 245.92384 0 0 1 34.22208 9.5744 257.024 257.024 0 0 1 32.3584 15.17568c0.52224 0.256 2.51904 1.4848 0.09216 3.77856z" fill="#EB5480" p-id="8132"></path></svg>',width:24,height:24},modao:{body:'<svg t="1716185608586" class="icon" viewBox="0 0 1061 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9191" width="24" height="24"><path d="M601.043478 881.15942c-1.855072-5.194203-17.066667-40.069565-33.391304-77.542029-16.324638-37.843478-29.681159-70.121739-29.68116-71.976811s13.727536-11.501449 30.423189-21.147826c74.944928-44.521739 131.710145-120.208696 157.310145-209.994203 10.017391-34.504348 10.017391-35.988406 12.243478-190.70145l2.226087-155.826087 79.397101-1.113043c43.77971-0.742029 83.478261-0.371014 88.30145 1.113043l8.904348 2.226087-1.484058 162.133334c-1.113043 147.663768-2.226087 165.101449-9.275363 196.637681-17.437681 77.913043-47.86087 148.776812-89.043478 206.284058-42.295652 58.991304-115.756522 125.031884-176.231884 157.681159-26.342029 14.098551-34.875362 14.469565-39.698551 2.226087zM132.452174 480.092754c-1.484058-1.484058-2.597101-74.944928-2.597102-163.246377 0-126.886957 1.113043-160.649275 4.823189-162.133334 8.162319-2.968116 163.617391-2.597101 168.811594 0.371015 3.710145 2.597101 4.452174 37.843478 3.710145 164.35942l-1.113043 161.02029-85.704348 1.113044c-47.118841 0.371014-86.446377-0.371014-87.930435-1.484058zM421.843478 480.092754c-1.484058-1.484058-2.597101-74.944928-2.597101-163.246377 0-126.515942 1.113043-160.649275 4.823188-162.133334 7.791304-2.968116 163.988406-2.226087 168.811594 0.742029 3.33913 2.226087 4.452174 39.698551 3.710145 163.988406l-1.113043 161.02029-85.704348 1.113044c-47.118841 0.371014-86.446377-0.371014-87.930435-1.484058z" fill="#FF3332" p-id="9192"></path></svg>',width:24,height:24},lanhu:{body:'<svg t="1716185640724" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11680" width="24" height="24"><path d="M959.445292 862.225843c38.558128 43.498852 6.246304 133.850105-74.735493 94.088796-167.319032-82.174739-200.485883 60.133477-374.071698 65.217559-173.596055 5.094322-211.422035-147.387178-373.677464-65.217559-80.495404 40.749454-113.303861-50.589943-74.750853-94.088796 53.800134-60.665949 104.461757-130.138162 105.506221-384.147703-0.445433-8.125315 0-11.04367 0-19.271384 0-103.340494 35.977688-197.244972 94.626387-266.732546-5.913509-6.891414-12.123974-15.856397-18.267879-26.213998a61.346898 61.346898 0 0 1-1.658855-2.969554 340.239257 340.239257 0 0 1-16.102153-31.164962 370.523592 370.523592 0 0 1-13.444913-33.996278c-0.455673-1.443818-0.993265-2.887636-1.372139-4.336573a303.662539 303.662539 0 0 1-6.082467-21.862065C197.677785 37.903137 199.121603 9.113819 218.408347 0.947544c10.941272-4.638649 24.160909 8.46323 39.495073 27.744854 0.537592 0.686069 1.146862 1.382379 1.745894 2.129887 0.691189 0.844787 1.372139 1.684454 2.053088 2.590681 10.019686 12.953401 21.114556 28.118608 33.177091 42.142073 0.931826 1.059824 1.827812 2.135007 2.749398 3.20507 0.527352 0.604151 1.059824 1.203182 1.587175 1.827812 14.602016 16.419588 30.60177 30.842407 47.989024 37.974457 49.105166-30.217776 105.470381-47.405352 165.42466-47.405352 58.443903 0 113.493298 16.347909 161.728078 45.173067 15.492882-7.679882 29.838902-20.87904 43.038059-35.737052 0.537592-0.62975 1.075183-1.228781 1.597416-1.832932l2.734038-3.20507c12.083015-14.028585 23.172764-29.183552 33.18221-42.142073 0.691189-0.906226 1.372139-1.745893 2.063329-2.590681 0.599031-0.747509 1.208301-1.443818 1.740773-2.129887 15.339285-19.281624 28.548682-32.383503 39.500194-27.744854 19.276504 8.161155 20.735682 36.955593 12.98412 70.572997a298.419739 298.419739 0 0 1-6.082466 21.867184c-0.368634 1.448938-0.906226 2.892756-1.361899 4.336573a379.514174 379.514174 0 0 1-13.434674 33.996278 342.829938 342.829938 0 0 1-16.112393 31.164962c-0.522232 0.993265-1.059824 1.97117-1.669094 2.969555-4.710328 7.935878-9.446255 15.052569-14.079784 21.047996C819.743116 256.882175 857.543496 352.880702 857.543496 458.811876c0 6.041507-0.02048 6.246304-0.266236 12.231492 0.122878 259.411058 47.917344 330.004534 102.168032 391.187595z" fill="#0692FF" p-id="11681"></path><path d="M510.863377 640.374529c112.67923 0 203.982789-92.189305 203.982789-205.87716 0-39.295397-10.931032-75.994993-29.96178-107.282833 0-0.081919-0.071679-0.153598-0.143358-0.240637-35.747291-58.955895-100.227582-98.261532-173.872531-98.261531-112.668991 0-204.054468 92.117626-204.054467 205.785001a206.368672 206.368672 0 0 0 53.027026 138.432435c37.354947 41.389445 91.124361 67.444725 151.022321 67.444725z" fill="#FFFFFF" p-id="11682"></path><path d="M554.223992 290.089986c57.030805 0 103.268815 46.632244 103.268815 104.1904 0 57.532557-46.23801 104.169921-103.268815 104.169921-57.030805 0-103.268815-46.637364-103.268815-104.169921 0-57.558156 46.23801-104.190401 103.268815-104.1904z" fill="#293D50" p-id="11683"></path></svg>',width:24,height:24},qqvideo:{body:'<svg t="1716186856310" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16273" width="24" height="24"><path d="M199.111111 0h625.777778c109.795556 0 199.111111 89.315556 199.111111 199.111111v625.777778c0 109.795556-89.315556 199.111111-199.111111 199.111111H199.111111c-109.795556 0-199.111111-89.315556-199.111111-199.111111V199.111111C0 89.315556 89.315556 0 199.111111 0z" fill="#FFFFFF" p-id="16274"></path><path d="M327.68 143.36c25.6-2.844444 51.768889 0.568889 75.662222 9.102222 52.906667 17.066667 104.675556 38.684444 154.737778 63.146667 84.195556 41.528889 164.977778 89.884444 242.346667 143.36 34.133333 22.755556 65.991111 48.924444 94.435555 78.506667 15.928889 18.204444 28.444444 40.96 26.168889 65.422222-3.413333 29.582222-23.893333 52.906667-44.373333 72.817778-84.195556 79.644444-176.924444 150.186667-276.48 209.92-51.2 30.72-105.813333 55.751111-162.133334 75.662222-36.408889 12.515556-74.524444 23.324444-113.208888 19.342222-23.324444-1.706667-44.942222-11.946667-60.871112-28.444444-13.084444-15.36-21.617778-33.564444-25.031111-52.906667l1.137778-1.706667c17.066667-3.982222 33.564444-9.102222 50.631111-13.084444 71.111111-18.204444 139.946667-44.373333 205.368889-77.368889 70.542222-34.133333 137.671111-73.955556 201.386667-119.466667 20.48-15.36 43.235556-30.72 55.182222-55.182222 7.964444-17.635556 6.826667-38.115556-3.982222-54.613333-12.515556-19.342222-29.013333-35.271111-48.355556-48.355556-21.617778-15.36-44.373333-29.582222-67.697778-42.666667-44.373333-26.737778-91.022222-49.493333-138.24-72.248888-54.044444-26.168889-109.795556-48.355556-167.253333-66.56-25.6-7.395556-51.2-15.36-76.8-22.186667 2.844444-11.377778 6.257778-22.755556 10.808889-33.564445 13.084444-26.168889 37.546667-44.942222 66.56-48.924444z" fill="#10ABF2" p-id="16275"></path><path d="M168.96 231.537778c23.893333-11.377778 51.768889-7.964444 76.8-3.413334-7.395556 33.564444-11.946667 67.697778-17.066667 101.831112-0.568889 14.791111-2.275556 29.013333-3.982222 43.804444-2.844444 18.204444-2.275556 36.977778-5.12 55.182222-0.568889 21.048889-1.706667 42.666667-2.275555 64.284445-2.275556 20.48-1.137778 41.528889-1.137778 62.008889 0 30.72-0.568889 62.008889 1.706666 92.728888 1.706667 47.217778 5.12 93.866667 11.377778 140.515556v6.826667c-23.893333 4.551111-51.768889 7.964444-73.955555-6.826667s-27.875556-42.097778-33.564445-65.991111c-13.084444-76.8-19.911111-154.737778-19.342222-233.244445 1.137778-40.96 5.12-81.351111 10.808889-121.742222 4.551111-32.995556 11.946667-65.422222 22.755555-97.28 5.688889-16.497778 17.635556-30.72 32.995556-38.684444z" fill="#FF8F21" p-id="16276"></path><path d="M246.897778 225.848889l5.12 0.568889c25.6 6.826667 51.2 14.791111 76.8 22.186666 57.457778 18.204444 113.208889 40.96 167.253333 67.128889 46.648889 23.324444 93.297778 46.08 138.24 72.248889 23.324444 13.084444 46.08 27.306667 67.697778 42.666667 19.342222 12.515556 35.271111 29.013333 48.355555 47.786667 10.808889 16.497778 11.946667 36.977778 3.982223 54.613333-11.377778 23.893333-34.702222 39.253333-55.182223 55.182222-63.715556 45.511111-130.844444 85.333333-201.386666 119.466667-65.991111 32.995556-134.826667 58.595556-205.937778 77.368889-17.066667 3.982222-33.564444 9.102222-50.631111 13.084444l-9.671111 1.706667c-0.568889-3.982222-1.137778-7.964444-1.706667-12.515556-6.257778-46.648889-9.671111-93.866667-11.377778-140.515555-3.413333-30.72-2.275556-62.008889-2.275555-92.728889-0.568889-20.48 0-41.528889 1.137778-62.008889 0.568889-21.048889 1.706667-42.666667 2.275555-64.284445 2.844444-18.204444 2.275556-36.977778 5.12-55.182222 1.706667-14.222222 3.413333-29.013333 3.982222-43.804444 5.12-34.133333 9.102222-68.266667 17.066667-101.831111l0.568889-2.275556 0.568889 1.137778z m96.711111 122.311111c-9.102222 3.413333-14.791111 11.946667-14.222222 21.048889-0.568889 13.653333-0.568889 27.306667 0.568889 40.96 0.568889 40.391111-0.568889 81.351111 0.568888 121.742222v108.088889c-1.137778 9.102222 2.844444 18.204444 10.808889 23.324444 9.102222 2.275556 19.342222 0.568889 26.737778-5.688888 65.422222-43.804444 131.413333-87.608889 196.835556-131.413334 7.964444-5.688889 17.066667-14.222222 15.928889-25.6-1.706667-10.24-8.533333-19.342222-18.204445-23.893333L362.951111 353.28c-5.688889-3.982222-12.515556-5.688889-19.342222-5.12z" fill="#7DE621" p-id="16277"></path><path d="M343.608889 348.16c6.826667-0.568889 13.653333 1.137778 19.342222 5.12l200.817778 124.017778c9.671111 4.551111 16.497778 13.084444 18.204444 23.893333 1.137778 10.808889-7.964444 19.342222-15.928889 25.6-65.422222 43.235556-131.413333 87.04-196.835555 130.844445-7.395556 5.688889-17.635556 7.964444-26.737778 5.688888-7.395556-5.12-11.377778-13.653333-10.808889-22.755555v-108.088889c-1.137778-40.391111 0-81.351111-0.568889-121.742222-1.137778-13.653333-1.706667-27.306667-1.137777-41.528889-1.137778-9.102222 5.12-17.635556 13.653333-21.048889z" fill="#FFFFFF" p-id="16278"></path></svg>',width:24,height:24},figma:{body:'<svg t="1716187077296" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17340" width="24" height="24"><path d="M512 512c0-94.4 76.8-171.2 171.2-171.2 94.4 0 171.2 76.8 171.2 171.2s-76.8 171.2-171.2 171.2C588.8 683.2 512 606.4 512 512z" fill="#1ABCFE" p-id="17341"></path><path d="M171.2 852.8c0-94.4 76.8-171.2 171.2-171.2H512v171.2C512 947.2 435.2 1024 340.8 1024s-169.6-76.8-169.6-171.2z" fill="#0ACF83" p-id="17342"></path><path d="M512 0v340.8h171.2c94.4 0 171.2-76.8 171.2-171.2S777.6 0 683.2 0H512z" fill="#FF7262" p-id="17343"></path><path d="M171.2 171.2c0 94.4 76.8 171.2 171.2 171.2H512V0H340.8c-94.4 0-169.6 76.8-169.6 171.2z" fill="#F24E1E" p-id="17344"></path><path d="M171.2 512c0 94.4 76.8 171.2 171.2 171.2H512V340.8H340.8c-94.4 0-169.6 76.8-169.6 171.2z" fill="#A259FF" p-id="17345"></path></svg>',width:24,height:24},canva:{body:'<svg t="1716187133225" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23499" width="24" height="24"><path d="M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.752 0 512 0zM297.056 327.68c32.16 0 57.056 23.424 59.936 51.2 2.944 24.864-7.296 46.816-35.072 60-14.624 7.296-20.48 7.328-23.424 2.944-1.44-2.944 0-5.856 2.944-8.8 26.336-21.92 26.336-39.52 23.392-64.352-1.44-16.128-13.152-26.368-24.864-26.368-51.2 0-124.32 114.08-114.08 197.504 4.384 32.16 23.424 70.24 64.384 70.24 13.152 0 27.744-4.384 40.96-10.24 21.344-11.264 34.08-20.064 46.816-34.144-3.104-37.76 30.048-87.296 78.976-87.296 21.984 0 39.52 8.736 40.96 24.864 2.912 21.92-16.096 24.832-21.92 24.832s-16.128-1.44-16.128-7.264c-1.44-5.888 13.184-2.976 11.744-16.128-1.504-8.8-10.24-11.68-19.04-11.68-30.72 0-48.256 42.4-43.904 68.736 1.504 11.744 7.328 23.424 19.072 23.424 8.736 0 21.92-13.216 26.336-32.224 2.912-13.152 14.624-21.92 24.864-21.92 4.352 0 7.264 1.44 8.736 7.296v5.888c-1.44 5.856-5.856 23.392-4.352 27.776 0 2.944 1.44 7.296 7.264 7.296 3.936 0 18.592-7.68 33.152-19.584 4.992-25.184 10.784-55.392 10.784-57.888 1.44-10.24 5.856-20.48 26.336-20.48 4.384 0 7.296 1.44 8.736 7.296v5.888l-5.792 26.336c18.976-24.864 46.816-42.4 64.352-42.4 7.328 0 13.184 4.352 13.184 11.68 0 4.384 0 11.68-2.944 19.04a474.88 474.88 0 0 0-17.568 62.88c0 5.856 1.504 11.68 8.832 11.68 7.296 0 29.216-8.8 46.752-32.16l0.288-0.16c-0.096-2.912-0.288-5.728-0.288-8.608 0-17.536 1.504-32.16 4.448-42.4 2.912-11.68 17.536-21.92 26.336-21.92 4.384 0 8.736 2.944 8.736 7.296 0 1.504 0 4.384-1.44 5.856-5.856 19.04-10.24 36.576-10.24 54.144 0 10.24 1.44 24.832 4.352 33.632 0 1.44 1.504 2.944 2.976 2.944 2.912 0 23.392-18.976 37.984-43.872-13.152-8.8-20.48-23.424-20.48-40.96 0-30.72 19.04-46.816 36.608-46.816 14.624 0 26.336 10.24 26.336 30.72 0 13.152-4.384 27.744-11.68 40.96h4.352l1.056 0.032c9.376 0 17.856-3.936 23.84-10.24a12.448 12.448 0 0 1 5.632-4.96l0.096-0.032c14.304-18.144 35.424-31.584 60.16-31.584 20.48 0 39.424 8.736 40.928 24.832 2.912 21.984-16.128 26.368-21.984 26.368l-0.096-0.096c-5.888 0-16.096-1.504-16.096-7.328s13.184-2.912 11.68-16.032c-1.44-8.8-10.24-11.744-19.04-11.744-29.28 0-48.224 38.016-43.872 68.736 1.44 11.744 7.296 24.864 18.976 24.864 8.8 0 21.984-13.152 27.808-32.16 2.912-11.68 14.624-21.92 24.864-21.92 4.384 0 7.264 1.44 8.736 7.296 0 2.944 0 8.8-5.856 27.808-7.264 13.152-7.296 20.48-5.856 26.336 1.44 11.68 7.296 20.48 13.184 24.864 1.44 1.44 2.912 4.352 2.912 4.352 0 2.944-1.44 5.888-5.856 5.888-1.44 0-2.912 0-4.384-1.504-21.92-8.736-30.72-23.392-33.664-38.016-8.736 10.24-18.976 16.096-30.72 16.096-18.976 0-37.984-17.536-40.96-39.52a68.8 68.8 0 0 1 3.328-28.192l-0.128 0.48c-8.672 5.536-18.016 8.672-26.592 8.672h-7.264c-19.072 27.808-39.552 46.848-54.176 55.584a38.048 38.048 0 0 1-16 4.448h-0.096c-2.912 0-7.296-1.504-8.736-4.448-4.064-6.496-6.656-16.736-8.224-28.448-20.512 22.496-48.864 34.336-61.984 34.336-14.624 0-23.392-8.8-24.832-23.456v-16.032c4.352-32.16 16.096-51.2 16.096-57.056a3.136 3.136 0 0 0-2.944-2.976c-10.24 0-43.872 35.168-49.76 58.592l-4.384 18.976c-2.912 13.184-16.096 21.984-24.832 21.984-4.384 0-7.328-1.504-8.8-7.328v-5.856l1.952-9.952c-18.56 13.216-37.12 21.664-45.856 21.664-13.152 0-20.48-7.328-21.92-17.568-8.8 11.68-18.976 17.568-32.16 17.568-15.008 0-29.696-10.24-36.768-25.312-10.4 11.744-22.304 23.584-36.352 32.608-20.48 13.184-43.872 23.424-71.68 23.424-24.832 0-46.816-13.184-58.496-24.864-17.568-16.096-27.776-40.96-29.28-64.384-8.736-71.68 35.104-163.84 102.4-204.8 16.128-8.736 32.224-14.624 48.288-14.624z m416.832 140.416c-4.448 0-7.328 7.328-7.328 14.624 0 11.68 5.856 24.864 13.184 32.224a72.64 72.64 0 0 0 4.352-24.864c0-14.624-5.856-21.984-10.208-21.984z" fill="#00C4CC" p-id="23500"></path></svg>',width:24,height:24},processon:{body:'<svg t="1716187155553" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="24554" width="24" height="24"><path d="M241.29537297 142.80465793C204.50619412 147.5843544 170.32412243 172.20703316 154.24696159 205.66490841 140.92174722 233.32921219 141.93562222 206.96846199 141.93562222 513.44839287c0 259.11748409 0.14483929 270.55978775 2.75194645 280.26401997C153.66760444 827.74964523 175.97285461 855.41394901 205.66490841 869.75303841c27.66430378 13.32521438 1.30355359 12.31133938 307.78348446 12.31133937 259.11748409 0 270.55978775-0.14483929 280.26401997-2.75194645 34.0372324-8.98003579 61.70153618-31.28528595 76.04062557-60.97733974 13.32521438-27.66430378 12.31133938-1.30355359 12.31133937-307.78348446 0-259.11748409-0.14483929-270.55978775-2.75194644-280.26401997C870.33239556 196.25035477 848.02714539 168.4412117 818.33509159 154.24696159c-27.66430378-13.32521438 0.43451786-12.16650009-301.26571655-12.45617866C370.4920168 141.64594364 246.364748 142.0804615 241.29537297 142.80465793z m158.59901905 177.28328706c36.06498242 6.37292861 62.42573261 19.40846443 87.48292923 43.59662532 25.63655377 24.76751804 42.29307175 56.19764328 50.83858967 96.46296502 3.76582146 17.5255537 5.35905361 60.25314331 2.89678573 80.24096489-11.29746438 92.40746498-66.62607193 152.22609043-152.08125115 164.39259052-19.11878586 2.60710716-54.02505397 1.013875-71.4057684-3.47614289-66.48123264-17.38071443-111.52625084-69.0883398-125.28598308-144.40476894-3.47614289-18.97394658-3.47614289-66.33639336-0.14483928-84.73098278 4.20033931-22.30525017 9.55939293-38.38241101 19.26362514-57.93571472 16.51167869-33.31303597 36.64433956-55.47344685 66.62607193-73.5783577 15.64264297-9.26971435 41.42403603-18.24975014 60.97733975-21.14653587 14.48392868-2.1725893 46.92792893-1.73807144 60.83250046 0.57935715z m360.21530628 104.28428649c29.11269665 6.08325005 53.73537541 27.66430378 65.03283977 56.77700043 8.98003579 23.0294466 8.83519649 21.43621445 9.41455365 124.56178665l0.57935714 94.58005429H765.46875191v-83.71710778c0-91.82810783-0.28967857-95.73876858-8.69035721-112.82980442-7.53164291-15.20812511-19.26362514-22.73976803-38.52725029-24.62267876-21.14653587-2.02775002-43.30694676 11.29746438-53.88021469 32.15432167-5.64873218 11.15262508-6.08325005 19.84298229-6.08325005 106.02235795V700.29107285h-69.23317909l-0.72419643-132.23826885c-0.43451786-72.56448269-1.30355359-133.831501-1.73807144-136.1489296l-1.01387502-3.91066075h30.41625024c27.80914307 0 30.56108952 0.28967857 31.28528595 2.46226787 0.43451786 1.44839287 1.1587143 10.13875008 1.73807143 19.26362515 0.43451786 9.12487507 1.1587143 17.09103584 1.59323216 17.81523227 0.28967857 0.57935715 3.47614289-2.75194645 6.80744648-7.38680361 13.32521438-17.96007157 35.77530383-31.57496453 60.39798259-36.354661 10.13875008-2.02775002 31.57496453-1.73807144 42.29307176 0.57935715z" fill="#067bef" p-id="24555"></path><path d="M342.82771302 376.43042755c-15.49780369 3.76582146-29.11269665 11.87682152-42.29307176 25.34687519-17.5255537 17.67039299-26.79526807 36.49950027-33.60271453 67.49510765-4.05550003 18.68426799-5.06937504 57.64603615-2.02775002 76.33030414 10.71810723 65.46735764 48.08664322 104.2842865 100.80814362 104.57396508 16.80135728 0 26.21591092-2.02775002 41.27919674-9.26971435 39.39628601-18.82910728 61.84637546-66.19155407 61.70153617-130.35535813-0.14483929-49.24535752-14.3390894-87.62776852-42.00339317-113.26432229-11.29746438-10.42842865-23.89848232-17.38071443-37.94789314-20.712018-11.15262508-2.60710716-35.19594669-2.60710716-45.91405391-0.14483929z" fill="#067bef" p-id="24556"></path></svg>',width:24,height:24},codepen:{body:'<svg t="1716187324883" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="25725" id="mx_n_1716187324884" width="24" height="24"><path d="M0 512a512 512 0 1 0 1024 0A512 512 0 1 0 0 512z" fill="#030502" p-id="25726"></path><path d="M840.277 383.595l-312-208a29.333 29.333 0 0 0-32.554 0l-312 208A29.717 29.717 0 0 0 170.667 408v208c0 10.07 5.397 19.35 13.056 24.405l312 208a29.333 29.333 0 0 0 32.554 0l312-208c7.531-4.906 13.056-14.229 13.056-24.405V408c0-9.45-4.842-18.987-13.056-24.405zM541.333 254.827L771.18 408.043l-102.656 68.672-127.19-85.078v-136.81z m-58.666 0v136.81l-127.168 85.078L252.82 408.02l229.846-153.194zM229.333 462.912l73.387 49.067-73.387 49.109v-98.176z m253.334 306.261L252.8 615.957l102.677-68.65 127.147 85.056v136.81zM512 581.397L408.256 512 512 442.603 615.744 512 512 581.397z m29.333 187.776v-136.81l127.19-85.056 102.656 68.65-229.846 153.216z m253.334-208.085L721.28 512l73.387-49.088v98.155z" fill="#FFFFFF" p-id="25727"></path></svg>',width:24,height:24},jinshuju:{body:'<svg t="1716187349707" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="26820" width="24" height="24"><path d="M697.7024 128.5632c-17.8688 10.24-33.28 20.4288-49.5104 32.6144-15.872 12.0832-18.944 14.8992-38.4 34.2016-46.5408 46.6432-69.2224 96.4608-67.6864 149.3504 0.3072 11.4688 0.8704 16.7424 4.096 34.2016 1.3312 6.7584 8.1408 26.7776 12.9536 37.6832 9.9328 22.528 24.832 41.472 35.584 45.0048 13.2096 4.352 38.144 1.1264 63.3856-8.0896 28.9792-10.752 48.64-22.7328 66.0992-40.1408 29.7984-29.7984 44.288-66.6624 44.3904-112.896 0-13.824-2.2528-37.888-4.2496-46.08-0.4096-2.048-1.1264-5.12-1.3824-7.168-3.0208-16.6912-13.5168-49.6128-23.3984-73.8816-7.2704-17.408-23.7056-52.0192-25.3952-53.0432a101.12 101.12 0 0 0-16.4864 8.2432z m-577.28-5.12c0.3072 1.4336 1.024 7.936 1.536 14.6432 0.6144 6.656 1.1776 13.0048 1.4336 14.1824 0.4608 2.0992 1.7408 12.1856 2.8672 20.5312 0.512 4.8128 4.8128 31.0784 5.632 35.4816 24.1664 123.0848 59.5968 201.4208 112.7936 249.344a153.6 153.6 0 0 0 66.6624 34.8672c13.312 3.0208 16.7424 3.2768 31.8976 3.584 28.3648 0.512 66.0992-5.9904 90.368-15.616 30.9248-12.1856 46.3872-28.672 53.4528-56.832 4.608-17.7664 4.7104-19.6096 5.12-48.6912 0.3072-26.112-1.024-40.2944-5.5296-60.7232-6.656-29.6448-31.744-65.0752-59.392-83.8144-28.2624-18.9952-49.408-26.624-141.4656-51.2-47.9232-12.8-133.7344-42.5472-155.5968-54.0672-9.0624-4.8128-10.3424-4.9664-9.728-1.6896z m657.5616 357.9904c-12.9024 1.536-20.2752 2.8672-26.2144 4.4032l-8.3968 2.048c-6.912 1.2288-23.552 10.752-31.0272 17.5616-17.3056 15.872-30.7712 42.0864-37.5808 73.728-4.864 22.272-3.6864 39.9872 3.3792 49.2032 12.1856 16.0256 58.4192 32.256 91.0848 31.7952 35.1744-0.4096 73.0112-25.9584 101.12-68.2496 8.8064-13.0048 22.6816-37.6832 23.3984-41.1136 0-0.4096 1.536-3.9936 3.2768-7.7824 7.3728-16.0256 17.5616-45.6704 16.4352-47.5136a18.7904 18.7904 0 0 0-7.2192-2.1504 94.1056 94.1056 0 0 1-9.5232-1.536c-3.072-0.5632-31.3344-5.8368-37.888-6.9632-22.272-3.84-63.232-5.5296-80.8448-3.4304z m-358.4 40.2944c3.9424-1.9968 16.2816-8.3456 27.2384-14.1824 10.9056-5.632 20.5312-10.496 21.4016-10.496 0.7168-0.1536 13.4656 14.4896 28.3648 32.3584 14.7456 17.8688 28.3648 33.28 30.3616 34.1504 15.616 7.5264 38.144-4.6592 65.6384-35.328 3.1232-3.3792 6.144-5.4784 6.656-4.9152 0.768 0.6656 1.5872 5.2224 2.1504 10.0352 0.4608 4.864 1.1264 10.24 1.4336 12.0832 0.4096 1.8432 1.1264 6.0928 1.536 9.6256l3.4304 24.1152 0.1024 0.8704c2.7136 18.944 2.7136 18.9952-6.656 28.928-27.8016 29.6448-54.5792 71.7824-64.8192 102.2464a254.208 254.208 0 0 0-8.7552 36.0448l-1.4336 11.3152c-1.9968 15.0528-2.9696 41.5744-1.6896 47.5648 2.9696 13.8752 7.2192 21.9648 16.0256 29.6448 10.24 8.9088 23.2448 14.4384 43.8272 18.432 15.872 3.072 62.4128 0.8192 86.3744-4.096 3.84-0.8704 7.2192-1.3312 7.5264-0.8704a18.176 18.176 0 0 1 1.1264 5.2224l1.4336 9.7792c0.4096 2.7136 0.9728 7.2704 1.2288 9.9328 1.5872 12.6464 2.56 19.3024 3.0208 21.2992 0.256 1.1264 1.024 5.632 1.3824 10.0864l0.8704 7.936-202.24 0.256-202.4448 0.1536 1.024-10.24c0.512-5.632 1.28-11.3152 1.4336-12.4416 0.256-1.1264 0.8192-5.9904 1.2288-10.6496l1.536-11.3664a35.0208 35.0208 0 0 0 0.6144-5.12c0.1536-1.9456 1.9968-2.4064 11.9296-2.4064 6.3488 0 13.6192-0.4096 15.872-0.8192 2.4064-0.4096 5.8368-1.1264 7.68-1.536 18.1248-3.584 41.5232-17.7664 56.832-34.3552 6.2464-6.656 22.7328-30.0544 22.7328-32.2048 0-0.256 2.56-5.12 5.632-10.6496 10.8032-19.712 23.8592-55.6032 33.3824-91.648 3.7888-14.2848 4.9152-34.304 2.9696-48.1792a248.6272 248.6272 0 0 0-6.8096-34.7648c-4.5568-18.8416-15.36-52.224-22.4256-69.3248a137.0624 137.0624 0 0 1-4.2496-11.6736c0-0.6656 3.3792-2.816 7.5264-4.8128z m-202.8544 24.9856a217.5488 217.5488 0 0 0-65.0752 17.7152c-17.6128 7.5264-29.696 14.336-29.5424 16.5888 0.3072 4.2496 59.5968 84.1216 72.0896 97.1776 11.776 12.288 27.8016 23.3984 39.2704 27.0848 14.4896 4.6592 32.0512 5.12 48.2304 1.4336 30.5152-7.1168 42.3936-15.616 47.2576-33.9456 1.9456-7.7824 2.0992-38.9632 0.1024-48.896-8.0896-41.2672-27.8016-65.024-61.1328-73.728a155.7504 155.7504 0 0 0-51.2-3.4304z" fill="#FE8432" p-id="26821"></path></svg>',width:24,height:24}}})}const Uz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Wz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Kz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,qz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Gz=St.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",xe(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[kr({find:Uz,type:this.type}),kr({find:Kz,type:this.type})]},addPasteRules(){return[No({find:Wz,type:this.type}),No({find:qz,type:this.type})]}}).extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:ne,componentProps:{action:()=>e.commands.toggleBold(),isActive:()=>e.isActive("bold")||!1,disabled:!e.can().toggleBold(),icon:"Bold",shortcutKeys:["mod","B"],tooltip:n("editor.bold.tooltip")}})}}}),Jz=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Yz=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Xz=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Zz=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Qz=St.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",xe(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[kr({find:Jz,type:this.type}),kr({find:Xz,type:this.type})]},addPasteRules(){return[No({find:Yz,type:this.type}),No({find:Zz,type:this.type})]}}).extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button({editor:e,t:n}){return{component:ne,componentProps:{action:()=>e.commands.toggleItalic(),isActive:()=>e.isActive("italic")||!1,disabled:!e.can().toggleItalic(),shortcutKeys:["mod","I"],icon:"Italic",tooltip:n("editor.italic.tooltip")}}}}}}),eF=St.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",xe(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}).extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button({editor:e,t:n}){return{component:ne,componentProps:{action:()=>e.commands.toggleUnderline(),isActive:()=>e.isActive("underline")||!1,disabled:!e.can().toggleUnderline(),icon:"Underline",shortcutKeys:["mod","U"],tooltip:n("editor.underline.tooltip")}}}}}}),tF=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,nF=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,oF=St.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",xe(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[kr({find:tF,type:this.type})]},addPasteRules(){return[No({find:nF,type:this.type})]}}).extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:ne,componentProps:{action:()=>e.commands.toggleStrike(),isActive:()=>e.isActive("strike")||!1,disabled:!e.can().toggleStrike(),icon:"Strikethrough",shortcutKeys:["shift","mod","X"],tooltip:n("editor.strike.tooltip")}})}}}),rF=/(^|[^`])`([^`]+)`(?!`)/,iF=/(^|[^`])`([^`]+)`(?!`)/g,sF=St.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",xe(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[kr({find:rF,type:this.type})]},addPasteRules(){return[No({find:iF,type:this.type})]}}).extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),toolbar:!1,button:({editor:e,t:n})=>({component:ne,componentProps:{action:()=>e.commands.toggleCode(),isActive:()=>e.isActive("code")||!1,disabled:!e.can().toggleCode(),icon:"Code",shortcutKeys:["mod","E"],tooltip:n("editor.code.tooltip")}})}}}),aF=/^```([a-z]+)?[\s\n]$/,lF=/^~~~([a-z]+)?[\s\n]$/,cF=Pe.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",xe(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:o,empty:r}=n;if(!r||o.parent.type!==this.type)return!1;const s=o.parentOffset===o.parent.nodeSize-2,a=o.parent.textContent.endsWith(`

`);return!s||!a?!1:t.chain().command(({tr:l})=>(l.delete(o.pos-2,o.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:o}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const l=r.after();return l===void 0?!1:o.nodeAt(l)?t.commands.command(({tr:d})=>(d.setSelection(ee.near(o.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[vf({find:aF,type:this.type,getAttributes:t=>({language:t[1]})}),vf({find:lF,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new ge({key:new ye("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),o=e.clipboardData.getData("vscode-editor-data"),r=o?JSON.parse(o):void 0,s=r==null?void 0:r.mode;if(!n||!s)return!1;const{tr:a,schema:l}=t.state,c=l.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},c)),a.selection.$from.parent.type!==this.type&&a.setSelection(Y.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}});function dF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vC(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(e=>{const n=t[e],o=typeof n;(o==="object"||o==="function")&&!Object.isFrozen(n)&&vC(n)}),t}class AC{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function MC(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function tr(t,...e){const n=Object.create(null);for(const o in t)n[o]=t[o];return e.forEach(function(o){for(const r in o)n[r]=o[r]}),n}const uF="</span>",_C=t=>!!t.scope,fF=(t,{prefix:e})=>{if(t.startsWith("language:"))return t.replace("language:","language-");if(t.includes(".")){const n=t.split(".");return[`${e}${n.shift()}`,...n.map((o,r)=>`${o}${"_".repeat(r+1)}`)].join(" ")}return`${e}${t}`};class pF{constructor(e,n){this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){this.buffer+=MC(e)}openNode(e){if(!_C(e))return;const n=fF(e.scope,{prefix:this.classPrefix});this.span(n)}closeNode(e){_C(e)&&(this.buffer+=uF)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const TC=(t={})=>{const e={children:[]};return Object.assign(e,t),e};class Em{constructor(){this.rootNode=TC(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const n=TC({scope:e});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){return typeof n=="string"?e.addText(n):n.children&&(e.openNode(n),n.children.forEach(o=>this._walk(e,o)),e.closeNode(n)),e}static _collapse(e){typeof e!="string"&&e.children&&(e.children.every(n=>typeof n=="string")?e.children=[e.children.join("")]:e.children.forEach(n=>{Em._collapse(n)}))}}class hF extends Em{constructor(e){super(),this.options=e}addText(e){e!==""&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,n){const o=e.root;n&&(o.scope=`language:${n}`),this.add(o)}toHTML(){return new pF(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function Ra(t){return t?typeof t=="string"?t:t.source:null}function BC(t){return zr("(?=",t,")")}function mF(t){return zr("(?:",t,")*")}function gF(t){return zr("(?:",t,")?")}function zr(...t){return t.map(n=>Ra(n)).join("")}function yF(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function vm(...t){return"("+(yF(t).capture?"":"?:")+t.map(o=>Ra(o)).join("|")+")"}function OC(t){return new RegExp(t.toString()+"|").exec("").length-1}function bF(t,e){const n=t&&t.exec(e);return n&&n.index===0}const wF=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Am(t,{joinWith:e}){let n=0;return t.map(o=>{n+=1;const r=n;let s=Ra(o),a="";for(;s.length>0;){const l=wF.exec(s);if(!l){a+=s;break}a+=s.substring(0,l.index),s=s.substring(l.index+l[0].length),l[0][0]==="\\"&&l[1]?a+="\\"+String(Number(l[1])+r):(a+=l[0],l[0]==="("&&n++)}return a}).map(o=>`(${o})`).join(e)}const xF=/\b\B/,NC="[a-zA-Z]\\w*",Mm="[a-zA-Z_]\\w*",PC="\\b\\d+(\\.\\d+)?",IC="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",DC="\\b(0b[01]+)",kF="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",CF=(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=zr(e,/.*\b/,t.binary,/\b.*/)),tr({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(n,o)=>{n.index!==0&&o.ignoreMatch()}},t)},La={begin:"\\\\[\\s\\S]",relevance:0},SF={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[La]},EF={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[La]},vF={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Cd=function(t,e,n={}){const o=tr({scope:"comment",begin:t,end:e,contains:[]},n);o.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const r=vm("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return o.contains.push({begin:zr(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),o},AF=Cd("//","$"),MF=Cd("/\\*","\\*/"),_F=Cd("#","$"),TF={scope:"number",begin:PC,relevance:0},BF={scope:"number",begin:IC,relevance:0},OF={scope:"number",begin:DC,relevance:0},NF={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[La,{begin:/\[/,end:/\]/,relevance:0,contains:[La]}]},PF={scope:"title",begin:NC,relevance:0},IF={scope:"title",begin:Mm,relevance:0},DF={begin:"\\.\\s*"+Mm,relevance:0};var Sd=Object.freeze({__proto__:null,APOS_STRING_MODE:SF,BACKSLASH_ESCAPE:La,BINARY_NUMBER_MODE:OF,BINARY_NUMBER_RE:DC,COMMENT:Cd,C_BLOCK_COMMENT_MODE:MF,C_LINE_COMMENT_MODE:AF,C_NUMBER_MODE:BF,C_NUMBER_RE:IC,END_SAME_AS_BEGIN:function(t){return Object.assign(t,{"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{n.data._beginMatch!==e[1]&&n.ignoreMatch()}})},HASH_COMMENT_MODE:_F,IDENT_RE:NC,MATCH_NOTHING_RE:xF,METHOD_GUARD:DF,NUMBER_MODE:TF,NUMBER_RE:PC,PHRASAL_WORDS_MODE:vF,QUOTE_STRING_MODE:EF,REGEXP_MODE:NF,RE_STARTERS_RE:kF,SHEBANG:CF,TITLE_MODE:PF,UNDERSCORE_IDENT_RE:Mm,UNDERSCORE_TITLE_MODE:IF});function RF(t,e){t.input[t.index-1]==="."&&e.ignoreMatch()}function LF(t,e){t.className!==void 0&&(t.scope=t.className,delete t.className)}function $F(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=RF,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,t.relevance===void 0&&(t.relevance=0))}function VF(t,e){Array.isArray(t.illegal)&&(t.illegal=vm(...t.illegal))}function zF(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function FF(t,e){t.relevance===void 0&&(t.relevance=1)}const HF=(t,e)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},t);Object.keys(t).forEach(o=>{delete t[o]}),t.keywords=n.keywords,t.begin=zr(n.beforeMatch,BC(n.begin)),t.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},t.relevance=0,delete n.beforeMatch},jF=["of","and","for","in","not","or","if","then","parent","list","value"],UF="keyword";function RC(t,e,n=UF){const o=Object.create(null);return typeof t=="string"?r(n,t.split(" ")):Array.isArray(t)?r(n,t):Object.keys(t).forEach(function(s){Object.assign(o,RC(t[s],e,s))}),o;function r(s,a){e&&(a=a.map(l=>l.toLowerCase())),a.forEach(function(l){const c=l.split("|");o[c[0]]=[s,WF(c[0],c[1])]})}}function WF(t,e){return e?Number(e):KF(t)?0:1}function KF(t){return jF.includes(t.toLowerCase())}const LC={},Fr=t=>{console.error(t)},$C=(t,...e)=>{console.log(`WARN: ${t}`,...e)},Qi=(t,e)=>{LC[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),LC[`${t}/${e}`]=!0)},Ed=new Error;function VC(t,e,{key:n}){let o=0;const r=t[n],s={},a={};for(let l=1;l<=e.length;l++)a[l+o]=r[l],s[l+o]=!0,o+=OC(e[l-1]);t[n]=a,t[n]._emit=s,t[n]._multi=!0}function qF(t){if(Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw Fr("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Ed;if(typeof t.beginScope!="object"||t.beginScope===null)throw Fr("beginScope must be object"),Ed;VC(t,t.begin,{key:"beginScope"}),t.begin=Am(t.begin,{joinWith:""})}}function GF(t){if(Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw Fr("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Ed;if(typeof t.endScope!="object"||t.endScope===null)throw Fr("endScope must be object"),Ed;VC(t,t.end,{key:"endScope"}),t.end=Am(t.end,{joinWith:""})}}function JF(t){t.scope&&typeof t.scope=="object"&&t.scope!==null&&(t.beginScope=t.scope,delete t.scope)}function YF(t){JF(t),typeof t.beginScope=="string"&&(t.beginScope={_wrap:t.beginScope}),typeof t.endScope=="string"&&(t.endScope={_wrap:t.endScope}),qF(t),GF(t)}function XF(t){function e(a,l){return new RegExp(Ra(a),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(l?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(l,c){c.position=this.position++,this.matchIndexes[this.matchAt]=c,this.regexes.push([c,l]),this.matchAt+=OC(l)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const l=this.regexes.map(c=>c[1]);this.matcherRe=e(Am(l,{joinWith:"|"}),!0),this.lastIndex=0}exec(l){this.matcherRe.lastIndex=this.lastIndex;const c=this.matcherRe.exec(l);if(!c)return null;const d=c.findIndex((f,p)=>p>0&&f!==void 0),u=this.matchIndexes[d];return c.splice(0,d),Object.assign(c,u)}}class o{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(l){if(this.multiRegexes[l])return this.multiRegexes[l];const c=new n;return this.rules.slice(l).forEach(([d,u])=>c.addRule(d,u)),c.compile(),this.multiRegexes[l]=c,c}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(l,c){this.rules.push([l,c]),c.type==="begin"&&this.count++}exec(l){const c=this.getMatcher(this.regexIndex);c.lastIndex=this.lastIndex;let d=c.exec(l);if(this.resumingScanAtSamePosition()&&!(d&&d.index===this.lastIndex)){const u=this.getMatcher(0);u.lastIndex=this.lastIndex+1,d=u.exec(l)}return d&&(this.regexIndex+=d.position+1,this.regexIndex===this.count&&this.considerAll()),d}}function r(a){const l=new o;return a.contains.forEach(c=>l.addRule(c.begin,{rule:c,type:"begin"})),a.terminatorEnd&&l.addRule(a.terminatorEnd,{type:"end"}),a.illegal&&l.addRule(a.illegal,{type:"illegal"}),l}function s(a,l){const c=a;if(a.isCompiled)return c;[LF,zF,YF,HF].forEach(u=>u(a,l)),t.compilerExtensions.forEach(u=>u(a,l)),a.__beforeBegin=null,[$F,VF,FF].forEach(u=>u(a,l)),a.isCompiled=!0;let d=null;return typeof a.keywords=="object"&&a.keywords.$pattern&&(a.keywords=Object.assign({},a.keywords),d=a.keywords.$pattern,delete a.keywords.$pattern),d=d||/\w+/,a.keywords&&(a.keywords=RC(a.keywords,t.case_insensitive)),c.keywordPatternRe=e(d,!0),l&&(a.begin||(a.begin=/\B|\b/),c.beginRe=e(c.begin),!a.end&&!a.endsWithParent&&(a.end=/\B|\b/),a.end&&(c.endRe=e(c.end)),c.terminatorEnd=Ra(c.end)||"",a.endsWithParent&&l.terminatorEnd&&(c.terminatorEnd+=(a.end?"|":"")+l.terminatorEnd)),a.illegal&&(c.illegalRe=e(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map(function(u){return ZF(u==="self"?a:u)})),a.contains.forEach(function(u){s(u,c)}),a.starts&&s(a.starts,l),c.matcher=r(c),c}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=tr(t.classNameAliases||{}),s(t)}function zC(t){return t?t.endsWithParent||zC(t.starts):!1}function ZF(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return tr(t,{variants:null},e)})),t.cachedVariants?t.cachedVariants:zC(t)?tr(t,{starts:t.starts?tr(t.starts):null}):Object.isFrozen(t)?tr(t):t}var QF="11.10.0";class eH extends Error{constructor(e,n){super(e),this.name="HTMLInjectionError",this.html=n}}const _m=MC,FC=tr,HC=Symbol("nomatch"),tH=7,jC=function(t){const e=Object.create(null),n=Object.create(null),o=[];let r=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let l={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:hF};function c(A){return l.noHighlightRe.test(A)}function d(A){let N=A.className+" ";N+=A.parentNode?A.parentNode.className:"";const D=l.languageDetectRe.exec(N);if(D){const F=_(D[1]);return F||($C(s.replace("{}",D[1])),$C("Falling back to no-highlight mode for this block.",A)),F?D[1]:"no-highlight"}return N.split(/\s+/).find(F=>c(F)||_(F))}function u(A,N,D){let F="",z="";typeof N=="object"?(F=A,D=N.ignoreIllegals,z=N.language):(Qi("10.7.0","highlight(lang, code, ...args) has been deprecated."),Qi("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),z=A,F=N),D===void 0&&(D=!0);const Q={code:F,language:z};U("before:highlight",Q);const ue=Q.result?Q.result:f(Q.language,Q.code,D);return ue.code=Q.code,U("after:highlight",ue),ue}function f(A,N,D,F){const z=Object.create(null);function Q(j,q){return j.keywords[q]}function ue(){if(!te.keywords){De.addText(Se);return}let j=0;te.keywordPatternRe.lastIndex=0;let q=te.keywordPatternRe.exec(Se),le="";for(;q;){le+=Se.substring(j,q.index);const Ee=ht.case_insensitive?q[0].toLowerCase():q[0],ot=Q(te,Ee);if(ot){const[un,fg]=ot;if(De.addText(le),le="",z[Ee]=(z[Ee]||0)+1,z[Ee]<=tH&&(en+=fg),un.startsWith("_"))le+=q[0];else{const P=ht.classNameAliases[un]||un;be(q[0],P)}}else le+=q[0];j=te.keywordPatternRe.lastIndex,q=te.keywordPatternRe.exec(Se)}le+=Se.substring(j),De.addText(le)}function ie(){if(Se==="")return;let j=null;if(typeof te.subLanguage=="string"){if(!e[te.subLanguage]){De.addText(Se);return}j=f(te.subLanguage,Se,!0,Qt[te.subLanguage]),Qt[te.subLanguage]=j._top}else j=h(Se,te.subLanguage.length?te.subLanguage:null);te.relevance>0&&(en+=j.relevance),De.__addSublanguage(j._emitter,j.language)}function se(){te.subLanguage!=null?ie():ue(),Se=""}function be(j,q){j!==""&&(De.startScope(q),De.addText(j),De.endScope())}function me(j,q){let le=1;const Ee=q.length-1;for(;le<=Ee;){if(!j._emit[le]){le++;continue}const ot=ht.classNameAliases[j[le]]||j[le],un=q[le];ot?be(un,ot):(Se=un,ue(),Se=""),le++}}function _e(j,q){return j.scope&&typeof j.scope=="string"&&De.openNode(ht.classNameAliases[j.scope]||j.scope),j.beginScope&&(j.beginScope._wrap?(be(Se,ht.classNameAliases[j.beginScope._wrap]||j.beginScope._wrap),Se=""):j.beginScope._multi&&(me(j.beginScope,q),Se="")),te=Object.create(j,{parent:{value:te}}),te}function Ge(j,q,le){let Ee=bF(j.endRe,le);if(Ee){if(j["on:end"]){const ot=new AC(j);j["on:end"](q,ot),ot.isMatchIgnored&&(Ee=!1)}if(Ee){for(;j.endsParent&&j.parent;)j=j.parent;return j}}if(j.endsWithParent)return Ge(j.parent,q,le)}function ve(j){return te.matcher.regexIndex===0?(Se+=j[0],1):(cr=!0,0)}function wt(j){const q=j[0],le=j.rule,Ee=new AC(le),ot=[le.__beforeBegin,le["on:begin"]];for(const un of ot)if(un&&(un(j,Ee),Ee.isMatchIgnored))return ve(q);return le.skip?Se+=q:(le.excludeBegin&&(Se+=q),se(),!le.returnBegin&&!le.excludeBegin&&(Se=q)),_e(le,j),le.returnBegin?0:q.length}function Zt(j){const q=j[0],le=N.substring(j.index),Ee=Ge(te,j,le);if(!Ee)return HC;const ot=te;te.endScope&&te.endScope._wrap?(se(),be(q,te.endScope._wrap)):te.endScope&&te.endScope._multi?(se(),me(te.endScope,j)):ot.skip?Se+=q:(ot.returnEnd||ot.excludeEnd||(Se+=q),se(),ot.excludeEnd&&(Se=q));do te.scope&&De.closeNode(),!te.skip&&!te.subLanguage&&(en+=te.relevance),te=te.parent;while(te!==Ee.parent);return Ee.starts&&_e(Ee.starts,j),ot.returnEnd?0:q.length}function dn(){const j=[];for(let q=te;q!==ht;q=q.parent)q.scope&&j.unshift(q.scope);j.forEach(q=>De.openNode(q))}let mo={};function Jr(j,q){const le=q&&q[0];if(Se+=j,le==null)return se(),0;if(mo.type==="begin"&&q.type==="end"&&mo.index===q.index&&le===""){if(Se+=N.slice(q.index,q.index+1),!r){const Ee=new Error(`0 width match regex (${A})`);throw Ee.languageName=A,Ee.badRule=mo.rule,Ee}return 1}if(mo=q,q.type==="begin")return wt(q);if(q.type==="illegal"&&!D){const Ee=new Error('Illegal lexeme "'+le+'" for mode "'+(te.scope||"<unnamed>")+'"');throw Ee.mode=te,Ee}else if(q.type==="end"){const Ee=Zt(q);if(Ee!==HC)return Ee}if(q.type==="illegal"&&le==="")return 1;if(lr>1e5&&lr>q.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Se+=le,le.length}const ht=_(A);if(!ht)throw Fr(s.replace("{}",A)),new Error('Unknown language: "'+A+'"');const Yr=XF(ht);let ar="",te=F||Yr;const Qt={},De=new l.__emitter(l);dn();let Se="",en=0,zt=0,lr=0,cr=!1;try{if(ht.__emitTokens)ht.__emitTokens(N,De);else{for(te.matcher.considerAll();;){lr++,cr?cr=!1:te.matcher.considerAll(),te.matcher.lastIndex=zt;const j=te.matcher.exec(N);if(!j)break;const q=N.substring(zt,j.index),le=Jr(q,j);zt=j.index+le}Jr(N.substring(zt))}return De.finalize(),ar=De.toHTML(),{language:A,value:ar,relevance:en,illegal:!1,_emitter:De,_top:te}}catch(j){if(j.message&&j.message.includes("Illegal"))return{language:A,value:_m(N),illegal:!0,relevance:0,_illegalBy:{message:j.message,index:zt,context:N.slice(zt-100,zt+100),mode:j.mode,resultSoFar:ar},_emitter:De};if(r)return{language:A,value:_m(N),illegal:!1,relevance:0,errorRaised:j,_emitter:De,_top:te};throw j}}function p(A){const N={value:_m(A),illegal:!1,relevance:0,_top:a,_emitter:new l.__emitter(l)};return N._emitter.addText(A),N}function h(A,N){N=N||l.languages||Object.keys(e);const D=p(A),F=N.filter(_).filter(T).map(se=>f(se,A,!1));F.unshift(D);const z=F.sort((se,be)=>{if(se.relevance!==be.relevance)return be.relevance-se.relevance;if(se.language&&be.language){if(_(se.language).supersetOf===be.language)return 1;if(_(be.language).supersetOf===se.language)return-1}return 0}),[Q,ue]=z,ie=Q;return ie.secondBest=ue,ie}function m(A,N,D){const F=N&&n[N]||D;A.classList.add("hljs"),A.classList.add(`language-${F}`)}function g(A){let N=null;const D=d(A);if(c(D))return;if(U("before:highlightElement",{el:A,language:D}),A.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",A);return}if(A.children.length>0&&(l.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(A)),l.throwUnescapedHTML))throw new eH("One of your code blocks includes unescaped HTML.",A.innerHTML);N=A;const F=N.textContent,z=D?u(F,{language:D,ignoreIllegals:!0}):h(F);A.innerHTML=z.value,A.dataset.highlighted="yes",m(A,D,z.language),A.result={language:z.language,re:z.relevance,relevance:z.relevance},z.secondBest&&(A.secondBest={language:z.secondBest.language,relevance:z.secondBest.relevance}),U("after:highlightElement",{el:A,result:z,text:F})}function y(A){l=FC(l,A)}const b=()=>{w(),Qi("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function x(){w(),Qi("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let k=!1;function w(){if(document.readyState==="loading"){k=!0;return}document.querySelectorAll(l.cssSelector).forEach(g)}function C(){k&&w()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",C,!1);function S(A,N){let D=null;try{D=N(t)}catch(F){if(Fr("Language definition for '{}' could not be registered.".replace("{}",A)),r)Fr(F);else throw F;D=a}D.name||(D.name=A),e[A]=D,D.rawDefinition=N.bind(null,t),D.aliases&&E(D.aliases,{languageName:A})}function v(A){delete e[A];for(const N of Object.keys(n))n[N]===A&&delete n[N]}function B(){return Object.keys(e)}function _(A){return A=(A||"").toLowerCase(),e[A]||e[n[A]]}function E(A,{languageName:N}){typeof A=="string"&&(A=[A]),A.forEach(D=>{n[D.toLowerCase()]=N})}function T(A){const N=_(A);return N&&!N.disableAutodetect}function M(A){A["before:highlightBlock"]&&!A["before:highlightElement"]&&(A["before:highlightElement"]=N=>{A["before:highlightBlock"](Object.assign({block:N.el},N))}),A["after:highlightBlock"]&&!A["after:highlightElement"]&&(A["after:highlightElement"]=N=>{A["after:highlightBlock"](Object.assign({block:N.el},N))})}function $(A){M(A),o.push(A)}function L(A){const N=o.indexOf(A);N!==-1&&o.splice(N,1)}function U(A,N){const D=A;o.forEach(function(F){F[D]&&F[D](N)})}function O(A){return Qi("10.7.0","highlightBlock will be removed entirely in v12.0"),Qi("10.7.0","Please use highlightElement now."),g(A)}Object.assign(t,{highlight:u,highlightAuto:h,highlightAll:w,highlightElement:g,highlightBlock:O,configure:y,initHighlighting:b,initHighlightingOnLoad:x,registerLanguage:S,unregisterLanguage:v,listLanguages:B,getLanguage:_,registerAliases:E,autoDetection:T,inherit:FC,addPlugin:$,removePlugin:L}),t.debugMode=function(){r=!1},t.safeMode=function(){r=!0},t.versionString=QF,t.regex={concat:zr,lookahead:BC,either:vm,optional:gF,anyNumberOfTimes:mF};for(const A in Sd)typeof Sd[A]=="object"&&vC(Sd[A]);return Object.assign(t,Sd),t},es=jC({});es.newInstance=()=>jC({});var nH=es;es.HighlightJS=es,es.default=es;var oH=dF(nH);function UC(t,e=[]){return t.map(n=>{const o=[...e,...n.properties?n.properties.className:[]];return n.children?UC(n.children,o):{text:n.value,classes:o}}).flat()}function WC(t){return t.value||t.children||[]}function rH(t){return!!oH.getLanguage(t)}function KC({doc:t,name:e,lowlight:n,defaultLanguage:o}){const r=[];return bf(t,s=>s.type.name===e).forEach(s=>{var a;let l=s.pos+1;const c=s.node.attrs.language||o,d=n.listLanguages(),u=c&&(d.includes(c)||rH(c)||!((a=n.registered)===null||a===void 0)&&a.call(n,c))?WC(n.highlight(c,s.node.textContent)):WC(n.highlightAuto(s.node.textContent));UC(u).forEach(f=>{const p=l+f.text.length;if(f.classes.length){const h=je.inline(l,p,{class:f.classes.join(" ")});r.push(h)}l=p})}),we.create(t,r)}function iH(t){return typeof t=="function"}function sH({name:t,lowlight:e,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(r=>iH(e[r])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const o=new ge({key:new ye("lowlight"),state:{init:(r,{doc:s})=>KC({doc:s,name:t,lowlight:e,defaultLanguage:n}),apply:(r,s,a,l)=>{const c=a.selection.$head.parent.type.name,d=l.selection.$head.parent.type.name,u=bf(a.doc,p=>p.type.name===t),f=bf(l.doc,p=>p.type.name===t);return r.docChanged&&([c,d].includes(t)||f.length!==u.length||r.steps.some(p=>p.from!==void 0&&p.to!==void 0&&u.some(h=>h.pos>=p.from&&h.pos+h.node.nodeSize<=p.to)))?KC({doc:r.doc,name:t,lowlight:e,defaultLanguage:n}):s.map(r.mapping,r.doc)}},props:{decorations(r){return o.getState(r)}}});return o}const aH=cF.extend({addOptions(){var t;return{...(t=this.parent)===null||t===void 0?void 0:t.call(this),lowlight:{},languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},addProseMirrorPlugins(){var t;return[...((t=this.parent)===null||t===void 0?void 0:t.call(this))||[],sH({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}}),lH=i.defineComponent({__name:"SelectSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(iP),i.mergeProps(n.value,{class:i.unref(Z)("-mx-1 my-1 h-px bg-muted",e.class)}),null,16,["class"]))}}),cH=i.defineComponent({__name:"Select",props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},dir:{},name:{},autocomplete:{},disabled:{type:Boolean},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(t,{emit:e}){const r=he(t,e);return(s,a)=>(i.openBlock(),i.createBlock(i.unref(KN),i.normalizeProps(i.guardReactiveProps(i.unref(r))),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))}}),dH=i.defineComponent({__name:"SelectValue",props:{placeholder:{},asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(mP),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),uH=i.defineComponent({__name:"SelectTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=Ze(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(JN),i.mergeProps(i.unref(o),{class:i.unref(Z)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:truncate text-start",e.class)}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default"),i.createVNode(i.unref(gP),{"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(aD),{class:"w-4 h-4 opacity-50 shrink-0"})]),_:1})]),_:3},16,["class"]))}}),fH=i.defineComponent({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{default:"popper"},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=he(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(YN),null,{default:i.withCtx(()=>[i.createVNode(i.unref(rP),i.mergeProps({...i.unref(s),...a.$attrs},{class:i.unref(Z)("relative z-50 max-h-96 min-w-32 overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a.position==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n.class)}),{default:i.withCtx(()=>[i.createVNode(i.unref(mH)),i.createVNode(i.unref(fP),{class:i.normalizeClass(i.unref(Z)("p-1",a.position==="popper"&&"h-[--radix-select-trigger-height] w-full min-w-[--radix-select-trigger-width]"))},{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},8,["class"]),i.createVNode(i.unref(gH))]),_:3},16,["class"])]),_:3}))}}),pH=i.defineComponent({__name:"SelectGroup",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(dP),i.mergeProps({class:i.unref(Z)("p-1 w-full",e.class)},n.value),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["class"]))}}),hH={class:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center"},qC=i.defineComponent({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=Ze(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(aP),i.mergeProps(i.unref(o),{class:i.unref(Z)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e.class)}),{default:i.withCtx(()=>[i.createElementVNode("span",hH,[i.createVNode(i.unref(lP),null,{default:i.withCtx(()=>[i.createVNode(i.unref(jc),{class:"h-4 w-4"})]),_:1})]),i.createVNode(i.unref(uP),null,{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3})]),_:3},16,["class"]))}}),mH=i.defineComponent({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=Ze(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(pP),i.mergeProps(i.unref(o),{class:i.unref(Z)("flex cursor-default items-center justify-center py-1",e.class)}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default",{},()=>[i.createVNode(i.unref(dD))])]),_:3},16,["class"]))}}),gH=i.defineComponent({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=Ze(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(hP),i.mergeProps(i.unref(o),{class:i.unref(Z)("flex cursor-default items-center justify-center py-1",e.class)}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default",{},()=>[i.createVNode(i.unref(lD))])]),_:3},16,["class"]))}}),yH=i.defineComponent({__name:"CodeBlockView",props:zs,setup(t){const e=t,n=i.ref(e.extension.options.lowlight.listLanguages()),o=i.computed({get(){return e.node.attrs.language||"auto"},set(r){e.updateAttributes({language:r})}});return(r,s)=>{const a=lH;return i.openBlock(),i.createBlock(i.unref(Vs),{class:"code-block relative"},{default:i.withCtx(()=>[i.createVNode(i.unref(cH),{modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=l=>o.value=l)},{default:i.withCtx(()=>[i.createVNode(i.unref(uH),{class:"w-[160px] h-8 absolute right-2 top-2 bg-background"},{default:i.withCtx(()=>[i.createVNode(i.unref(dH),{placeholder:"Select Language"})]),_:1}),i.createVNode(i.unref(fH),null,{default:i.withCtx(()=>[i.createVNode(i.unref(pH),null,{default:i.withCtx(()=>[i.createVNode(i.unref(qC),{value:"auto"},{default:i.withCtx(()=>[i.createTextVNode(" Auto ")]),_:1}),i.createVNode(a),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.value,(l,c)=>(i.openBlock(),i.createBlock(i.unref(qC),{value:l,key:c},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),i.createElementVNode("pre",null,[i.createElementVNode("code",null,[i.createVNode(i.unref(kv))])])]),_:1})}}}),bH=aH.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),language:"auto",button:({editor:e,t:n})=>({component:ne,componentProps:{action:()=>e.commands.toggleCodeBlock(),isActive:()=>e.isActive("codeBlock")||!1,disabled:!e.can().toggleCodeBlock(),icon:"Code2",tooltip:n("editor.codeblock.tooltip")}})}},addNodeView(){return Fs(yH)}}),wH=Pe.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,xe(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>vf({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),xH={class:"flex items-center h-full justify-between font-normal w-full"},kH={key:0,class:"text-left truncate text-sm flex-grow"},CH={class:"max-w-24 text-center flex flex-col items-center"},SH={key:0,class:"flex"},EH=i.defineComponent({__name:"ActionMenuButton",props:{icon:{default:void 0},class:{default:""},title:{default:void 0},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},shortcutKeys:{default:void 0},color:{default:void 0},action:{type:Function,default:void 0},isActive:{type:Function,default:void 0}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(Ri),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Pi),{"delay-duration":0},{default:i.withCtx(()=>[i.createVNode(i.unref(Di),{"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(lt),{class:i.normalizeClass(i.unref(Z)("h-[32px] px-1.5 py-0",e.class)),variant:"ghost",disabled:n.disabled},{default:i.withCtx(()=>[i.createElementVNode("div",xH,[n.title?(i.openBlock(),i.createElementBlock("div",kH,i.toDisplayString(n.title),1)):i.createCommentVNode("",!0),n.icon?(i.openBlock(),i.createBlock(i.unref(re),{key:1,class:"w-[16px] h-[16px]",name:n.icon},null,8,["name"])):i.createCommentVNode("",!0),i.createVNode(i.unref(re),{class:"w-3 h-3 ml-1 text-zinc-500 flex-shrink-0",name:"MenuDown"})])]),_:1},8,["class","disabled"])]),_:1}),n.tooltip||n.shortcutKeys&&n.shortcutKeys.length?(i.openBlock(),i.createBlock(i.unref(Ii),{key:0},{default:i.withCtx(()=>[i.createElementVNode("div",CH,[i.createElementVNode("div",null,i.toDisplayString(n.tooltip),1),n.shortcutKeys&&n.shortcutKeys.length?(i.openBlock(),i.createElementBlock("div",SH,[i.createElementVNode("span",null,i.toDisplayString(i.unref(oo)(n.shortcutKeys)),1)])):i.createCommentVNode("",!0)])]),_:1})):i.createCommentVNode("",!0)]),_:1})]),_:1}))}}),Hr=i.defineComponent({__name:"ActionDropdownButton",props:{icon:{default:void 0},title:{default:void 0},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},class:{default:""},btn_class:{default:""},action:{type:Function,default:void 0},isActive:{type:Function,default:void 0}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(pm),null,{default:i.withCtx(()=>[i.createVNode(i.unref(hm),{disabled:n.disabled},{default:i.withCtx(()=>[i.createVNode(EH,{class:i.normalizeClass(n.btn_class),title:n.title,icon:n.icon,tooltip:n.tooltip,disabled:n.disabled,"is-active":n.isActive},null,8,["class","title","icon","tooltip","disabled","is-active"])]),_:1},8,["disabled"]),i.createVNode(i.unref(mm),i.mergeProps({class:i.unref(Z)("min-w-24",e.class),align:"start",side:"bottom"},n.$attrs),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),vH=i.defineComponent({__name:"HeadingButton",props:{editor:{},disabled:{type:Boolean,default:!1},color:{default:void 0},shortcutKeys:{default:void 0},maxHeight:{default:void 0},tooltip:{default:""},items:{default:()=>[]}},setup(t){const e=t,n=i.computed(()=>{const o=e.items.find(s=>s.isActive());return o&&!o.default?{...o}:{title:e.tooltip,level:0,isActive:()=>!1}});return(o,r)=>{var s;return i.openBlock(),i.createBlock(Hr,{disabled:o.disabled,tooltip:o.tooltip,title:(s=n.value)==null?void 0:s.title,btn_class:"min-w-24 max-w-32"},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.items,(a,l)=>(i.openBlock(),i.createElementBlock(i.Fragment,{key:l},[i.createVNode(i.unref(Xi),{checked:n.value.title===a.title,onClick:a.action},{default:i.withCtx(()=>[i.createElementVNode("div",{class:i.normalizeClass(["ml-1 h-full","heading-"+a.level])},i.toDisplayString(a.title),3),i.createVNode(i.unref(hC),{class:"pl-4"},{default:i.withCtx(()=>{var c;return[i.createTextVNode(i.toDisplayString((c=a.shortcutKeys)==null?void 0:c.map(d=>i.unref(Zc)(d)).join(" ")),1)]}),_:2},1024)]),_:2},1032,["checked","onClick"]),a.level===0?(i.openBlock(),i.createBlock(i.unref(wd),{key:0})):i.createCommentVNode("",!0)],64))),128))]),_:1},8,["disabled","tooltip","title"])}}}),AH=wH.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),levels:[1,2,3,4,5,6],button({editor:e,extension:n,t:o}){var d;const{extensions:r=[]}=e.extensionManager??[],s=((d=n.options)==null?void 0:d.levels)||[],a=r.find(u=>u.name==="base-kit"),l=s.map(u=>({action:()=>e.commands.toggleHeading({level:u}),isActive:()=>e.isActive("heading",{level:u})||!1,disabled:!e.can().toggleHeading({level:u}),title:o(`editor.heading.h${u}.tooltip`),level:u,shortcutKeys:["alt","mod",`${u}`]}));a&&a.options.paragraph!==!1&&l.unshift({action:()=>e.commands.setParagraph(),isActive:()=>e.isActive("paragraph")||!1,disabled:!e.can().setParagraph(),level:0,title:o("editor.paragraph.tooltip"),shortcutKeys:["alt","mod","0"]});const c=l.filter(u=>u.disabled).length===l.length;return{component:vH,componentProps:{tooltip:o("editor.heading.tooltip"),disabled:c,items:l}}}}}}),MH=fe.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),_H=i.defineComponent({__name:"TextAlignMenuButton",props:{editor:{},disabled:{type:Boolean,default:!1},color:{default:void 0},maxHeight:{default:void 0},icon:{default:void 0},tooltip:{default:""},items:{default:()=>[]}},setup(t){const e=t,n=i.computed(()=>{const o=e.items.find(s=>s.isActive());return o&&!o.default?{...o,icon:o.icon?o.icon:e.icon}:{title:e.tooltip,icon:e.icon,isActive:()=>!1}});return(o,r)=>(i.openBlock(),i.createBlock(Hr,{icon:o.icon,tooltip:o.tooltip,disabled:o.disabled,class:"min-w-4 w-full flex flex-row gap-1"},{default:i.withCtx(()=>[i.createVNode(i.unref(Ri),null,{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.items,(s,a)=>(i.openBlock(),i.createBlock(i.unref(Pi),{key:a},{default:i.withCtx(()=>[i.createVNode(i.unref(Di),{"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(Jt),{class:"p-0",onClick:s.action},{default:i.withCtx(()=>[i.createVNode(i.unref(ek),{size:"sm",class:"w-7 h-7 p-1",pressed:n.value.title===s.title},{default:i.withCtx(()=>[s.icon?(i.openBlock(),i.createBlock(i.unref(re),{key:0,name:s.icon},null,8,["name"])):i.createCommentVNode("",!0)]),_:2},1032,["pressed"])]),_:2},1032,["onClick"])]),_:2},1024),i.createVNode(i.unref(Ii),{class:"flex flex-col items-center"},{default:i.withCtx(()=>{var l;return[i.createElementVNode("span",null,i.toDisplayString(s.title),1),i.createElementVNode("span",null,i.toDisplayString((l=s.shortcutKeys)==null?void 0:l.map(c=>i.unref(Zc)(c)).join(" ")),1)]}),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["icon","tooltip","disabled"]))}}),TH=MH.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),types:["heading","paragraph","list_item","title"],button({editor:e,extension:n,t:o}){var d;const r=((d=n.options)==null?void 0:d.alignments)||[],s={left:["mod","Shift","L"],center:["mod","Shift","E"],right:["mod","Shift","R"],justify:["mod","Shift","J"]},a={left:"AlignLeft",center:"AlignCenter",right:"AlignRight",justify:"AlignJustify"},l=r.map(u=>({title:o(`editor.textalign.${u}.tooltip`),icon:a[u],shortcutKeys:s[u],isActive:()=>e.isActive({textAlign:u})||!1,action:()=>e.commands.setTextAlign(u),disabled:!e.can().setTextAlign(u)})),c=l.filter(u=>u.disabled).length===l.length;return{component:_H,componentProps:{icon:"AlignJustify",tooltip:o("editor.textalign.tooltip"),disabled:c,items:l}}}}}}),BH={class:"ml-1 h-full"},OH=i.defineComponent({__name:"FontSizeMenuButton",props:{editor:{},disabled:{type:Boolean,default:!1},color:{default:void 0},shortcutKeys:{default:void 0},maxHeight:{default:void 0},tooltip:{default:""},items:{default:()=>[]}},setup(t){const e=t,{t:n}=Be(),o=i.computed(()=>{const r=e.items.find(a=>a.isActive());return r||{title:n.value("editor.fontSize.default.tooltip"),isActive:()=>!1}});return(r,s)=>{const a=wd;return i.openBlock(),i.createBlock(Hr,{disabled:r.disabled,tooltip:r.tooltip,title:o.value.title,btn_class:"min-w-24 max-w-32"},{default:i.withCtx(()=>[i.createVNode(i.unref(CC),{class:"w-32 h-96"},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.items,(l,c)=>(i.openBlock(),i.createElementBlock(i.Fragment,{key:c},[i.createVNode(i.unref(Xi),{checked:o.value.title===l.title,onClick:l.action},{default:i.withCtx(()=>[i.createElementVNode("div",BH,i.toDisplayString(l.title),1)]),_:2},1032,["checked","onClick"]),l.title===i.unref(n)("editor.fontSize.default.tooltip")?(i.openBlock(),i.createBlock(a,{key:0})):i.createCommentVNode("",!0)],64))),128))]),_:1})]),_:1},8,["disabled","tooltip","title"])}}}),NH=fe.create({name:"fontSize",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),types:["textStyle"],fontSizes:[...Mv],button({editor:e,extension:n,t:o}){var l;const r=((l=n.options)==null?void 0:l.fontSizes)||[],s=[ki,...r].map(c=>({title:c===ki?o("editor.fontSize.default.tooltip"):String(c),isActive:()=>{const{fontSize:d}=e.getAttributes("textStyle");return c===ki&&d===void 0?!0:e.isActive({fontSize:String(c)})||!1},action:()=>{if(c===ki){e.commands.unsetFontSize();return}e.commands.setFontSize(String(c))},disabled:!e.can().setFontSize(String(c)),divider:c===ki||!1,default:c===ki||!1})),a=s.filter(c=>c.disabled).length===s.length;return{component:OH,componentProps:{editor:e,tooltip:o("editor.fontSize.tooltip"),disabled:a,items:s,maxHeight:280}}}}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize.replace(/['"]+/g,""),renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),PH=t=>{if(!t.children.length)return;const e=t.querySelectorAll("span");e&&e.forEach(n=>{var o,r;const s=n.getAttribute("style"),a=(r=(o=n.parentElement)===null||o===void 0?void 0:o.closest("span"))===null||r===void 0?void 0:r.getAttribute("style");n.setAttribute("style",`${a};${s}`)})},IH=St.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&PH(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",xe(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,o)=>{if(n.isTextblock)return!0;n.marks.filter(r=>r.type===this.type).some(r=>Object.values(r.attrs).some(s=>!!s))||t.removeMark(o,o+n.nodeSize,this.type)}),!0}}}}),DH=fe.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),RH={class:"flex items-center h-[32px] hover:bg-muted rounded-md"},LH={class:"text-sm flex justify-center items-center"},$H={width:"18px",height:"18px",viewBox:"0 0 240 240",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},VH={id:"icon/字体颜色",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},zH={transform:"translate(0.000000, 0.500000)"},FH={transform:"translate(39.000000, 17.353553)"},HH=["fill"],jH=i.createElementVNode("path",{d:"M72.3425855,16.8295583 C75.799482,7.50883712 86.1577877,2.75526801 95.4785089,6.21216449 C100.284516,7.99463061 104.096358,11.7387855 105.968745,16.4968188 L106.112518,16.8745422 L159.385152,161.694068 C161.291848,166.877345 158.635655,172.624903 153.452378,174.531599 C148.358469,176.405421 142.719567,173.872338 140.716873,168.864661 L140.614848,168.598825 L89.211,28.86 L37.3759214,168.623816 C35.4885354,173.712715 29.8981043,176.351047 24.7909589,174.617647 L24.5226307,174.522368 C19.4337312,172.634982 16.7953993,167.044551 18.5287999,161.937406 L18.6240786,161.669077 L72.3425855,16.8295583 Z",id:"路径-21",fill:"currentColor","fill-rule":"nonzero"},null,-1),UH=i.createElementVNode("path",{d:"M121,103.146447 C126.522847,103.146447 131,107.623599 131,113.146447 C131,118.575687 126.673329,122.994378 121.279905,123.142605 L121,123.146447 L55,123.146447 C49.4771525,123.146447 45,118.669294 45,113.146447 C45,107.717207 49.3266708,103.298515 54.7200952,103.150288 L55,103.146447 L121,103.146447 Z",id:"路径-22",fill:"currentColor","fill-rule":"nonzero"},null,-1),WH=i.defineComponent({__name:"ColorActionButton",props:{editor:{},icon:{default:void 0},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},action:{type:Function,default:void 0},isActive:{type:Function,default:void 0}},setup(t){const e=t,n=i.ref(void 0);function o(s){var a;(a=e.action)==null||a.call(e,s)}function r(s){var a;(a=e.action)==null||a.call(e,n.value)}return(s,a)=>(i.openBlock(),i.createElementBlock("div",RH,[i.createVNode(ne,{tooltip:s.tooltip,disabled:s.disabled,action:r},{icon:i.withCtx(()=>[i.createElementVNode("span",LH,[(i.openBlock(),i.createElementBlock("svg",$H,[i.createElementVNode("g",VH,[i.createElementVNode("g",zH,[i.createElementVNode("g",FH,[i.createElementVNode("path",{d:"M11,201.146447 L167,201.146447 C173.075132,201.146447 178,206.071314 178,212.146447 C178,218.221579 173.075132,223.146447 167,223.146447 L11,223.146447 C4.92486775,223.146447 7.43989126e-16,218.221579 0,212.146447 C-7.43989126e-16,206.071314 4.92486775,201.146447 11,201.146447 Z",id:"矩形",fill:n.value||"#DF2A3F","fill-rule":"evenodd"},null,8,HH),jH,UH])])])]))])]),_:1},8,["tooltip","disabled"]),i.createVNode(nk,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=l=>n.value=l),onChange:o,disabled:s.disabled},{default:i.withCtx(()=>[i.createVNode(i.unref(lt),{variant:"ghost",size:"icon",class:"h-[32px] w-3 rounded-l-none hover:bg-muted-foreground/20",disabled:s.disabled},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{class:"w-3 h-3 text-zinc-500",name:"MenuDown"})]),_:1},8,["disabled"])]),_:1},8,["modelValue","disabled"])]))}}),KH=DH.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button({editor:e,t:n}){return{component:WH,componentProps:{action:o=>{typeof o>"u"&&e.chain().focus().unsetColor().run(),typeof o=="string"&&e.chain().focus().setColor(o).run()},isActive:()=>{const{color:o}=e.getAttributes("textStyle");return o&&e.isActive({color:o})||!1},editor:e,disabled:!e.can().setColor(""),tooltip:n("editor.color.tooltip")}}}}}}),qH=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,GH=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,JH=St.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",xe(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[kr({find:qH,type:this.type})]},addPasteRules(){return[No({find:GH,type:this.type})]}}).extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),multicolor:!0,button:({editor:e,t:n})=>({component:ok,componentProps:{action:o=>{typeof o=="string"&&e.chain().focus().setHighlight({color:o}).run(),typeof o>"u"&&e.chain().focus().unsetHighlight().run()},editor:e,isActive:()=>e.isActive("highlight")||!1,disabled:!e.can().setHighlight(),shortcutKeys:["⇧","mod","H"],tooltip:n("editor.highlight.tooltip")}})}}}),YH="listItem",GC="textStyle",JC=/^\s*([-+*])\s$/,XH=Pe.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",xe(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(YH,this.editor.getAttributes(GC)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=pi({find:JC,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=pi({find:JC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(GC),editor:this.editor})),[t]}}),YC=i.defineComponent({__name:"ActionDropdownButtonSplit",props:{icon:{default:void 0},title:{default:void 0},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},class:{default:""},shortcutKeys:{default:void 0},btn_class:{default:""},action:{type:Function,default:void 0},isActive:{type:Function,default:void 0}},setup(t){const e=t;return(n,o)=>{var r;return i.openBlock(),i.createElementBlock("div",{class:i.normalizeClass(["flex items-center h-[32px] hover:bg-muted rounded-md",[((r=n.isActive)==null?void 0:r.call(n))&&"bg-muted"]])},[i.createVNode(ne,{class:i.normalizeClass(n.btn_class),action:n.action,title:n.title,icon:n.icon,tooltip:n.tooltip,disabled:n.disabled,"shortcut-keys":n.shortcutKeys},null,8,["class","action","title","icon","tooltip","disabled","shortcut-keys"]),i.createVNode(i.unref(pm),null,{default:i.withCtx(()=>[i.createVNode(i.unref(hm),{disabled:n.disabled},{default:i.withCtx(()=>[i.createVNode(lt,{variant:"ghost",size:"icon",class:"h-[32px] w-3 rounded-l-none hover:bg-muted-foreground/20",disabled:n.disabled},{default:i.withCtx(()=>[i.createVNode(i.unref(re),{class:"w-3 h-3 text-zinc-500",name:"MenuDown"})]),_:1},8,["disabled"])]),_:1},8,["disabled"]),i.createVNode(i.unref(mm),i.mergeProps({class:i.unref(Z)("min-w-24",e.class),align:"start",side:"bottom"},n.$attrs),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16,["class"])]),_:3})],2)}}}),ZH=[i.createElementVNode("hr",{class:"border-0 bg-gray-200 h-[3px] w-6 my-1"},null,-1)],QH=i.defineComponent({__name:"BulletListMenuButton",props:{editor:{},disabled:{type:Boolean,default:!1},tooltip:{default:""}},setup(t){const e=t,{t:n}=Be(),o=[{label:"editor.bulletlist.disc.tooltip",value:"disc"},{label:"editor.bulletlist.circle.tooltip",value:"circle"},{label:"editor.bulletlist.square.tooltip",value:"square"}],r=i.computed(()=>{var a;return(a=e.editor)!=null&&a.isActive("bulletList")?e.editor.getAttributes("bulletList").listStyleType:"disc"});function s(a){e.editor.isActive("bulletList")?e.editor.getAttributes("bulletList").listStyleType===a.value?e.editor.chain().focus().toggleBulletList().run():e.editor.chain().focus().updateAttributes("bulletList",{listStyleType:a.value}).run():e.editor.chain().focus().toggleBulletList().updateAttributes("bulletList",{listStyleType:a.value}).run()}return(a,l)=>(i.openBlock(),i.createBlock(YC,{action:s,disabled:a.disabled,tooltip:a.tooltip,class:"min-w-4 w-full grid grid-cols-3 gap-1"},{default:i.withCtx(()=>[i.createVNode(i.unref(Ri),null,{default:i.withCtx(()=>[(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(o,c=>i.createVNode(i.unref(Pi),{"delay-duration":0,key:c.value},{default:i.withCtx(()=>[i.createVNode(i.unref(Di),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Jt),{class:"p-0",onClick:d=>s(c)},{default:i.withCtx(()=>[i.createElementVNode("div",{class:i.normalizeClass([[r.value===c.value?"bg-accent border border-accent-foreground":""],"h-[48px] flex flex-col w-[48px] box-border rounded-sm border"])},[i.createElementVNode("ol",{style:i.normalizeStyle({listStyleType:c.value,lineHeight:1}),class:"text-[10px] pl-3 flex-1 list-outside flex flex-col items-center justify-center"},[(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(3,d=>i.createElementVNode("li",{key:d},ZH)),64))],4)],2)]),_:2},1032,["onClick"])]),_:2},1024),i.createVNode(i.unref(Ii),{side:"bottom"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(n)(c.label)),1)]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1},8,["disabled","tooltip"]))}}),ej=XH.extend({addAttributes(){var t;return{...(t=this.parent)==null?void 0:t.call(this),listStyleType:{default:"disc",parseHTML:e=>({listStyleType:e.style["list-style-type"]??"disc"}),renderHTML:({listStyleType:e})=>({style:`list-style-type: ${(e==null?void 0:e.listStyleType)||e}`})}}},addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:QH,componentProps:{action:()=>e.commands.toggleBulletList(),isActive:()=>e.isActive("bulletList")||!1,disabled:!e.can().toggleBulletList(),shortcutKeys:["shift","mod","8"],icon:"List",tooltip:n("editor.bulletlist.tooltip")}})}}}),tj=Pe.create({name:"clear",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:ne,componentProps:{action:()=>e.chain().focus().clearNodes().unsetAllMarks().run(),disabled:!e.can().chain().focus().clearNodes().unsetAllMarks().run(),icon:"Eraser",tooltip:n("editor.clear.tooltip")}})}}}),nj="listItem",XC="textStyle",ZC=/^(\d+)\.\s$/,oj=Pe.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",xe(this.options.HTMLAttributes,n),0]:["ol",xe(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(nj,this.editor.getAttributes(XC)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=pi({find:ZC,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=pi({find:ZC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(XC)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),rj=[i.createElementVNode("hr",{class:"border-0 bg-gray-200 h-[3px] w-6 my-1"},null,-1)],ij=i.defineComponent({__name:"OrderedListMenuButton",props:{editor:{},disabled:{type:Boolean,default:!1},tooltip:{default:""},shortcutKeys:{default:void 0},isActive:{type:Function,default:void 0}},setup(t){const e=t,{t:n}=Be(),o=[{label:"editor.orderedlist.decimal.tooltip",value:"decimal"},{label:"editor.orderedlist.decimalLeadingZero.tooltip",value:"decimal-leading-zero"},{label:"editor.orderedlist.lowerRoman.tooltip",value:"lower-roman"},{label:"editor.orderedlist.upperRoman.tooltip",value:"upper-roman"},{label:"editor.orderedlist.lowerLatin.tooltip",value:"lower-latin"},{label:"editor.orderedlist.upperLatin.tooltip",value:"upper-latin"},{label:"editor.orderedlist.tradChineseInformal.tooltip",value:"trad-chinese-informal"},{label:"editor.orderedlist.simpChineseFormal.tooltip",value:"simp-chinese-formal"}],r=i.computed(()=>{var a;return(a=e.editor)!=null&&a.isActive("orderedList")?e.editor.getAttributes("orderedList").listType:"decimal"});function s(a){var l,c;e.editor.isActive("orderedList")?e.editor.getAttributes("orderedList").listType===a.value?(l=e.editor.chain())==null||l.toggleOrderedList().run():(c=e.editor.chain())==null||c.updateAttributes("orderedList",{listType:a.value}).run():e.editor.chain().focus().toggleOrderedList().updateAttributes("orderedList",{listType:a.value}).run()}return(a,l)=>(i.openBlock(),i.createBlock(YC,{action:s,disabled:a.disabled,tooltip:a.tooltip,"is-active":a.isActive,shortcutKeys:a.shortcutKeys,class:"min-w-4 w-full grid grid-cols-3 gap-1"},{default:i.withCtx(()=>[i.createVNode(i.unref(Ri),null,{default:i.withCtx(()=>[(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(o,c=>i.createVNode(i.unref(Pi),{"delay-duration":0,key:c.value},{default:i.withCtx(()=>[i.createVNode(i.unref(Di),{"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(Jt),{class:"p-0",onClick:d=>s(c)},{default:i.withCtx(()=>[i.createElementVNode("div",{class:i.normalizeClass([[r.value===c.value?"bg-accent border border-accent-foreground":""],"h-[72px] flex flex-col w-[72px] box-border rounded-sm border"])},[i.createElementVNode("ol",{style:i.normalizeStyle({listStyleType:c.value,lineHeight:1}),class:"text-[12px] pl-3 flex-1 list-outside flex flex-col items-center justify-center"},[(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(3,d=>i.createElementVNode("li",{key:d},rj)),64))],4)],2)]),_:2},1032,["onClick"])]),_:2},1024),i.createVNode(i.unref(Ii),{side:"bottom"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(n)(c.label)),1)]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1},8,["disabled","tooltip","is-active","shortcutKeys"]))}}),sj=oj.extend({addAttributes(){var t;return{...(t=this.parent)==null?void 0:t.call(this),listType:{default:"decimal",parseHTML:e=>{e.style.getPropertyValue("list-style-type")},renderHTML:({listType:e})=>({style:`list-style-type: ${e}`})}}},addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:ij,componentProps:{action:()=>e.commands.toggleOrderedList(),isActive:()=>e.isActive("orderedList")||!1,disabled:!e.can().toggleOrderedList(),icon:"ListOrdered",shortcutKeys:["mod","shift","7"],tooltip:n("editor.orderedlist.tooltip")}})}}}),aj=/^\s*(\[([( |x])?\])\s$/,lj=Pe.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",xe(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:o})=>{const r=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div");return s.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",d=>d.preventDefault()),l.addEventListener("change",d=>{if(!o.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:u}=d.target;o.isEditable&&typeof n=="function"&&o.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:f})=>{const p=n();if(typeof p!="number")return!1;const h=f.doc.nodeAt(p);return f.setNodeMarkup(p,void 0,{...h==null?void 0:h.attrs,checked:u}),!0}).run(),!o.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,u)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,u])=>{r.setAttribute(d,u)}),r.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,s.append(l,a),r.append(s,c),Object.entries(e).forEach(([d,u])=>{r.setAttribute(d,u)}),{dom:r,contentDOM:c,update:d=>d.type!==this.type?!1:(r.dataset.checked=d.attrs.checked,l.checked=d.attrs.checked,!0)}}},addInputRules(){return[pi({find:aj,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),cj=Pe.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",xe(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}).extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),HTMLAttributes:{class:"task-list"},taskItem:{HTMLAttributes:{class:"task-list-item"}},button:({editor:e,t:n})=>({component:ne,componentProps:{action:()=>e.commands.toggleTaskList(),isActive:()=>e.isActive("taskList")||!1,disabled:!e.can().toggleTaskList(),icon:"ListTodo",shortcutKeys:["shift","mod","9"],tooltip:n("editor.tasklist.tooltip")}})}},addExtensions(){return[lj.configure(this.options.taskItem)]}}),dj=/^\s*>\s$/,uj=Pe.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",xe(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[pi({find:dj,type:this.type})]}}).extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),HTMLAttributes:{class:"blockquote"},button:({editor:e,t:n})=>({component:ne,componentProps:{action:()=>e.commands.toggleBlockquote(),isActive:()=>e.isActive("blockquote")||!1,disabled:!e.can().toggleBlockquote(),icon:"TextQuote",shortcutKeys:["shift","mod","B"],tooltip:n("editor.blockquote.tooltip")}})}}}),fj="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",pj="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",ts=(t,e)=>{for(const n in e)t[n]=e[n];return t},Tm="numeric",Bm="ascii",Om="alpha",$a="asciinumeric",Va="alphanumeric",Nm="domain",QC="emoji",hj="scheme",mj="slashscheme",Pm="whitespace";function gj(t,e){return t in e||(e[t]=[]),e[t]}function jr(t,e,n){e[Tm]&&(e[$a]=!0,e[Va]=!0),e[Bm]&&(e[$a]=!0,e[Om]=!0),e[$a]&&(e[Va]=!0),e[Om]&&(e[Va]=!0),e[Va]&&(e[Nm]=!0),e[QC]&&(e[Nm]=!0);for(const o in e){const r=gj(o,n);r.indexOf(t)<0&&r.push(t)}}function yj(t,e){const n={};for(const o in e)e[o].indexOf(t)>=0&&(n[o]=!0);return n}function Mt(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Mt.groups={},Mt.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let o=0;o<e.jr.length;o++){const r=e.jr[o][0],s=e.jr[o][1];if(s&&r.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,o){for(let r=0;r<t.length;r++)this.tt(t[r],e,n,o)},tr(t,e,n,o){o=o||Mt.groups;let r;return e&&e.j?r=e:(r=new Mt(e),n&&o&&jr(e,n,o)),this.jr.push([t,r]),r},ts(t,e,n,o){let r=this;const s=t.length;if(!s)return r;for(let a=0;a<s-1;a++)r=r.tt(t[a]);return r.tt(t[s-1],e,n,o)},tt(t,e,n,o){o=o||Mt.groups;const r=this;if(e&&e.j)return r.j[t]=e,e;const s=e;let a,l=r.go(t);if(l?(a=new Mt,ts(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new Mt,s){if(o)if(a.t&&typeof a.t=="string"){const c=ts(yj(a.t,o),n);jr(s,c,o)}else n&&jr(s,n,o);a.t=s}return r.j[t]=a,a}};const de=(t,e,n,o,r)=>t.ta(e,n,o,r),Ue=(t,e,n,o,r)=>t.tr(e,n,o,r),e4=(t,e,n,o,r)=>t.ts(e,n,o,r),R=(t,e,n,o,r)=>t.tt(e,n,o,r),fo="WORD",Im="UWORD",t4="ASCIINUMERICAL",n4="ALPHANUMERICAL",za="LOCALHOST",Dm="TLD",Rm="UTLD",vd="SCHEME",ns="SLASH_SCHEME",Lm="NUM",$m="WS",Vm="NL",Fa="OPENBRACE",Ha="CLOSEBRACE",Ad="OPENBRACKET",Md="CLOSEBRACKET",_d="OPENPAREN",Td="CLOSEPAREN",Bd="OPENANGLEBRACKET",Od="CLOSEANGLEBRACKET",Nd="FULLWIDTHLEFTPAREN",Pd="FULLWIDTHRIGHTPAREN",Id="LEFTCORNERBRACKET",Dd="RIGHTCORNERBRACKET",Rd="LEFTWHITECORNERBRACKET",Ld="RIGHTWHITECORNERBRACKET",$d="FULLWIDTHLESSTHAN",Vd="FULLWIDTHGREATERTHAN",zd="AMPERSAND",zm="APOSTROPHE",Fd="ASTERISK",nr="AT",Hd="BACKSLASH",jd="BACKTICK",Ud="CARET",or="COLON",Fm="COMMA",Wd="DOLLAR",Pn="DOT",Kd="EQUALS",Hm="EXCLAMATION",Yt="HYPHEN",ja="PERCENT",qd="PIPE",Gd="PLUS",Jd="POUND",Ua="QUERY",jm="QUOTE",o4="FULLWIDTHMIDDLEDOT",Um="SEMI",In="SLASH",Wa="TILDE",Yd="UNDERSCORE",r4="EMOJI",Xd="SYM";var i4=Object.freeze({__proto__:null,WORD:fo,UWORD:Im,ASCIINUMERICAL:t4,ALPHANUMERICAL:n4,LOCALHOST:za,TLD:Dm,UTLD:Rm,SCHEME:vd,SLASH_SCHEME:ns,NUM:Lm,WS:$m,NL:Vm,OPENBRACE:Fa,CLOSEBRACE:Ha,OPENBRACKET:Ad,CLOSEBRACKET:Md,OPENPAREN:_d,CLOSEPAREN:Td,OPENANGLEBRACKET:Bd,CLOSEANGLEBRACKET:Od,FULLWIDTHLEFTPAREN:Nd,FULLWIDTHRIGHTPAREN:Pd,LEFTCORNERBRACKET:Id,RIGHTCORNERBRACKET:Dd,LEFTWHITECORNERBRACKET:Rd,RIGHTWHITECORNERBRACKET:Ld,FULLWIDTHLESSTHAN:$d,FULLWIDTHGREATERTHAN:Vd,AMPERSAND:zd,APOSTROPHE:zm,ASTERISK:Fd,AT:nr,BACKSLASH:Hd,BACKTICK:jd,CARET:Ud,COLON:or,COMMA:Fm,DOLLAR:Wd,DOT:Pn,EQUALS:Kd,EXCLAMATION:Hm,HYPHEN:Yt,PERCENT:ja,PIPE:qd,PLUS:Gd,POUND:Jd,QUERY:Ua,QUOTE:jm,FULLWIDTHMIDDLEDOT:o4,SEMI:Um,SLASH:In,TILDE:Wa,UNDERSCORE:Yd,EMOJI:r4,SYM:Xd});const po=/[a-z]/,Ka=new RegExp("\\p{L}","u"),Wm=new RegExp("\\p{Emoji}","u"),ho=/\d/,Km=/\s/,s4="\r",qm=`
`,bj="️",wj="‍",Gm="￼";let Zd=null,Qd=null;function xj(t=[]){const e={};Mt.groups=e;const n=new Mt;Zd==null&&(Zd=l4(fj)),Qd==null&&(Qd=l4(pj)),R(n,"'",zm),R(n,"{",Fa),R(n,"}",Ha),R(n,"[",Ad),R(n,"]",Md),R(n,"(",_d),R(n,")",Td),R(n,"<",Bd),R(n,">",Od),R(n,"（",Nd),R(n,"）",Pd),R(n,"「",Id),R(n,"」",Dd),R(n,"『",Rd),R(n,"』",Ld),R(n,"＜",$d),R(n,"＞",Vd),R(n,"&",zd),R(n,"*",Fd),R(n,"@",nr),R(n,"`",jd),R(n,"^",Ud),R(n,":",or),R(n,",",Fm),R(n,"$",Wd),R(n,".",Pn),R(n,"=",Kd),R(n,"!",Hm),R(n,"-",Yt),R(n,"%",ja),R(n,"|",qd),R(n,"+",Gd),R(n,"#",Jd),R(n,"?",Ua),R(n,'"',jm),R(n,"/",In),R(n,";",Um),R(n,"~",Wa),R(n,"_",Yd),R(n,"\\",Hd),R(n,"・",o4);const o=Ue(n,ho,Lm,{[Tm]:!0});Ue(o,ho,o);const r=Ue(o,po,t4,{[$a]:!0}),s=Ue(o,Ka,n4,{[Va]:!0}),a=Ue(n,po,fo,{[Bm]:!0});Ue(a,ho,r),Ue(a,po,a),Ue(r,ho,r),Ue(r,po,r);const l=Ue(n,Ka,Im,{[Om]:!0});Ue(l,po),Ue(l,ho,s),Ue(l,Ka,l),Ue(s,ho,s),Ue(s,po),Ue(s,Ka,s);const c=R(n,qm,Vm,{[Pm]:!0}),d=R(n,s4,$m,{[Pm]:!0}),u=Ue(n,Km,$m,{[Pm]:!0});R(n,Gm,u),R(d,qm,c),R(d,Gm,u),Ue(d,Km,u),R(u,s4),R(u,qm),Ue(u,Km,u),R(u,Gm,u);const f=Ue(n,Wm,r4,{[QC]:!0});R(f,"#"),Ue(f,Wm,f),R(f,bj,f);const p=R(f,wj);R(p,"#"),Ue(p,Wm,f);const h=[[po,a],[ho,r]],m=[[po,null],[Ka,l],[ho,s]];for(let g=0;g<Zd.length;g++)rr(n,Zd[g],Dm,fo,h);for(let g=0;g<Qd.length;g++)rr(n,Qd[g],Rm,Im,m);jr(Dm,{tld:!0,ascii:!0},e),jr(Rm,{utld:!0,alpha:!0},e),rr(n,"file",vd,fo,h),rr(n,"mailto",vd,fo,h),rr(n,"http",ns,fo,h),rr(n,"https",ns,fo,h),rr(n,"ftp",ns,fo,h),rr(n,"ftps",ns,fo,h),jr(vd,{scheme:!0,ascii:!0},e),jr(ns,{slashscheme:!0,ascii:!0},e),t=t.sort((g,y)=>g[0]>y[0]?1:-1);for(let g=0;g<t.length;g++){const y=t[g][0],x=t[g][1]?{[hj]:!0}:{[mj]:!0};y.indexOf("-")>=0?x[Nm]=!0:po.test(y)?ho.test(y)?x[$a]=!0:x[Bm]=!0:x[Tm]=!0,e4(n,y,y,x)}return e4(n,"localhost",za,{ascii:!0}),n.jd=new Mt(Xd),{start:n,tokens:ts({groups:e},i4)}}function a4(t,e){const n=kj(e.replace(/[A-Z]/g,l=>l.toLowerCase())),o=n.length,r=[];let s=0,a=0;for(;a<o;){let l=t,c=null,d=0,u=null,f=-1,p=-1;for(;a<o&&(c=l.go(n[a]));)l=c,l.accepts()?(f=0,p=0,u=l):f>=0&&(f+=n[a].length,p++),d+=n[a].length,s+=n[a].length,a++;s-=f,a-=p,d-=f,r.push({t:u.t,v:e.slice(s-d,s),s:s-d,e:s})}return r}function kj(t){const e=[],n=t.length;let o=0;for(;o<n;){let r=t.charCodeAt(o),s,a=r<55296||r>56319||o+1===n||(s=t.charCodeAt(o+1))<56320||s>57343?t[o]:t.slice(o,o+2);e.push(a),o+=a.length}return e}function rr(t,e,n,o,r){let s;const a=e.length;for(let l=0;l<a-1;l++){const c=e[l];t.j[c]?s=t.j[c]:(s=new Mt(o),s.jr=r.slice(),t.j[c]=s),t=s}return s=new Mt(n),s.jr=r.slice(),t.j[e[a-1]]=s,s}function l4(t){const e=[],n=[];let o=0,r="0123456789";for(;o<t.length;){let s=0;for(;r.indexOf(t[o+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let a=parseInt(t.substring(o,o+s),10);a>0;a--)n.pop();o+=s}else n.push(t[o]),o++}return e}const qa={defaultProtocol:"http",events:null,format:c4,formatHref:c4,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Jm(t,e=null){let n=ts({},qa);t&&(n=ts(n,t instanceof Jm?t.o:t));const o=n.ignoreTags,r=[];for(let s=0;s<o.length;s++)r.push(o[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=r}Jm.prototype={o:qa,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const o=e!=null;let r=this.o[t];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:qa[t],typeof r=="function"&&o&&(r=r(e,n))):typeof r=="function"&&o&&(r=r(e,n.t,n)),r)},getObj(t,e,n){let o=this.o[t];return typeof o=="function"&&e!=null&&(o=o(e,n.t,n)),o},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function c4(t){return t}function d4(t,e){this.t="token",this.v=t,this.tk=e}d4.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),o=t.get("format",e,this);return n&&o.length>n?o.substring(0,n)+"…":o},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=qa.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),o=t.get("formatHref",n,this),r=t.get("tagName",n,e),s=this.toFormattedString(t),a={},l=t.get("className",n,e),c=t.get("target",n,e),d=t.get("rel",n,e),u=t.getObj("attributes",n,e),f=t.getObj("events",n,e);return a.href=o,l&&(a.class=l),c&&(a.target=c),d&&(a.rel=d),u&&ts(a,u),{tagName:r,attributes:a,content:s,eventListeners:f}}};function eu(t,e){class n extends d4{constructor(r,s){super(r,s),this.t=t}}for(const o in e)n.prototype[o]=e[o];return n.t=t,n}const u4=eu("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),f4=eu("text"),Cj=eu("nl"),tu=eu("url",{isLink:!0,toHref(t=qa.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==za&&t[1].t===or}}),Xt=t=>new Mt(t);function Sj({groups:t}){const e=t.domain.concat([zd,Fd,nr,Hd,jd,Ud,Wd,Kd,Yt,Lm,ja,qd,Gd,Jd,In,Xd,Wa,Yd]),n=[or,Fm,Pn,Hm,ja,Ua,jm,Um,Bd,Od,Fa,Ha,Md,Ad,_d,Td,Nd,Pd,Id,Dd,Rd,Ld,$d,Vd],o=[zd,zm,Fd,Hd,jd,Ud,Wd,Kd,Yt,Fa,Ha,ja,qd,Gd,Jd,Ua,In,Xd,Wa,Yd],r=Xt(),s=R(r,Wa);de(s,o,s),de(s,t.domain,s);const a=Xt(),l=Xt(),c=Xt();de(r,t.domain,a),de(r,t.scheme,l),de(r,t.slashscheme,c),de(a,o,s),de(a,t.domain,a);const d=R(a,nr);R(s,nr,d),R(l,nr,d),R(c,nr,d);const u=R(s,Pn);de(u,o,s),de(u,t.domain,s);const f=Xt();de(d,t.domain,f),de(f,t.domain,f);const p=R(f,Pn);de(p,t.domain,f);const h=Xt(u4);de(p,t.tld,h),de(p,t.utld,h),R(d,za,h);const m=R(f,Yt);R(m,Yt,m),de(m,t.domain,f),de(h,t.domain,f),R(h,Pn,p),R(h,Yt,m);const g=R(h,or);de(g,t.numeric,u4);const y=R(a,Yt),b=R(a,Pn);R(y,Yt,y),de(y,t.domain,a),de(b,o,s),de(b,t.domain,a);const x=Xt(tu);de(b,t.tld,x),de(b,t.utld,x),de(x,t.domain,a),de(x,o,s),R(x,Pn,b),R(x,Yt,y),R(x,nr,d);const k=R(x,or),w=Xt(tu);de(k,t.numeric,w);const C=Xt(tu),S=Xt();de(C,e,C),de(C,n,S),de(S,e,C),de(S,n,S),R(x,In,C),R(w,In,C);const v=R(l,or),B=R(c,or),_=R(B,In),E=R(_,In);de(l,t.domain,a),R(l,Pn,b),R(l,Yt,y),de(c,t.domain,a),R(c,Pn,b),R(c,Yt,y),de(v,t.domain,C),R(v,In,C),R(v,Ua,C),de(E,t.domain,C),de(E,e,C),R(E,In,C);const T=[[Fa,Ha],[Ad,Md],[_d,Td],[Bd,Od],[Nd,Pd],[Id,Dd],[Rd,Ld],[$d,Vd]];for(let M=0;M<T.length;M++){const[$,L]=T[M],U=R(C,$);R(S,$,U),R(U,L,C);const O=Xt(tu);de(U,e,O);const A=Xt();de(U,n),de(O,e,O),de(O,n,A),de(A,e,O),de(A,n,A),R(O,L,C),R(A,L,C)}return R(r,za,x),R(r,Vm,Cj),{start:r,tokens:i4}}function Ej(t,e,n){let o=n.length,r=0,s=[],a=[];for(;r<o;){let l=t,c=null,d=null,u=0,f=null,p=-1;for(;r<o&&!(c=l.go(n[r].t));)a.push(n[r++]);for(;r<o&&(d=c||l.go(n[r].t));)c=null,l=d,l.accepts()?(p=0,f=l):p>=0&&p++,r++,u++;if(p<0)r-=u,r<o&&(a.push(n[r]),r++);else{a.length>0&&(s.push(Ym(f4,e,a)),a=[]),r-=p,u-=p;const h=f.t,m=n.slice(r-u,r);s.push(Ym(h,e,m))}}return a.length>0&&s.push(Ym(f4,e,a)),s}function Ym(t,e,n){const o=n[0].s,r=n[n.length-1].e,s=e.slice(o,r);return new t(s,n)}const vj=typeof console<"u"&&console&&console.warn||(()=>{}),Aj="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ze={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Mj(){return Mt.groups={},ze.scanner=null,ze.parser=null,ze.tokenQueue=[],ze.pluginQueue=[],ze.customSchemes=[],ze.initialized=!1,ze}function p4(t,e=!1){if(ze.initialized&&vj(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Aj}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ze.customSchemes.push([t,e])}function _j(){ze.scanner=xj(ze.customSchemes);for(let t=0;t<ze.tokenQueue.length;t++)ze.tokenQueue[t][1]({scanner:ze.scanner});ze.parser=Sj(ze.scanner.tokens);for(let t=0;t<ze.pluginQueue.length;t++)ze.pluginQueue[t][1]({scanner:ze.scanner,parser:ze.parser});return ze.initialized=!0,ze}function Xm(t){return ze.initialized||_j(),Ej(ze.parser.start,t,a4(ze.scanner.start,t))}Xm.scan=a4;function h4(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const o=new Jm(n),r=Xm(t),s=[];for(let a=0;a<r.length;a++){const l=r[a];l.isLink&&(!e||l.t===e)&&o.check(l)&&s.push(l.toFormattedObject(o))}return s}function Tj(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function Bj(t){return new ge({key:new ye("autolink"),appendTransaction:(e,n,o)=>{const r=e.some(d=>d.docChanged)&&!n.doc.eq(o.doc),s=e.some(d=>d.getMeta("preventAutolink"));if(!r||s)return;const{tr:a}=o,l=uS(n.doc,[...e]);if(yS(l).forEach(({newRange:d})=>{const u=pS(o.doc,d,h=>h.isTextblock);let f,p;if(u.length>1?(f=u[0],p=o.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ")):u.length&&o.doc.textBetween(d.from,d.to," "," ").endsWith(" ")&&(f=u[0],p=o.doc.textBetween(f.pos,d.to,void 0," ")),f&&p){const h=p.split(" ").filter(b=>b!=="");if(h.length<=0)return!1;const m=h[h.length-1],g=f.pos+p.lastIndexOf(m);if(!m)return!1;const y=Xm(m).map(b=>b.toObject(t.defaultProtocol));if(!Tj(y))return!1;y.filter(b=>b.isLink).map(b=>({...b,from:g+b.start+1,to:g+b.end+1})).filter(b=>o.schema.marks.code?!o.doc.rangeHasMark(b.from,b.to,o.schema.marks.code):!0).filter(b=>t.validate(b.value)).filter(b=>t.shouldAutoLink(b.value)).forEach(b=>{xf(b.from,b.to,o.doc).some(x=>x.mark.type===t.type)||a.addMark(b.from,b.to,t.type.create({href:b.href}))})}}),!!a.steps.length)return a}})}function Oj(t){return new ge({key:new ye("handleClickLink"),props:{handleClick:(e,n,o)=>{var r,s;if(o.button!==0||!e.editable)return!1;let a=o.target;const l=[];for(;a.nodeName!=="DIV";)l.push(a),a=a.parentNode;if(!l.find(p=>p.nodeName==="A"))return!1;const c=X1(e.state,t.type.name),d=o.target,u=(r=d==null?void 0:d.href)!==null&&r!==void 0?r:c.href,f=(s=d==null?void 0:d.target)!==null&&s!==void 0?s:c.target;return d&&u?(window.open(u,f),!0):!1}}})}function Nj(t){return new ge({key:new ye("handlePasteLink"),props:{handlePaste:(e,n,o)=>{const{state:r}=e,{selection:s}=r,{empty:a}=s;if(a)return!1;let l="";o.content.forEach(d=>{l+=d.textContent});const c=h4(l,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===l);return!l||!c?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}const Pj=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Ur(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(o=>{const r=typeof o=="string"?o:o.scheme;r&&n.push(r)}),!t||t.replace(Pj,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const Ij=St.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){p4(t);return}p4(t.scheme,t.optionalSlashes)})},onDestroy(){Mj()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Ur(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Ur(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Ur(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",xe(this.options.HTMLAttributes,t),0]:["a",xe(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:o=>!!Ur(o,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:o=>!!Ur(o,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[No({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:o}=this.options,r=h4(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!Ur(a,n),protocols:n,defaultProtocol:o}));r.length&&r.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(Bj({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:o=>this.options.isAllowedUri(o,{defaultValidate:r=>!!Ur(r,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(Oj({type:this.type})),this.options.linkOnPaste&&t.push(Nj({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),Dj=i.defineComponent({__name:"LinkEditPopover",props:{editor:{},icon:{default:void 0},title:{default:void 0},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},shortcutKeys:{default:void 0},isActive:{type:Function,default:void 0},action:{type:Function,default:void 0}},setup(t){const e=t;function n(o,r,s){e.action&&e.action({link:o,text:r,openInNewTab:s})}return(o,r)=>(i.openBlock(),i.createBlock(i.unref(Li),null,{default:i.withCtx(()=>[i.createVNode(i.unref($i),{disabled:o.disabled},{default:i.withCtx(()=>[i.createVNode(ne,{icon:o.icon,tooltip:o.tooltip,"is-active":o.isActive,disabled:o.disabled},null,8,["icon","tooltip","is-active","disabled"])]),_:1},8,["disabled"]),i.createVNode(i.unref(Vi),{"hide-when-detached":"","as-child":"",class:"w-full",align:"start",side:"bottom"},{default:i.withCtx(()=>[i.createVNode(Qx,{editor:o.editor,onOnSetLink:n},null,8,["editor"])]),_:1})]),_:1}))}}),Rj=Ij.extend({inclusive:!1,parseHTML(){return[{tag:'a[href]:not([data-type="button"]):not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:t}){return["a",xe(this.options.HTMLAttributes,t,{class:"link"}),0]},addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),openOnClick:!0,button:({editor:e,t:n})=>({component:Dj,componentProps:{action:o=>{const{link:r,text:s,openInNewTab:a}=o;e.chain().extendMarkRange("link").insertContent({type:"text",text:s,marks:[{type:"link",attrs:{href:r,target:a?"_blank":""}}]}).setLink({href:r}).focus().run()},isActive:()=>e.isActive("link")||!1,disabled:!e.can().setLink({href:""}),icon:"Link",tooltip:n("editor.link.tooltip")}})}},addProseMirrorPlugins(){return[new ge({props:{handleClick:(t,e)=>{const{schema:n,doc:o,tr:r}=t.state,s=Ml(o.resolve(e),n.marks.link);if(!s)return!1;const a=o.resolve(s.from),l=o.resolve(s.to),c=r.setSelection(new Y(a,l));t.dispatch(c)}}})]}}),Lj=Pe.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",xe(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:o,$to:r}=n,s=t();return o.parentOffset===0?s.insertContentAt({from:Math.max(o.pos-1,0),to:r.pos},{type:this.name}):Z1(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:a,dispatch:l})=>{var c;if(l){const{$to:d}=a.selection,u=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?a.setSelection(Y.create(a.doc,d.pos+1)):d.nodeAfter.isBlock?a.setSelection(X.create(a.doc,d.pos)):a.setSelection(Y.create(a.doc,d.pos));else{const f=(c=d.parent.type.contentMatch.defaultType)===null||c===void 0?void 0:c.create();f&&(a.insert(u,f),a.setSelection(Y.create(a.doc,u+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[ny({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}).extend({renderHTML(){return["div",xe(this.options.HTMLAttributes,{"data-type":this.name}),["hr"]]},addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:ne,componentProps:{action:()=>e.commands.setHorizontalRule(),disabled:!e.can().setHorizontalRule(),icon:"Minus",shortcutKeys:["mod","alt","S"],tooltip:n("editor.horizontalrule.tooltip")}})}},addKeyboardShortcuts(){return{"Mod-Alt-s":()=>this.editor.commands.setHorizontalRule()}}});var nu=200,nt=function(){};nt.prototype.append=function(e){return e.length?(e=nt.from(e),!this.length&&e||e.length<nu&&this.leafAppend(e)||this.length<nu&&e.leafPrepend(this)||this.appendInner(e)):this},nt.prototype.prepend=function(e){return e.length?nt.from(e).append(this):this},nt.prototype.appendInner=function(e){return new $j(this,e)},nt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?nt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))},nt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},nt.prototype.forEach=function(e,n,o){n===void 0&&(n=0),o===void 0&&(o=this.length),n<=o?this.forEachInner(e,n,o,0):this.forEachInvertedInner(e,n,o,0)},nt.prototype.map=function(e,n,o){n===void 0&&(n=0),o===void 0&&(o=this.length);var r=[];return this.forEach(function(s,a){return r.push(e(s,a))},n,o),r},nt.from=function(e){return e instanceof nt?e:e&&e.length?new m4(e):nt.empty};var m4=function(t){function e(o){t.call(this),this.values=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,s){return r==0&&s==this.length?this:new e(this.values.slice(r,s))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,s,a,l){for(var c=s;c<a;c++)if(r(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,a,l){for(var c=s-1;c>=a;c--)if(r(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=nu)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=nu)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(nt);nt.empty=new m4([]);var $j=function(t){function e(n,o){t.call(this),this.left=n,this.right=o,this.length=n.length+o.length,this.depth=Math.max(n.depth,o.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(o){return o<this.left.length?this.left.get(o):this.right.get(o-this.left.length)},e.prototype.forEachInner=function(o,r,s,a){var l=this.left.length;if(r<l&&this.left.forEachInner(o,r,Math.min(s,l),a)===!1||s>l&&this.right.forEachInner(o,Math.max(r-l,0),Math.min(this.length,s)-l,a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(o,r,s,a){var l=this.left.length;if(r>l&&this.right.forEachInvertedInner(o,r-l,Math.max(s,l)-l,a+l)===!1||s<l&&this.left.forEachInvertedInner(o,Math.min(r,l),s,a)===!1)return!1},e.prototype.sliceInner=function(o,r){if(o==0&&r==this.length)return this;var s=this.left.length;return r<=s?this.left.slice(o,r):o>=s?this.right.slice(o-s,r-s):this.left.slice(o,s).append(this.right.slice(0,r-s))},e.prototype.leafAppend=function(o){var r=this.right.leafAppend(o);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(o){var r=this.left.leafPrepend(o);if(r)return new e(r,this.right)},e.prototype.appendInner=function(o){return this.left.depth>=Math.max(this.right.depth,o.depth)+1?new e(this.left,new e(this.right,o)):new e(this,o)},e}(nt);const Vj=500;class ln{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let o=this.items.length;for(;;o--)if(this.items.get(o-1).selection){--o;break}let r,s;n&&(r=this.remapping(o,this.items.length),s=r.maps.length);let a=e.tr,l,c,d=[],u=[];return this.items.forEach((f,p)=>{if(!f.step){r||(r=this.remapping(o,p+1),s=r.maps.length),s--,u.push(f);return}if(r){u.push(new Dn(f.map));let h=f.step.map(r.slice(s)),m;h&&a.maybeStep(h).doc&&(m=a.mapping.maps[a.mapping.maps.length-1],d.push(new Dn(m,void 0,void 0,d.length+u.length))),s--,m&&r.appendMap(m,s)}else a.maybeStep(f.step);if(f.selection)return l=r?f.selection.map(r.slice(s)):f.selection,c=new ln(this.items.slice(0,o).append(u.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:a,selection:l}}addTransform(e,n,o,r){let s=[],a=this.eventCount,l=this.items,c=!r&&l.length?l.get(l.length-1):null;for(let u=0;u<e.steps.length;u++){let f=e.steps[u].invert(e.docs[u]),p=new Dn(e.mapping.maps[u],f,n),h;(h=c&&c.merge(p))&&(p=h,u?s.pop():l=l.slice(0,l.length-1)),s.push(p),n&&(a++,n=void 0),r||(c=p)}let d=a-o.depth;return d>Fj&&(l=zj(l,d),a-=d),new ln(l.append(s),a)}remapping(e,n){let o=new Zr;return this.items.forEach((r,s)=>{let a=r.mirrorOffset!=null&&s-r.mirrorOffset>=e?o.maps.length-r.mirrorOffset:void 0;o.appendMap(r.map,a)},e,n),o}addMaps(e){return this.eventCount==0?this:new ln(this.items.append(e.map(n=>new Dn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let o=[],r=Math.max(0,this.items.length-n),s=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(p=>{p.selection&&l--},r);let c=n;this.items.forEach(p=>{let h=s.getMirror(--c);if(h==null)return;a=Math.min(a,h);let m=s.maps[h];if(p.step){let g=e.steps[h].invert(e.docs[h]),y=p.selection&&p.selection.map(s.slice(c+1,h));y&&l++,o.push(new Dn(m,g,y))}else o.push(new Dn(m))},r);let d=[];for(let p=n;p<a;p++)d.push(new Dn(s.maps[p]));let u=this.items.slice(0,r).append(d).append(o),f=new ln(u,l);return f.emptyItemCount()>Vj&&(f=f.compress(this.items.length-o.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),o=n.maps.length,r=[],s=0;return this.items.forEach((a,l)=>{if(l>=e)r.push(a),a.selection&&s++;else if(a.step){let c=a.step.map(n.slice(o)),d=c&&c.getMap();if(o--,d&&n.appendMap(d,o),c){let u=a.selection&&a.selection.map(n.slice(o));u&&s++;let f=new Dn(d.invert(),c,u),p,h=r.length-1;(p=r.length&&r[h].merge(f))?r[h]=p:r.push(f)}}else a.map&&o--},this.items.length,0),new ln(nt.from(r.reverse()),s)}}ln.empty=new ln(nt.empty,0);function zj(t,e){let n;return t.forEach((o,r)=>{if(o.selection&&e--==0)return n=r,!1}),t.slice(n)}class Dn{constructor(e,n,o,r){this.map=e,this.step=n,this.selection=o,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Dn(n.getMap().invert(),n,this.selection)}}}class ir{constructor(e,n,o,r,s){this.done=e,this.undone=n,this.prevRanges=o,this.prevTime=r,this.prevComposition=s}}const Fj=20;function Hj(t,e,n,o){let r=n.getMeta(Wr),s;if(r)return r.historyState;n.getMeta(Wj)&&(t=new ir(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(Wr))return a.getMeta(Wr).redo?new ir(t.done.addTransform(n,void 0,o,ou(e)),t.undone,g4(n.mapping.maps),t.prevTime,t.prevComposition):new ir(t.done,t.undone.addTransform(n,void 0,o,ou(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),c=t.prevTime==0||!a&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-o.newGroupDelay||!jj(n,t.prevRanges)),d=a?Zm(t.prevRanges,n.mapping):g4(n.mapping.maps);return new ir(t.done.addTransform(n,c?e.selection.getBookmark():void 0,o,ou(e)),ln.empty,d,n.time,l??t.prevComposition)}else return(s=n.getMeta("rebased"))?new ir(t.done.rebased(n,s),t.undone.rebased(n,s),Zm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new ir(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Zm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function jj(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((o,r)=>{for(let s=0;s<e.length;s+=2)o<=e[s+1]&&r>=e[s]&&(n=!0)}),n}function g4(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((o,r,s,a)=>e.push(s,a));return e}function Zm(t,e){if(!t)return null;let n=[];for(let o=0;o<t.length;o+=2){let r=e.map(t[o],1),s=e.map(t[o+1],-1);r<=s&&n.push(r,s)}return n}function Uj(t,e,n){let o=ou(e),r=Wr.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,o);if(!s)return null;let a=s.selection.resolve(s.transform.doc),l=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),r,o),c=new ir(n?l:s.remaining,n?s.remaining:l,null,0,-1);return s.transform.setSelection(a).setMeta(Wr,{redo:n,historyState:c})}let Qm=!1,y4=null;function ou(t){let e=t.plugins;if(y4!=e){Qm=!1,y4=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Qm=!0;break}}return Qm}const Wr=new ye("history"),Wj=new ye("closeHistory");function Kj(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new ge({key:Wr,state:{init(){return new ir(ln.empty,ln.empty,null,0,-1)},apply(e,n,o){return Hj(n,o,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let o=n.inputType,r=o=="historyUndo"?w4:o=="historyRedo"?x4:null;return r?(n.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function b4(t,e){return(n,o)=>{let r=Wr.getState(n);if(!r||(t?r.undone:r.done).eventCount==0)return!1;if(o){let s=Uj(r,n,t);s&&o(e?s.scrollIntoView():s)}return!0}}const w4=b4(!1,!0),x4=b4(!0,!0),qj=fe.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>w4(t,e),redo:()=>({state:t,dispatch:e})=>x4(t,e)}},addProseMirrorPlugins(){return[Kj(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}).extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),depth:10,button:({editor:e,t:n})=>["undo","redo"].map(r=>({component:ne,componentProps:{action:()=>{r==="undo"&&e.commands.undo(),r==="redo"&&e.commands.redo()},shortcutKeys:r==="undo"?["mod","Z"]:["shift","mod","Z"],disabled:!e.can()[r](),icon:r==="undo"?"Undo2":"Redo2",tooltip:n(`editor.${r}.tooltip`)}}))}}}),{isFullscreen:eg,toggleFullscreen:tg}=Ot(),Gj=fe.create({name:"fullscreen",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,extension:n,t:o})=>({component:ne,componentProps:{tooltip:eg.value?o("editor.fullscreen.tooltip.exit"):o("editor.fullscreen.tooltip.fullscreen"),action:()=>tg(),icon:eg.value?"Minimize":"Maximize",isActive:()=>eg.value}})}},addKeyboardShortcuts(){return{F11:()=>(tg(),!0),"Mod-F11":()=>(tg(),!0)}}}),Jj=fe.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const o=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(o)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new ge({key:new ye("characterCount"),appendTransaction:(e,n,o)=>{if(t)return;const r=this.options.limit;if(r==null||r===0){t=!0;return}const s=this.storage.characters({node:o.doc});if(s>r){const a=s-r,l=0,c=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${r} characters. Content was automatically trimmed.`);const d=o.tr.deleteRange(l,c);return t=!0,d}t=!0},filterTransaction:(e,n)=>{const o=this.options.limit;if(!e.docChanged||o===0||o===null||o===void 0)return!0;const r=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=o||r>o&&s>o&&s<=r)return!0;if(r>o&&s>o&&s>r||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=s-o,d=l-c,u=l;return e.deleteRange(d,u),!(this.storage.characters({node:e.doc})>o)}})]}}),Yj=Pe.create({name:"doc",topNode:!0,content:"block+"}).extend({content:"(block|columns)+"});function Xj(t={}){return new ge({view(e){return new Zj(e,t)}})}class Zj{constructor(e,n){var o;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(o=n.width)!==null&&o!==void 0?o:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let s=a=>{this[r](a)};return e.dom.addEventListener(r,s),{name:r,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,o;if(n){let l=e.nodeBefore,c=e.nodeAfter;if(l||c){let d=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(d){let u=d.getBoundingClientRect(),f=l?u.bottom:u.top;l&&c&&(f=(f+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),o={left:u.left,right:u.right,top:f-this.width/2,bottom:f+this.width/2}}}}if(!o){let l=this.editorView.coordsAtPos(this.cursorPos);o={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,a;if(!r||r==document.body&&getComputedStyle(r).position=="static")s=-pageXOffset,a=-pageYOffset;else{let l=r.getBoundingClientRect();s=l.left-r.scrollLeft,a=l.top-r.scrollTop}this.element.style.left=o.left-s+"px",this.element.style.top=o.top-a+"px",this.element.style.width=o.right-o.left+"px",this.element.style.height=o.bottom-o.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),o=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=o&&o.type.spec.disableDropCursor,s=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=r0(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const Qj=fe.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Xj(this.options)]}}),eU=fe.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new ge({key:new ye("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:o}=this.editor,{anchor:r}=e,s=[];if(!n||!o)return we.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((c,d)=>{if(c.isText)return;if(!(r>=d&&r<=d+c.nodeSize-1))return!1;a+=1});let l=0;return t.descendants((c,d)=>{if(c.isText||!(r>=d&&r<=d+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&a-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";s.push(je.node(d,d+c.nodeSize,{class:this.options.className}))}),we.create(t,s)}}})]}});class We extends ee{constructor(e){super(e,e)}map(e,n){let o=e.resolve(n.map(this.head));return We.valid(o)?new We(o):ee.near(o)}content(){return H.empty}eq(e){return e instanceof We&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new We(e.resolve(n.pos))}getBookmark(){return new ng(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!tU(e)||!nU(e))return!1;let o=n.type.spec.allowGapCursor;if(o!=null)return o;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,o=!1){e:for(;;){if(!o&&We.valid(e))return e;let r=e.pos,s=null;for(let a=e.depth;;a--){let l=e.node(a);if(n>0?e.indexAfter(a)<l.childCount:e.index(a)>0){s=l.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;r+=n;let c=e.doc.resolve(r);if(We.valid(c))return c}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!X.isSelectable(s)){e=e.doc.resolve(r+s.nodeSize*n),o=!1;continue e}break}s=a,r+=n;let l=e.doc.resolve(r);if(We.valid(l))return l}return null}}}We.prototype.visible=!1,We.findFrom=We.findGapCursorFrom,ee.jsonID("gapcursor",We);class ng{constructor(e){this.pos=e}map(e){return new ng(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return We.valid(n)?new We(n):ee.near(n)}}function tU(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),o=t.node(e);if(n==0){if(o.type.spec.isolating)return!0;continue}for(let r=o.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function nU(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),o=t.node(e);if(n==o.childCount){if(o.type.spec.isolating)return!0;continue}for(let r=o.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function oU(){return new ge({props:{decorations:aU,createSelectionBetween(t,e,n){return e.pos==n.pos&&We.valid(n)?new We(n):null},handleClick:iU,handleKeyDown:rU,handleDOMEvents:{beforeinput:sU}}})}const rU=sf({ArrowLeft:ru("horiz",-1),ArrowRight:ru("horiz",1),ArrowUp:ru("vert",-1),ArrowDown:ru("vert",1)});function ru(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(o,r,s){let a=o.selection,l=e>0?a.$to:a.$from,c=a.empty;if(a instanceof Y){if(!s.endOfTextblock(n)||l.depth==0)return!1;c=!1,l=o.doc.resolve(e>0?l.after():l.before())}let d=We.findGapCursorFrom(l,e,c);return d?(r&&r(o.tr.setSelection(new We(d))),!0):!1}}function iU(t,e,n){if(!t||!t.editable)return!1;let o=t.state.doc.resolve(e);if(!We.valid(o))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&X.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new We(o))),!0)}function sU(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof We))return!1;let{$from:n}=t.state.selection,o=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!o)return!1;let r=I.empty;for(let a=o.length-1;a>=0;a--)r=I.from(o[a].createAndFill(null,r));let s=t.state.tr.replace(n.pos,n.pos,new H(r,0,0));return s.setSelection(Y.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function aU(t){if(!(t.selection instanceof We))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",we.create(t.doc,[je.widget(t.selection.head,e,{key:"gapcursor"})])}const lU=fe.create({name:"gapCursor",addProseMirrorPlugins(){return[oU()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=ce(K(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),cU=Pe.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",xe(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:o})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:r,storedMarks:s}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=o.extensionManager,c=s||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:u})=>{if(u&&c&&a){const f=c.filter(p=>l.includes(p.type.name));d.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),dU=Pe.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",xe(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),uU=Pe.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",xe(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),fU=fe.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new ge({key:new ye("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:o}=e,r=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((a,l)=>{const c=o>=l&&o<=l+a.nodeSize,d=!a.isLeaf&&Il(a);if((c||!this.options.showOnlyCurrent)&&d){const u=[this.options.emptyNodeClass];s&&u.push(this.options.emptyEditorClass);const f=je.node(l,l+a.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:l,hasAnchor:c}):this.options.placeholder});r.push(f)}return this.options.includeChildren}),we.create(t,r)}}})]}}),pU=Pe.create({name:"text",group:"inline"});function k4({types:t,node:e}){return Array.isArray(t)&&t.includes(e.type)||e.type===t}const hU=fe.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:["paragraph"]}},addProseMirrorPlugins(){const t=new ye(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>this.options.notAfter.includes(n.name));return[new ge({key:t,appendTransaction:(n,o,r)=>{const{doc:s,tr:a,schema:l}=r,c=t.getState(r),d=s.content.size,u=l.nodes[this.options.node];if(c)return a.insert(d,u.create())},state:{init:(n,o)=>{const r=o.tr.doc.lastChild;return!k4({node:r,types:e})},apply:(n,o)=>{if(!n.docChanged)return o;const r=n.doc.lastChild;return!k4({node:r,types:e})}}})]}}),mU=fe.create({name:"selection",addProseMirrorPlugins(){const{editor:t}=this;return[new ge({key:new ye("selection"),props:{decorations(e){return e.selection.empty||t.isFocused===!0?null:we.create(e.doc,[je.inline(e.selection.from,e.selection.to,{class:"selection"})])}}})]}}),gU=[{label:"优酷",value:"youku",icon:"Youku"},{label:"哔哩哔哩",value:"bilibili",icon:"BiliBili"},{label:"腾讯视频",value:"qqvideo",icon:"QQVideo"}],yU=[{label:"高德地图",value:"amap",icon:"Gaode"},{label:"百度地图",value:"baidu_map",icon:"Baidu"}],bU=[{label:"墨刀",value:"modao",icon:"Modao"},{label:"蓝湖",value:"lanhu",icon:"Lanhu"},{label:"Figma",value:"figma",icon:"Figma"},{label:"Canva",value:"canva",icon:"Canva"},{label:"ProcessOn",value:"processon",icon:"Processon"}],wU=[{label:"CodePen",value:"codepen",icon:"Codepen"}],xU=[{label:"金数据",value:"jinshuju",icon:"Jinshuju"}],kU=[],CU=[...gU,...yU,...bU,...wU,...xU,...kU],Kr={youtube:{example:"https://www.youtube.com/watch?v=I4sMhHbHYXM",src:"https://www.youtube.com/embed/I4sMhHbHYXM",srcPrefix:"https://www.youtube.com/embed",linkRule:["www.youtube.com\\/watch\\?v=\\w+"]},youku:{example:"https://v.youku.com/v_show/id_XNDM0NDM4MTcy.html?spm=a2h0c.8166622.PhoneSokuUgc_4.dtitle",src:"https://player.youku.com/embed/XNDM0NDM4MTcy",srcPrefix:"https://player.youku.com/embed",linkRule:["v.youku.com\\/v_show\\/id_\\w+\\=*"],idRule:"id_\\w+\\=*"},bilibili:{example:"https://www.bilibili.com/video/BV1EJ411u7DN",src:"https://player.bilibili.com/player.html?bvid=BV1EJ411u7DN",srcPrefix:"https://player.bilibili.com/player.html?bvid",linkRule:["www.bilibili.com\\/video\\/\\w+"]},qqvideo:{example:"https://v.qq.com/x/cover/mzc0020006aw1mn/u0033nvzb5v.html",src:"https://v.qq.com/txp/iframe/player.html?vid=u0033nvzb5v",srcPrefix:"https://v.qq.com/txp/iframe/player.html?vid",linkRule:["v.qq.com\\/x\\/cover\\/\\w+\\/\\w+"]},amap:{example:"https://ditu.amap.com/",src:"https://www.amap.com/place/B000A45467",srcPrefix:"",linkRule:["\\.amap\\.com"]},baidu_map:{example:"https://j.map.baidu.com/15/fo",src:"https://j.map.baidu.com/15/fo",srcPrefix:"",linkRule:["map\\.baidu\\.com"]},modao:{example:"https://free.modao.cc/app/2cd26580a6717a147454df7470e7ec464093cba3/embed/v2#screen=sk71k6d1dfxulzx",src:"https://free.modao.cc/app/6UkpAxcGE3nPz52GLqhnOZgC7MATBSy/embed/v2",srcPrefix:"",linkRule:["https:\\/\\/\\w+.modao.cc\\/app\\/\\w+\\/embed\\/v2"],tips:"Modao > More > Share > Embed > COPY"},lanhu:{example:"https://lanhuapp.com/link/#/invite?sid=evP7L",src:"https://lanhuapp.com/url/evP7L",srcPrefix:"",linkRule:["https:\\/\\/lanhuapp.com\\/url\\/\\w+"],tips:"Lanhu > Project > Share > Copy Link"},figma:{example:"https://www.figma.com/file/aS9uSgPXoNpaPkzbjNcK8v/Demo?node-id=0%3A1",src:"https://www.figma.com/file/aS9uSgPXoNpaPkzbjNcK8v/Demo?node-id=0%3A1",srcPrefix:"https://www.figma.com/embed?embed_host=share&url",linkRule:["https:\\/\\/www.figma.com\\/file\\/\\w+"]},canva:{example:"https://www.canva.cn/design/DAD61-t29UI/view",src:"https://www.canva.cn/design/DAD61-t29UI/view",srcPrefix:"",linkRule:["https:\\/\\/www.canva.cn\\/design\\/.+\\/view"]},processon:{example:"https://www.processon.com/embed/5ea99d8607912948b0e6fe78",src:"https://www.processon.com/embed/5ea99d8607912948b0e6fe78",srcPrefix:"",linkRule:["https:\\/\\/www.processon.com\\/embed\\/\\w+"]},codepen:{example:"https://codepen.io/mekery/embed/YzyrKOJ",src:"https://codepen.io/mekery/embed/YzyrKOJ",srcPrefix:"",linkRule:["https:\\/\\/codepen.io\\/.+\\/embed\\/\\w+"]},jinshuju:{example:"https://jinshuju.net/f/q9YvVf",src:"https://jinshuju.net/f/q9YvVf",srcPrefix:"",linkRule:["https:\\/\\/jinshuju.net\\/f\\/\\w+"]},iframe:{example:"https://v.youku.com/v_show/id_XNDM0NDM4MTcy.html",src:"https://player.youku.com/embed/XNDM0NDM4MTcy",srcPrefix:"",linkRule:[".+"]}};function SU(t,e){let n=Kr.youtube,o=e.matchedUrl;e.validLink=!0;let r=o.split("="),s=r.length;if(s>0){let a=r[s-1];e.src=`${n.srcPrefix}/${a}`,e.validId=!0}return e}function EU(t,e){let n=Kr.youku,o=e.matchedUrl,r=n.idRule,s=new RegExp(r),a=o.match(s);if(a&&a.length>0){let l=a[0].substr(3);e.validId=!0,e.src=`${n.srcPrefix}/${l}`}else e.validId=!1;return e}function vU(t,e){let n=Kr.bilibili,r=e.matchedUrl.split("/"),s=r.length;if(s>0){let a=r[s-1];e.src=`${n.srcPrefix}=${a}`,e.validId=!0}return e}function AU(t,e){let n=Kr.qqvideo,r=e.matchedUrl.split("/"),s=r.length;if(s>0){let a=r[s-1];e.src=`${n.srcPrefix}=${a}`,e.validId=!0}return e}function MU(t,e){return e.src=t,e.validId=!0,e}function _U(t,e){return e.src=t,e.validId=!0,e}function TU(t,e){return e.src=e.matchedUrl,e.validId=!0,e.originalLink=e.src,e}function BU(t,e){return e.src=e.matchedUrl,e.validId=!0,e.originalLink=e.src,e}function OU(t,e){return e.src=e.matchedUrl,e.validId=!0,e.originalLink=e.src,e}function NU(t,e){let n=Kr.figma;return e.src=`${n.srcPrefix}=${encodeURIComponent(e.matchedUrl)}`,e.validId=!0,e.originalLink=e.matchedUrl,e}function PU(t,e){return e.src=`${e.matchedUrl}?embed`,e.validId=!0,e.originalLink=t,e}function IU(t,e){return e.src=`${e.matchedUrl}`,e.validId=!0,e.originalLink=t,e}function DU(t,e){return e.src=`${e.matchedUrl}`,e.validId=!0,e.originalLink=e.src,e}function RU(t,e){return e.src=`${e.matchedUrl}?background=white&banner=show&embedded=true`,e.validId=!0,e.originalLink=t,e}function LU(t,e){return e.src=`${e.matchedUrl}`,e.validId=!0,e.originalLink=t,e}function $U(t,e,n){let r=Kr[t].linkRule;for(var s of r){let a=new RegExp(s),l=e.match(a);if(l&&l.length>0)return n.validLink=!0,n.matchedUrl=l[0],n}return n}function VU(t){let e="",n=Kr[t];return n&&(e=n.example),e}const C4=(t,e)=>{let n={validLink:!1,validId:!1,matchedUrl:"",originalLink:e,src:""};if(n=$U(t,e,n),!n.validLink)return n;switch(t){case"youtube":return SU(e,n);case"youku":return EU(e,n);case"bilibili":return vU(e,n);case"qqvideo":return AU(e,n);case"amap":return MU(e,n);case"baidu_map":return _U(e,n);case"google_map":return TU(e,n);case"modao":return BU(e,n);case"lanhu":return OU(e,n);case"figma":return NU(e,n);case"canva":return PU(e,n);case"processon":return IU(e,n);case"codepen":return DU(e,n);case"jinshuju":return RU(e,n);case"iframe":return LU(e,n)}return n},zU={key:0,class:"flex flex-row relative items-center"},FU={class:"flex gap-2 absolute right-1 w-36"},HU=["src"],jU=i.defineComponent({__name:"IframeNodeView",props:{...zs},setup(t){const e=t,n=i.ref(""),o=i.computed({get:()=>e.node.attrs.src,set:a=>{n.value=a,e.updateAttributes({src:a})}});function r(){let a=C4(e.node.attrs.service,n.value);a.validLink&&a.validId?o.value=a.src:console.log("暂不支持")}function s(){const a=VU(e.node.attrs.service);if(a){let l=C4(e.node.attrs.service,a);o.value=l.src}}return i.onMounted(()=>{n.value=e.node.attrs.src}),(a,l)=>(i.openBlock(),i.createBlock(i.unref(Vs),{as:"section"},{default:i.withCtx(()=>[o.value?i.createCommentVNode("",!0):(i.openBlock(),i.createElementBlock("div",zU,[i.createVNode(i.unref(Jo),{"model-value":n.value,"onUpdate:modelValue":l[0]||(l[0]=c=>n.value=c),type:"url",class:"h-12 pr-40",autofocus:"",placeholder:"输入链接"},null,8,["model-value"]),i.createElementVNode("div",FU,[i.createVNode(i.unref(lt),{onClick:s,variant:"outline"},{default:i.withCtx(()=>[i.createTextVNode("示例")]),_:1}),i.createVNode(i.unref(lt),{type:"primary",onClick:r},{default:i.withCtx(()=>[i.createTextVNode("确认")]),_:1})])])),o.value?(i.openBlock(),i.createElementBlock("iframe",{key:1,src:o.value,frameborder:"0",allowfullscreen:"true"},null,8,HU)):i.createCommentVNode("",!0)]),_:1}))}}),UU=Pe.create({name:"iframes",group:"block",atom:!0,addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),allowFullscreen:!0,HTMLAttributes:{class:"iframe-wrapper"}}},addAttributes(){return{src:{default:null},service:{default:null},frameborder:{default:0},allowfullscreen:{default:this.options.allowFullscreen,parseHTML:()=>this.options.allowFullscreen}}},parseHTML(){return[{tag:"iframe"}]},renderHTML({HTMLAttributes:t}){return["div",this.options.HTMLAttributes,["iframe",t]]},addNodeView(){return Fs(jU)},addCommands(){return{setIframe:t=>({tr:e,dispatch:n})=>{const{selection:o}=e,r=this.type.create(t);return n&&e.replaceRangeWith(o.from,o.to,r),!0}}}}),WU=t=>{const e=["size-small","size-medium","size-large"],n=["SizeS","SizeM","SizeL"];return e.map((o,r)=>({type:`video-${o}`,component:ne,componentProps:{tooltip:`editor.${o.replace("-",".")}.tooltip`,icon:n[r],action:()=>t.commands.updateVideo({width:Ul[o]}),isActive:()=>t.isActive("video",{width:Ul[o]})}}))},KU=t=>[...WU(t),{type:"remove",component:ne,componentProps:{tooltip:"editor.remove",icon:"Trash2",action:()=>{const{state:e,dispatch:n}=t.view;af(e,n)}}}],qU=(t,e,{editor:n,extension:o,t:r})=>{const{extensions:s=[]}=n.extensionManager,a={};for(const l of Object.keys(t)){const c=t[l];if(!c)continue;const d=[];for(const p of c){if(p==="divider"){const g=d[d.length-1];if((g==null?void 0:g.type)==="divider")continue;d.push({type:"divider",component:void 0,componentProps:{}});continue}const h=e.find(g=>g.type===p);if(h){d.push({...h,componentProps:{...h.componentProps,tooltip:h.componentProps.tooltip?r(h.componentProps.tooltip):void 0},componentSlots:h.componentSlots});continue}const m=s.find(g=>g.name===p);if(m){const{button:g}=m.options,y=g({editor:n,extension:m,t:r});d.push({type:p,component:y.component,componentProps:y.componentProps,componentSlots:y.componentSlots});continue}}const u=d[d.length-1],f=d[0];(u==null?void 0:u.type)==="divider"&&d.pop(),(f==null?void 0:f.type)==="divider"&&d.shift(),a[l]=d}return a},GU={class:"flex items-center gap-2 px-2"},JU=i.defineComponent({__name:"TextDropdown",props:{editor:{},disabled:{type:Boolean,default:!1},color:{default:void 0},maxHeight:{default:void 0},icon:{default:void 0},tooltip:{default:""}},setup(t){const e=t,{t:n}=Be(),o=i.computed(()=>[{name:"paragraph",label:n.value("editor.paragraph.tooltip"),iconName:"Paragraph",isActive:()=>e.editor.isActive("paragraph")&&!e.editor.isActive("orderedList")&&!e.editor.isActive("bulletList")&&!e.editor.isActive("taskList"),action:()=>e.editor.chain().focus().clearNodes().run()},{name:"heading1",label:n.value("editor.heading.h1.tooltip"),isActive:()=>e.editor.isActive("heading",{level:1}),iconName:"Heading1",action:()=>e.editor.chain().focus().clearNodes().toggleHeading({level:1}).run()},{name:"heading2",label:n.value("editor.heading.h2.tooltip"),isActive:()=>e.editor.isActive("heading",{level:2}),iconName:"Heading2",action:()=>e.editor.chain().focus().clearNodes().toggleHeading({level:2}).run()},{name:"heading3",label:n.value("editor.heading.h3.tooltip"),isActive:()=>e.editor.isActive("heading",{level:3}),iconName:"Heading3",action:()=>e.editor.chain().focus().clearNodes().toggleHeading({level:3}).run()},{name:"bulletList",label:n.value("editor.bulletlist.tooltip"),isActive:()=>e.editor.isActive("bulletList"),iconName:"List",action:()=>e.editor.chain().focus().clearNodes().toggleBulletList().run()},{name:"numberedList",label:n.value("editor.orderedlist.tooltip"),isActive:()=>e.editor.isActive("orderedList"),iconName:"ListOrdered",action:()=>e.editor.chain().focus().clearNodes().toggleOrderedList().run()},{name:"taskList",label:n.value("editor.tasklist.tooltip"),isActive:()=>e.editor.isActive("taskList"),iconName:"ListTodo",action:()=>e.editor.chain().focus().clearNodes().toggleTaskList().run()},{name:"blockquote",label:n.value("editor.blockquote.tooltip"),isActive:()=>e.editor.isActive("blockquote"),iconName:"TextQuote",action:()=>e.editor.chain().focus().clearNodes().toggleBlockquote().run()},{name:"codeBlock",label:n.value("editor.codeblock.tooltip"),isActive:()=>e.editor.isActive("codeBlock"),iconName:"Code2",action:()=>e.editor.chain().focus().clearNodes().toggleCodeBlock().run()}]),r=i.computed(()=>o.value.filter(s=>s.isActive()).pop()??{label:n.value("editor.modify")});return(s,a)=>{var l;return i.openBlock(),i.createBlock(Hr,{title:(l=r.value)==null?void 0:l.label,sideOffset:5},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.value,(c,d)=>{var u;return i.openBlock(),i.createBlock(i.unref(Xi),{key:d,onClick:c.action,class:"cursor-pointer",checked:((u=c.isActive)==null?void 0:u.call(c))||!1},{default:i.withCtx(()=>[i.createElementVNode("div",GU,[i.createVNode(i.unref(re),{name:c.iconName,class:"h3 w-3"},null,8,["name"]),i.createElementVNode("span",null,i.toDisplayString(c.label),1)])]),_:2},1032,["onClick","checked"])}),128))]),_:1},8,["title"])}}}),YU=fe.create({name:"text-bubble",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),toolbar:!1,button:()=>({component:JU,componentProps:{}})}}}),XU=fe.create({name:"base-kit",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),bubble:{list:_v,defaultBubbleList:KU,button:({editor:e,extension:n,t:o})=>{var l;const{list:r={},defaultBubbleList:s}=((l=n.options)==null?void 0:l.bubble)??{},a=(s==null?void 0:s(e))??[];return qU(r,a,{editor:e,extension:n,t:o})}}}},addExtensions(){const{t}=Be(),e=[];return this.options.placeholder!==!1&&e.push(fU.configure({placeholder:({node:n,pos:o})=>{var s;const r=(s=n==null?void 0:n.type)==null?void 0:s.name;return r==="heading"?`${t.value(`editor.heading.h${n.attrs.level}.tooltip`)}`:r==="table"||r==="codeBlock"?"":o===0?t.value("editor.content"):t.value("editor.slash")},...this.options.placeholder})),this.options.focus!==!1&&e.push(eU.configure({className:"focus",...this.options.focus})),this.options.document!==!1&&e.push(Yj.configure()),this.options.text!==!1&&e.push(pU.configure()),this.options.textBubble!==!1&&e.push(YU.configure()),this.options.gapcursor!==!1&&e.push(lU.configure()),this.options.dropcursor!==!1&&e.push(Qj.configure({...this.options.dropcursor,width:2,class:"ProseMirror-dropcursor border-black"})),this.options.characterCount!==!1&&e.push(Jj.configure(this.options.characterCount)),this.options.paragraph!==!1&&e.push(uU.configure(this.options.paragraph)),this.options.hardBreak!==!1&&e.push(cU.configure(this.options.hardBreak)),this.options.listItem!==!1&&e.push(dU.configure(this.options.listItem)),this.options.textStyle!==!1&&e.push(IH.configure(this.options.textStyle)),this.options.iframe!==!1&&e.push(UU.configure(this.options.iframe)),this.options.trailingNode!==!1&&e.push(hU.configure(this.options.trailingNode)),this.options.selection!==!1&&e.push(mU),e}}),S4=St.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(t){return t!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sub",xe(this.options.HTMLAttributes,t),0]},addCommands(){return{setSubscript:()=>({commands:t})=>t.setMark(this.name),toggleSubscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSubscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),E4=St.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(t){return t!=="super"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sup",xe(this.options.HTMLAttributes,t),0]},addCommands(){return{setSuperscript:()=>({commands:t})=>t.setMark(this.name),toggleSuperscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSuperscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),ZU=fe.create({name:"subAndSuperScript",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,extension:n,t:o})=>{const r=n.options.subscript,s=n.options.superscript,a={component:ne,componentProps:{action:()=>e.commands.toggleSubscript(),isActive:()=>e.isActive("subscript")||!1,disabled:!e.can().toggleSubscript(),icon:"Subscript",tooltip:o("editor.subscript.tooltip")}},l={component:ne,componentProps:{action:()=>e.commands.toggleSuperscript(),isActive:()=>e.isActive("superscript")||!1,disabled:!e.can().toggleSuperscript(),icon:"Superscript",tooltip:o("editor.superscript.tooltip")}},c=[];return r!==!1&&c.push(a),s!==!1&&c.push(l),c}}},addExtensions(){const t=[];return this.options.subscript!==!1&&t.push(S4.configure(this.options.subscript)),this.options.superscript!==!1&&t.push(E4.configure(this.options.superscript)),t}}),QU={class:"ml-1"},eW=i.defineComponent({__name:"ActionMoreButton",props:{editor:{},disabled:{type:Boolean,default:!1},color:{default:void 0},maxHeight:{default:void 0},icon:{default:void 0},tooltip:{default:""},items:{default:()=>[]}},setup(t){const e=t,n=i.computed(()=>{const o=e.items.find(s=>s.isActive());return o&&!o.default?{...o,icon:o.icon?o.icon:e.icon}:{title:e.tooltip,icon:e.icon,isActive:()=>!1}});return(o,r)=>(i.openBlock(),i.createBlock(Hr,{icon:o.icon,tooltip:o.tooltip,disabled:o.disabled},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.items,(s,a)=>(i.openBlock(),i.createBlock(i.unref(Xi),{checked:n.value.title===s.title,onClick:s.action,key:a,disabled:s.disabled,class:"flex gap-3 items-center"},{default:i.withCtx(()=>[s.icon?(i.openBlock(),i.createBlock(i.unref(re),{key:0,name:s.icon},null,8,["name"])):i.createCommentVNode("",!0),i.createElementVNode("span",QU,i.toDisplayString(s.title),1),s.shortcutKeys?(i.openBlock(),i.createBlock(i.unref(hC),{key:1,class:"ml-auto"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(oo)(s.shortcutKeys)),1)]),_:2},1024)):i.createCommentVNode("",!0)]),_:2},1032,["checked","onClick","disabled"]))),128))]),_:1},8,["icon","tooltip","disabled"]))}}),tW=fe.create({name:"moreMark",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button({editor:e,extension:n,t:o}){const r=n.options.subscript,s=n.options.superscript,a={action:()=>e.commands.toggleSubscript(),isActive:()=>e.isActive("subscript")||!1,disabled:!e.can().toggleSubscript(),icon:"Subscript",title:o("editor.subscript.tooltip"),shortcutKeys:["mod","."]},l={action:()=>e.commands.toggleSuperscript(),isActive:()=>e.isActive("superscript")||!1,disabled:!e.can().toggleSuperscript(),icon:"Superscript",title:o("editor.superscript.tooltip"),shortcutKeys:["mod",","]},c=tc(e,"code"),d=[];if(r!==!1&&d.push(a),s!==!1&&d.push(l),c){const u={action:()=>e.commands.toggleCode(),isActive:()=>e.isActive("code")||!1,disabled:!e.can().toggleCode(),icon:"Code",title:o("editor.code.tooltip"),shortcutKeys:["mod","E"]};c&&d.push(u)}return{component:eW,componentProps:{icon:"Type",tooltip:o("editor.moremark"),disabled:!e.isEditable||d.every(u=>u.disabled),items:d}}}}},addExtensions(){const t=[];return this.options.subscript!==!1&&t.push(S4.configure(this.options.subscript)),this.options.superscript!==!1&&t.push(E4.configure(this.options.superscript)),t}}),nW=fe.create({name:"indent",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),types:["paragraph","heading","blockquote"],minIndent:co.min,maxIndent:co.max,button({editor:e,t:n}){var s,a;const{selection:o}=e.state,r=o.$anchor.parent;return[{component:ne,componentProps:{action:()=>{e.commands.indent()},disabled:((s=r==null?void 0:r.attrs)==null?void 0:s.indent)>=co.max||!e.can().indent(),shortcutKeys:["Tab"],icon:"IndentIncrease",tooltip:n("editor.indent.tooltip")}},{component:ne,componentProps:{action:()=>{e.commands.outdent()},shortcutKeys:["Shift","Tab"],disabled:((a=r==null?void 0:r.attrs)==null?void 0:a.indent)<=co.min||!e.can().outdent(),icon:"IndentDecrease",tooltip:n("editor.outdent.tooltip")}}]}}},addGlobalAttributes(){return[{types:this.options.types,attributes:{indent:{default:0,parseHTML:t=>{const e=t.getAttribute("data-indent");return(e?parseInt(e,10):0)||0},renderHTML:t=>t.indent?{"data-indent":t.indent}:{}}}}]},addCommands(){return{indent:()=>bC({delta:co.more,types:this.options.types}),outdent:()=>bC({delta:co.less,types:this.options.types})}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.indent(),"Shift-Tab":()=>this.editor.commands.outdent()}}}),oW=["paragraph","heading","list_item","todo_item"];function rW(t,e){const{selection:n,doc:o}=t;if(!n||!o||!(n instanceof Y||n instanceof kt))return t;const{from:r,to:s}=n,a=[],l=e&&e!==Qy?e:null;return o.nodesBetween(r,s,(c,d)=>{const u=c.type;return oW.includes(u.name)?((c.attrs.lineHeight||null)!==l&&a.push({node:c,pos:d,nodeType:u}),u.name!=="list_item"&&u.name!=="todo_item"):!0}),a.length&&a.forEach(c=>{const{node:d,pos:u,nodeType:f}=c;let{attrs:p}=d;p={...p,lineHeight:l},t=t.setNodeMarkup(u,f,p,d.marks)}),t}function iW(t){return({state:e,dispatch:n})=>{const{selection:o}=e;let{tr:r}=e;return r=r.setSelection(o),r=rW(r,t),r.docChanged?(n&&n(r),!0):!1}}const sW=i.defineComponent({__name:"LineHeightDropdown",props:{editor:{},icon:{default:void 0},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},action:{type:Function,default:void 0},isActive:{type:Function,default:void 0}},setup(t){const{t:e}=Be();function n(l){return parseFloat(l.replace("%",""))/100}const o=i.computed(()=>{const d=s.editor.extensionManager.extensions.find(u=>u.name==="lineHeight").options.lineHeights.map(u=>({label:n(u),value:u}));return d.unshift({label:i.unref(e)("editor.default"),value:"default"}),d}),r=i.ref("default"),s=t;function a(l){l==="default"?s.editor.commands.unsetLineHeight():s.editor.commands.setLineHeight(l),r.value=l}return(l,c)=>(i.openBlock(),i.createBlock(Hr,{icon:l.icon,tooltip:l.tooltip,disabled:l.disabled},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.value,(d,u)=>(i.openBlock(),i.createBlock(i.unref(Xi),{key:u,checked:d.value===r.value,onClick:f=>a(d.value)},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(d.label),1)]),_:2},1032,["checked","onClick"]))),128))]),_:1},8,["icon","tooltip","disabled"]))}}),aW=fe.create({name:"lineHeight",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),types:["paragraph","heading","list_item","todo_item"],lineHeights:["100%","115%","150%","200%","250%","300%"],defaultHeight:Qy,button({editor:e,t:n}){return{component:sW,componentProps:{editor:e,icon:"LineHeight",tooltip:n("editor.lineheight.tooltip")}}}}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight||this.options.defaultHeight,renderHTML:t=>t.lineHeight===this.options.defaultHeight||!t.lineHeight?{}:{style:`line-height: ${t.lineHeight}`}}}}]},addCommands(){return{setLineHeight:t=>iW(t),unsetLineHeight:()=>({commands:t})=>this.options.types.every(e=>t.resetAttributes(e,"lineHeight"))}}});function lW(t){var e;const{char:n,allowSpaces:o,allowToIncludeChar:r,allowedPrefixes:s,startOfLine:a,$position:l}=t,c=o&&!r,d=$S(n),u=new RegExp(`\\s${d}$`),f=a?"^":"",p=r?"":d,h=c?new RegExp(`${f}${d}.*?(?=\\s${p}|$)`,"gm"):new RegExp(`${f}(?:^)?${d}[^\\s${p}]*`,"gm"),m=((e=l.nodeBefore)===null||e===void 0?void 0:e.isText)&&l.nodeBefore.text;if(!m)return null;const g=l.pos-m.length,y=Array.from(m.matchAll(h)).pop();if(!y||y.input===void 0||y.index===void 0)return null;const b=y.input.slice(Math.max(0,y.index-1),y.index),x=new RegExp(`^[${s==null?void 0:s.join("")}\0]?$`).test(b);if(s!==null&&!x)return null;const k=g+y.index;let w=k+y[0].length;return c&&u.test(m.slice(w-1,w+1))&&(y[0]+=" ",w+=1),k<l.pos&&w>=l.pos?{range:{from:k,to:w},query:y[0].slice(n.length),text:y[0]}:null}const cW=new ye("suggestion");function dW({pluginKey:t=cW,editor:e,char:n="@",allowSpaces:o=!1,allowToIncludeChar:r=!1,allowedPrefixes:s=[" "],startOfLine:a=!1,decorationTag:l="span",decorationClass:c="suggestion",command:d=()=>null,items:u=()=>[],render:f=()=>({}),allow:p=()=>!0,findSuggestionMatch:h=lW}){let m;const g=f==null?void 0:f(),y=new ge({key:t,view(){return{update:async(b,x)=>{var k,w,C,S,v,B,_;const E=(k=this.key)===null||k===void 0?void 0:k.getState(x),T=(w=this.key)===null||w===void 0?void 0:w.getState(b.state),M=E.active&&T.active&&E.range.from!==T.range.from,$=!E.active&&T.active,L=E.active&&!T.active,U=!$&&!L&&E.query!==T.query,O=$||M&&U,A=U||M,N=L||M&&U;if(!O&&!A&&!N)return;const D=N&&!O?E:T,F=b.dom.querySelector(`[data-decoration-id="${D.decorationId}"]`);m={editor:e,range:D.range,query:D.query,text:D.text,items:[],command:z=>d({editor:e,range:D.range,props:z}),decorationNode:F,clientRect:F?()=>{var z;const{decorationId:Q}=(z=this.key)===null||z===void 0?void 0:z.getState(e.state),ue=b.dom.querySelector(`[data-decoration-id="${Q}"]`);return(ue==null?void 0:ue.getBoundingClientRect())||null}:null},O&&((C=g==null?void 0:g.onBeforeStart)===null||C===void 0||C.call(g,m)),A&&((S=g==null?void 0:g.onBeforeUpdate)===null||S===void 0||S.call(g,m)),(A||O)&&(m.items=await u({editor:e,query:D.query})),N&&((v=g==null?void 0:g.onExit)===null||v===void 0||v.call(g,m)),A&&((B=g==null?void 0:g.onUpdate)===null||B===void 0||B.call(g,m)),O&&((_=g==null?void 0:g.onStart)===null||_===void 0||_.call(g,m))},destroy:()=>{var b;m&&((b=g==null?void 0:g.onExit)===null||b===void 0||b.call(g,m))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(b,x,k,w){const{isEditable:C}=e,{composing:S}=e.view,{selection:v}=b,{empty:B,from:_}=v,E={...x};if(E.composing=S,C&&(B||e.view.composing)){(_<x.range.from||_>x.range.to)&&!S&&!x.composing&&(E.active=!1);const T=h({char:n,allowSpaces:o,allowToIncludeChar:r,allowedPrefixes:s,startOfLine:a,$position:v.$from}),M=`id_${Math.floor(Math.random()*4294967295)}`;T&&p({editor:e,state:w,range:T.range,isActive:x.active})?(E.active=!0,E.decorationId=x.decorationId?x.decorationId:M,E.range=T.range,E.query=T.query,E.text=T.text):E.active=!1}else E.active=!1;return E.active||(E.decorationId=null,E.range={from:0,to:0},E.query=null,E.text=null),E}},props:{handleKeyDown(b,x){var k;const{active:w,range:C}=y.getState(b.state);return w&&((k=g==null?void 0:g.onKeyDown)===null||k===void 0?void 0:k.call(g,{view:b,event:x,range:C}))||!1},decorations(b){const{active:x,range:k,decorationId:w}=y.getState(b);return x?we.create(b.doc,[je.inline(k.from,k.to,{nodeName:l,class:c,"data-decoration-id":w})]):null}}});return y}function uW(t){const{t:e}=Be(),n=[{name:"format",title:e.value("editor.slash.format"),commands:[{name:"paragraph",label:e.value("editor.paragraph.tooltip"),aliases:["paragraph","zw"],iconName:"Paragraph",action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).setHeading({level:1}).run()}},{name:"heading1",label:e.value("editor.heading.h1.tooltip"),aliases:["h1","bt","bt1"],iconName:"Heading1",action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).setHeading({level:1}).run()}},{name:"heading2",label:e.value("editor.heading.h2.tooltip"),aliases:["h2","bt","bt2"],iconName:"Heading2",action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).setNode("heading",{level:2}).run()}},{name:"heading3",label:e.value("editor.heading.h3.tooltip"),aliases:["h3","bt","bt3","heading3"],iconName:"Heading3",action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).setNode("heading",{level:3}).run()}},{name:"bulletList",label:e.value("editor.bulletlist.tooltip"),aliases:["ul","yxlb","bulletList"],iconName:"List",action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).toggleBulletList().run()}},{name:"numberedList",label:e.value("editor.orderedlist.tooltip"),aliases:["ol","yxlb"],iconName:"ListOrdered",action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).toggleOrderedList().run()}},{name:"codeBlock",label:e.value("editor.codeblock.tooltip"),iconName:"Code2",aliases:["codeBlock"],description:"Code block with syntax highlighting",shouldBeHidden:r=>r.isActive("columns"),action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).setCodeBlock().run()}},{name:"blockquote",label:e.value("editor.blockquote.tooltip"),description:"插入引入格式",aliases:["yr"],iconName:"TextQuote",action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).setBlockquote().run()}},{name:"horizontalrule",label:e.value("editor.horizontalrule.tooltip"),aliases:["fgx","horizontalRule"],iconName:"Minus",action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).setHorizontalRule().run()}},{name:"link",label:e.value("editor.link.tooltip"),aliases:["link","lianjie","lj"],iconName:"Link",action:({editor:r,range:s})=>{r.chain().deleteRange(s).extendMarkRange("link").insertContent({type:"text",text:"link",marks:[{type:"link",attrs:{href:"",target:"_blank"}}]}).setLink({href:""}).focus().run()}}]},{name:"insert",title:e.value("editor.slash.insert"),commands:[{name:"image",label:e.value("editor.image.tooltip"),iconName:"ImageUp",description:"Insert a image",aliases:["image","tp","tupian"],shouldBeHidden:r=>r.isActive("columns"),action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).setImageUpload().run()}},{name:"table",label:e.value("editor.table.tooltip"),iconName:"Table",description:"Insert a table",aliases:["table","bg","biaoge","biao"],shouldBeHidden:r=>r.isActive("columns"),action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).insertTable({rows:3,cols:3,withHeaderRow:!1}).run()}},{name:"video",label:e.value("editor.video.tooltip"),iconName:"Video",description:"Insert a video",aliases:["video","sp","shipin"],shouldBeHidden:r=>r.isActive("columns"),action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).setVideoUpload().run()}},{name:"taskList",label:e.value("editor.tasklist.tooltip"),iconName:"ListTodo",description:"Task list with todo items",aliases:["todo"],action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).toggleTaskList().run()}},{name:"columns",label:e.value("editor.columns.tooltip"),iconName:"Columns2",description:"Add two column content",aliases:["columns","cols","2cols"],shouldBeHidden:r=>r.isActive("columns"),action:({editor:r,range:s})=>{r.chain().deleteRange(s).setColumns().focus(r.state.selection.head-1).run()}}]}];if(tc(t,"iframes")){const r=CU;n.push({name:"others",title:e.value("editor.slash.embed"),commands:r.map(s=>({name:s.value,label:s.label,iconName:s.icon,aliases:[s.value,s.label],shouldBeHidden:a=>a.isActive("columns"),action:({editor:a,range:l})=>{a.chain().deleteRange(l).focus().setIframe({src:"",service:s.value}).run()}}))})}return n}const fW={key:0,class:"grid grid-cols-1 gap-0.5 min-w-48"},pW={className:"text-neutral-500 text-[0.65rem] col-[1/-1] mx-2 mt-2 font-semibold tracking-wider select-none uppercase first:mt-0.5"},hW=["onClick"],mW=["src"],gW={key:1,class:"p-3"},yW={class:"text-xs text-gray-800 dark:text-gray-100"},bW=i.defineComponent({__name:"CommandsList",props:{editor:{},items:{default:void 0},command:{type:Function,default:void 0}},setup(t,{expose:e}){const n=i.ref(0),o=i.ref(0),r=i.ref(null),{t:s}=Be(),a=i.ref([]),l=t;e({onKeyDown:c}),i.watch([()=>n.value,()=>o.value],async()=>{if(!r.value)return;await i.nextTick();const g=o.value*1e3+n.value,y=a.value[g];y&&y.scrollIntoView({behavior:"smooth",block:"nearest"})});function c({event:g}){return g.key==="ArrowUp"?(d(),!0):g.key==="ArrowDown"?(u(),!0):g.key==="Enter"?(f(),!0):!1}function d(){var b;if(!l.items.length)return!1;let g=n.value-1,y=o.value;g<0&&(y=o.value-1,g=((b=l.items[y])==null?void 0:b.commands.length)-1||0),y<0&&(y=l.items.length-1,g=l.items[y].commands.length-1),n.value=g,o.value=y}function u(){if(!l.items.length)return!1;const g=l.items[o.value].commands;let y=n.value+1,b=o.value;g.length-1<y&&(y=0,b=o.value+1),l.items.length-1<b&&(b=0),n.value=y,o.value=b}function f(){if(!l.items.length||o.value===-1||n.value===-1)return!1;p(o.value,n.value)}function p(g,y){const b=l.items[g].commands[y];l.command(b)}function h(g,y){p(g,y)}function m(g,y,b){a.value[g*1e3+y]=b}return(g,y)=>{var b;return i.openBlock(),i.createElementBlock("div",{class:"bg-white rounded-lg dark:bg-black shadow-sm border border-neutral-200 dark:border-neutral-800 text-black max-h-[min(80vh,24rem)] overflow-auto flex-wrap mb-8 p-1",ref_key:"scrollContainer",ref:r},[(b=g.items)!=null&&b.length?(i.openBlock(),i.createElementBlock("div",fW,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(g.items,(x,k)=>(i.openBlock(),i.createElementBlock(i.Fragment,{key:x.title},[i.createElementVNode("div",pW,i.toDisplayString(x.title),1),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(x.commands,(w,C)=>(i.openBlock(),i.createElementBlock("button",{class:i.normalizeClass(["flex items-center gap-3 px-2 py-1.5 text-sm text-neutral-800 dark:text-neutral-200 text-left w-full rounded-sm outline-none transition-colors",[o.value===k&&n.value===C?"bg-accent text-neutral-800 dark:bg-neutral-900 dark:text-neutral-200":"hover:bg-accent hover:text-neutral-800 dark:hover:bg-neutral-900 dark:hover:text-neutral-200"]]),ref_for:!0,ref:S=>m(k,C,S),key:C,onClick:S=>h(k,C)},[w.iconUrl?(i.openBlock(),i.createElementBlock("img",{key:0,class:"w-6 h-6",src:w.iconUrl},null,8,mW)):i.createCommentVNode("",!0),w.iconName?(i.openBlock(),i.createBlock(i.unref(re),{key:1,name:w.iconName,class:"mr-1 text-lg"},null,8,["name"])):i.createCommentVNode("",!0),i.createTextVNode(" "+i.toDisplayString(w.label),1)],10,hW))),128))],64))),128))])):(i.openBlock(),i.createElementBlock("div",gW,[i.createElementVNode("span",yW,i.toDisplayString(i.unref(s)("editor.slash.empty")),1)]))],512)}}}),qr="slashCommand";let Me;const wW=fe.create({name:qr,priority:200,onCreate(){Me=Io("body",{interactive:!0,trigger:"manual",placement:"bottom-start",theme:"slash-command",maxWidth:"16rem",offset:[16,8],popperOptions:{strategy:"fixed",modifiers:[{name:"flip",enabled:!1}]}})},addProseMirrorPlugins(){return[dW({editor:this.editor,char:"/",allowSpaces:!0,startOfLine:!0,pluginKey:new ye(qr),allow:({state:t,range:e})=>{var d,u,f;const n=t.doc.resolve(e.from),o=n.depth===1,r=n.parent.type.name==="paragraph",s=((d=n.parent.textContent)==null?void 0:d.charAt(0))==="/",a=this.editor.isActive("column"),l=(f=n.parent.textContent)==null?void 0:f.substring((u=n.parent.textContent)==null?void 0:u.indexOf("/")),c=!(l!=null&&l.endsWith("  "));return(o&&r&&s||a&&r&&s)&&c},command:({editor:t,range:e,props:n})=>{const{view:o}=t;n.action({editor:t,range:e}),o.focus()},items:({query:t,editor:e})=>uW(this.editor).map(a=>({...a,commands:a.commands.filter(l=>{const c=l.label.toLowerCase().trim(),d=t.toLowerCase().trim();if(l.aliases){const u=l.aliases.map(h=>h.toLowerCase().trim()),f=c.match(d),p=u.some(h=>h.match(d));return f||p}return c.match(d)}).filter(l=>l.shouldBeHidden?!l.shouldBeHidden(this.editor):!0)})).filter(a=>a.commands.length>0).map(a=>({...a,commands:a.commands.map(l=>({...l,isEnabled:!0}))})),render:()=>{let t,e=null;return{onStart:n=>{var a;t=new Gy(bW,{props:n,editor:n.editor});const{view:o}=n.editor,r=o.dom,s=()=>{if(!n.clientRect)return n.editor.storage[qr].rect;const l=n.clientRect();if(!l)return n.editor.storage[qr].rect;let c=l.y;if(l.top+t.element.offsetHeight+40>window.innerHeight){const d=l.top+t.element.offsetHeight-window.innerHeight+40;c=l.y-d}return r.getBoundingClientRect().x,new DOMRect(l.x,c,l.width,l.height)};e=()=>{Me==null||Me[0].setProps({getReferenceClientRect:s})},(a=o.dom.parentElement)==null||a.addEventListener("scroll",e),Me==null||Me[0].setProps({getReferenceClientRect:s,appendTo:()=>document.body,content:t.element}),Me==null||Me[0].show()},onUpdate(n){var a;t.updateProps(n);const{view:o}=n.editor;o.dom;const r=()=>{if(!n.clientRect)return n.editor.storage[qr].rect;const l=n.clientRect();return l?new DOMRect(l.x,l.y,l.width,l.height):n.editor.storage[qr].rect};let s=()=>{Me==null||Me[0].setProps({getReferenceClientRect:r})};(a=o.dom.parentElement)==null||a.addEventListener("scroll",s),n.editor.storage[qr].rect=n.clientRect?r():{width:0,height:0,left:0,top:0,right:0,bottom:0},Me==null||Me[0].setProps({getReferenceClientRect:r})},onKeyDown(n){var o;return n.event.key==="Escape"?(Me==null||Me[0].hide(),!0):(Me!=null&&Me[0].state.isShown||Me==null||Me[0].show(),(o=t.ref)==null?void 0:o.onKeyDown(n))},onExit(n){var o;if(Me==null||Me[0].hide(),e){const{view:r}=n.editor;(o=r.dom.parentElement)==null||o.removeEventListener("scroll",e)}t.destroy()}}}})]},addStorage(){return{rect:{width:0,height:0,left:0,top:0,right:0,bottom:0}}}}),xW=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,kW=Pe.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",xe(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[ny({find:xW,type:this.type,getAttributes:t=>{const[,,e,n,o]=t;return{src:n,alt:e,title:o}}})]}}),CW=["src","alt"],SW={key:0,class:"image-resizer"},EW=["onMousedown"],vW=i.defineComponent({__name:"ImageView",props:{...zs,selected:{type:Boolean,required:!0}},setup(t){const e=t,n={TOP_LEFT:"tl",TOP_RIGHT:"tr",BOTTOM_LEFT:"bl",BOTTOM_RIGHT:"br"},o=i.ref({width:Xy,height:Xy}),r=i.ref({width:0,height:0}),s=i.ref(!1),a=i.ref({x:0,y:0,w:0,h:0,dir:""}),l=i.computed(()=>{const{src:w,alt:C,width:S,height:v,flipX:B,flipY:_}=e.node.attrs,E=[];B&&E.push("rotateX(180deg)"),_&&E.push("rotateY(180deg)");const T=E.join(" ");return{src:w||void 0,alt:C||void 0,style:{width:pp(S)?`${S}px`:S,height:pp(v)?`${v}px`:v,transform:T||"none"}}}),c=i.computed(()=>({width:i.unref(l).style.width==="100%"?"100%":void 0})),d=i.ref(null),u=new ResizeObserver(w=>{for(const C of w){const{width:S,height:v}=C.contentRect;r.value={width:S,height:v},e.updateAttributes({originWidth:S,originHeight:v})}});function f(){const{editor:w,getPos:C}=e;w.commands.setNodeSelection(C())}const p=Ql(()=>{const{editor:w}=e;o.value.width=parseInt(getComputedStyle(w.view.dom).width,10)},Zy);function h(w,C){w.preventDefault(),w.stopPropagation();const{width:S,height:v}=i.unref(r),B=S/v;let _=Number(e.node.attrs.width)||S,E=Number(e.node.attrs.height)||Math.round(_/B);const T=i.unref(o).width;_=Math.min(_>T?T:_,T),E=Math.round(_/B),Object.assign(a.value,{x:w.clientX,y:w.clientY,w:_,h:E,dir:C}),s.value=!0,y()}const m=Ql(w=>{if(!i.unref(s))return;const{x:C,y:S,w:v,dir:B}=i.unref(a),_=(w.clientX-C)*(/l/.test(B)?-1:1),E=fT(v+_,Ev,i.unref(o).width);e.updateAttributes({width:E})},Zy);function g(w){w.preventDefault(),w.stopPropagation(),i.unref(s)&&(s.value=!1,Object.assign(a.value,{x:0,y:0,w:0,h:0,dir:""}),b(),f())}function y(){document.addEventListener("mousemove",m,!0),document.addEventListener("mouseup",g,!0)}function b(){document.removeEventListener("mousemove",m,!0),document.removeEventListener("mouseup",g,!0)}const x=new ResizeObserver(p),k=i.computed(()=>{const{textAlign:w}=e.node.attrs;return{left:"margin-right: auto;",right:"margin-left: auto;",center:"margin-left: auto; margin-right: auto;"}[w]||""});return i.onMounted(()=>{d.value&&u.observe(d.value),x.observe(e.editor.view.dom)}),i.onBeforeUnmount(()=>{b(),u.disconnect(),x.disconnect()}),(w,C)=>(i.openBlock(),i.createBlock(i.unref(Vs),{class:"node-image"},{default:i.withCtx(()=>[i.createElementVNode("div",{class:"image-view",style:i.normalizeStyle([l.value.style,k.value])},[i.createElementVNode("div",{draggable:"true","data-drag-handle":"",class:i.normalizeClass([{"image-view__body--focused":t.selected,"image-view__body--resizing":s.value},"image-view__body"]),style:i.normalizeStyle(c.value)},[i.createElementVNode("img",{src:l.value.src,alt:l.value.alt,ref_key:"imageRef",ref:d,class:"image-view__body__image block",onClick:f},null,8,CW),w.editor.view.editable?i.withDirectives((i.openBlock(),i.createElementBlock("div",SW,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(Object.values(n),S=>(i.openBlock(),i.createElementBlock("span",{key:S,class:i.normalizeClass([`image-resizer__handler--${S}`,"image-resizer__handler"]),onMousedown:v=>h(v,S)},null,42,EW))),128))],512)),[[i.vShow,t.selected||s.value]]):i.createCommentVNode("",!0)],6)],4)]),_:1}))}}),AW=wm(vW,[["__scopeId","data-v-6b19b371"]]),MW=kW.extend({group:"block",defining:!0,isolating:!0,addAttributes(){var t;return{...(t=this.parent)==null?void 0:t.call(this),flipX:{default:!1},flipY:{default:!1},originWidth:{default:null},originHeight:{default:null},width:{default:"100%",parseHTML:e=>{const n=e.style.width||e.getAttribute("width")||null;return n&&n.endsWith("%")?n:n==null?null:parseInt(n,10)},renderHTML:e=>({width:e.width})}}},addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this)}},addNodeView(){return Fs(AW)},addCommands(){var t;return{...(t=this.parent)==null?void 0:t.call(this),updateImage:e=>({commands:n,editor:o})=>n.updateAttributes(this.name,e)}},renderHTML({node:t,HTMLAttributes:e}){const{textAlign:n,flipX:o,flipY:r}=t.attrs,l=`${{left:"margin-right: auto;",right:"margin-left: auto;",center:"margin-left: auto; margin-right: auto;"}[n]||""} ${o||r?`transform: rotateX(${o?"180":"0"}deg) rotateY(${r?"180":"0"}deg);`:""}`;return["img",xe({height:"auto",style:l},this.options.HTMLAttributes,e)]},parseHTML(){return[{tag:"img[src]"}]}});function _W(t){return t=t.replace("https://youtu.be/","https://www.youtube.com/watch?v=").replace("watch?v=","embed/"),t=t.replace("https://vimeo.com/","https://player.vimeo.com/video/"),/^https?:\/\/www.bilibili.com\/video\/.*/i.test(t)&&(t=t.replace(/\?.*$/i,"").replace("https://www.bilibili.com/video/","https://player.bilibili.com/player.html?bvid=")),t.includes("drive.google.com")&&(t=t.replace("/view","/preview")),t}const TW=Pe.create({name:"video",group:"block",atom:!0,draggable:!0,addAttributes(){return{src:{default:null,renderHTML:({src:t})=>({src:t?_W(t):null})},width:{default:this.options.width,renderHTML:({width:t})=>({width:ec(t)})},frameborder:{default:this.options.frameborder?1:0,parseHTML:()=>this.options.frameborder?1:0},allowfullscreen:{default:this.options.allowFullscreen,parseHTML:()=>this.options.allowFullscreen}}},parseHTML(){return[{tag:"div[data-video] iframe"}]},renderHTML({HTMLAttributes:t}){const{width:e="100%"}=t??{},n={...t,width:"100%",height:"100%"},o=`position: relative;overflow: hidden;display: flex;flex: 1;max-width: ${e};`,r=`flex: 1;padding-bottom: ${9/16*100}%;`,l=["div",{style:o},["div",{style:r}],["iframe",n]];return["div",{...this.options.HTMLAttributes,"data-video":""},l]},addCommands(){return{setVideo:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t}),updateVideo:t=>({commands:e})=>e.updateAttributes(this.name,t)}},addOptions(){return{divider:!1,spacer:!1,allowFullscreen:!0,upload:void 0,frameborder:!1,width:Ul["size-medium"],HTMLAttributes:{class:"iframe-wrapper",style:"display: flex;justify-content: center;"}}}});var og,rg;if(typeof WeakMap<"u"){let t=new WeakMap;og=e=>t.get(e),rg=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;og=o=>{for(let r=0;r<t.length;r+=2)if(t[r]==o)return t[r+1]},rg=(o,r)=>(n==10&&(n=0),t[n++]=o,t[n++]=r)}var Ke=class{constructor(t,e,n,o){this.width=t,this.height=e,this.map=n,this.problems=o}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const o=e%this.width,r=e/this.width|0;let s=o+1,a=r+1;for(let l=1;s<this.width&&this.map[e+l]==n;l++)s++;for(let l=1;a<this.height&&this.map[e+this.width*l]==n;l++)a++;return{left:o,top:r,right:s,bottom:a}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:o,right:r,top:s,bottom:a}=this.findCell(t);return e=="horiz"?(n<0?o==0:r==this.width)?null:this.map[s*this.width+(n<0?o-1:r)]:(n<0?s==0:a==this.height)?null:this.map[o+this.width*(n<0?s-1:a)]}rectBetween(t,e){const{left:n,right:o,top:r,bottom:s}=this.findCell(t),{left:a,right:l,top:c,bottom:d}=this.findCell(e);return{left:Math.min(n,a),top:Math.min(r,c),right:Math.max(o,l),bottom:Math.max(s,d)}}cellsInRect(t){const e=[],n={};for(let o=t.top;o<t.bottom;o++)for(let r=t.left;r<t.right;r++){const s=o*this.width+r,a=this.map[s];n[a]||(n[a]=!0,!(r==t.left&&r&&this.map[s-1]==a||o==t.top&&o&&this.map[s-this.width]==a)&&e.push(a))}return e}positionAt(t,e,n){for(let o=0,r=0;;o++){const s=r+n.child(o).nodeSize;if(o==t){let a=e+t*this.width;const l=(t+1)*this.width;for(;a<l&&this.map[a]<r;)a++;return a==l?s-1:this.map[a]}r=s}}static get(t){return og(t)||rg(t,BW(t))}};function BW(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=OW(t),n=t.childCount,o=[];let r=0,s=null;const a=[];for(let d=0,u=e*n;d<u;d++)o[d]=0;for(let d=0,u=0;d<n;d++){const f=t.child(d);u++;for(let m=0;;m++){for(;r<o.length&&o[r]!=0;)r++;if(m==f.childCount)break;const g=f.child(m),{colspan:y,rowspan:b,colwidth:x}=g.attrs;for(let k=0;k<b;k++){if(k+d>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:u,n:b-k});break}const w=r+k*e;for(let C=0;C<y;C++){o[w+C]==0?o[w+C]=u:(s||(s=[])).push({type:"collision",row:d,pos:u,n:y-C});const S=x&&x[C];if(S){const v=(w+C)%e*2,B=a[v];B==null||B!=S&&a[v+1]==1?(a[v]=S,a[v+1]=1):B==S&&a[v+1]++}}}r+=y,u+=g.nodeSize}const p=(d+1)*e;let h=0;for(;r<p;)o[r++]==0&&h++;h&&(s||(s=[])).push({type:"missing",row:d,n:h}),u++}(e===0||n===0)&&(s||(s=[])).push({type:"zero_sized"});const l=new Ke(e,n,o,s);let c=!1;for(let d=0;!c&&d<a.length;d+=2)a[d]!=null&&a[d+1]<n&&(c=!0);return c&&NW(l,a,t),l}function OW(t){let e=-1,n=!1;for(let o=0;o<t.childCount;o++){const r=t.child(o);let s=0;if(n)for(let a=0;a<o;a++){const l=t.child(a);for(let c=0;c<l.childCount;c++){const d=l.child(c);a+d.attrs.rowspan>o&&(s+=d.attrs.colspan)}}for(let a=0;a<r.childCount;a++){const l=r.child(a);s+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function NW(t,e,n){t.problems||(t.problems=[]);const o={};for(let r=0;r<t.map.length;r++){const s=t.map[r];if(o[s])continue;o[s]=!0;const a=n.nodeAt(s);if(!a)throw new RangeError(`No cell with offset ${s} found`);let l=null;const c=a.attrs;for(let d=0;d<c.colspan;d++){const u=(r+d)%t.width,f=e[u*2];f!=null&&(!c.colwidth||c.colwidth[d]!=f)&&((l||(l=PW(c)))[d]=f)}l&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:l})}}function PW(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function pt(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const o=t.nodes[n],r=o.spec.tableRole;r&&(e[r]=o)}}return e}var sr=new ye("selectingCells");function rs(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function IW(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function cn(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function iu(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=rs(e.$head)||DW(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function DW(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const o=e.type.spec.tableRole;if(o=="cell"||o=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const o=e.type.spec.tableRole;if(o=="cell"||o=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function ig(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function RW(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function sg(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function v4(t,e,n){const o=t.node(-1),r=Ke.get(o),s=t.start(-1),a=r.nextCell(t.pos-s,e,n);return a==null?null:t.node(0).resolve(s+a)}function Gr(t,e,n=1){const o={...t,colspan:t.colspan-n};return o.colwidth&&(o.colwidth=o.colwidth.slice(),o.colwidth.splice(e,n),o.colwidth.some(r=>r>0)||(o.colwidth=null)),o}function A4(t,e,n=1){const o={...t,colspan:t.colspan+n};if(o.colwidth){o.colwidth=o.colwidth.slice();for(let r=0;r<n;r++)o.colwidth.splice(e,0,0)}return o}function LW(t,e,n){const o=pt(e.type.schema).header_cell;for(let r=0;r<t.height;r++)if(e.nodeAt(t.map[n+r*t.width]).type!=o)return!1;return!0}var Ne=class go extends ee{constructor(e,n=e){const o=e.node(-1),r=Ke.get(o),s=e.start(-1),a=r.rectBetween(e.pos-s,n.pos-s),l=e.node(0),c=r.cellsInRect(a).filter(u=>u!=n.pos-s);c.unshift(n.pos-s);const d=c.map(u=>{const f=o.nodeAt(u);if(!f)throw RangeError(`No cell with offset ${u} found`);const p=s+u+1;return new Tu(l.resolve(p),l.resolve(p+f.content.size))});super(d[0].$from,d[0].$to,d),this.$anchorCell=e,this.$headCell=n}map(e,n){const o=e.resolve(n.map(this.$anchorCell.pos)),r=e.resolve(n.map(this.$headCell.pos));if(ig(o)&&ig(r)&&sg(o,r)){const s=this.$anchorCell.node(-1)!=o.node(-1);return s&&this.isRowSelection()?go.rowSelection(o,r):s&&this.isColSelection()?go.colSelection(o,r):new go(o,r)}return Y.between(o,r)}content(){const e=this.$anchorCell.node(-1),n=Ke.get(e),o=this.$anchorCell.start(-1),r=n.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o),s={},a=[];for(let c=r.top;c<r.bottom;c++){const d=[];for(let u=c*n.width+r.left,f=r.left;f<r.right;f++,u++){const p=n.map[u];if(s[p])continue;s[p]=!0;const h=n.findCell(p);let m=e.nodeAt(p);if(!m)throw RangeError(`No cell with offset ${p} found`);const g=r.left-h.left,y=h.right-r.right;if(g>0||y>0){let b=m.attrs;if(g>0&&(b=Gr(b,0,g)),y>0&&(b=Gr(b,b.colspan-y,y)),h.left<r.left){if(m=m.type.createAndFill(b),!m)throw RangeError(`Could not create cell with attrs ${JSON.stringify(b)}`)}else m=m.type.create(b,m.content)}if(h.top<r.top||h.bottom>r.bottom){const b={...m.attrs,rowspan:Math.min(h.bottom,r.bottom)-Math.max(h.top,r.top)};h.top<r.top?m=m.type.createAndFill(b):m=m.type.create(b,m.content)}d.push(m)}a.push(e.child(c).copy(I.from(d)))}const l=this.isColSelection()&&this.isRowSelection()?e:a;return new H(I.from(l),1,1)}replace(e,n=H.empty){const o=e.steps.length,r=this.ranges;for(let a=0;a<r.length;a++){const{$from:l,$to:c}=r[a],d=e.mapping.slice(o);e.replace(d.map(l.pos),d.map(c.pos),a?H.empty:n)}const s=ee.findFrom(e.doc.resolve(e.mapping.slice(o).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new H(I.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),o=Ke.get(n),r=this.$anchorCell.start(-1),s=o.cellsInRect(o.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let a=0;a<s.length;a++)e(n.nodeAt(s[a]),r+s[a])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const o=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(o,r)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const o=e.node(-1),r=Ke.get(o),s=e.start(-1),a=r.findCell(e.pos-s),l=r.findCell(n.pos-s),c=e.node(0);return a.top<=l.top?(a.top>0&&(e=c.resolve(s+r.map[a.left])),l.bottom<r.height&&(n=c.resolve(s+r.map[r.width*(r.height-1)+l.right-1]))):(l.top>0&&(n=c.resolve(s+r.map[l.left])),a.bottom<r.height&&(e=c.resolve(s+r.map[r.width*(r.height-1)+a.right-1]))),new go(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Ke.get(e),o=this.$anchorCell.start(-1),r=n.colCount(this.$anchorCell.pos-o),s=n.colCount(this.$headCell.pos-o);if(Math.min(r,s)>0)return!1;const a=r+this.$anchorCell.nodeAfter.attrs.colspan,l=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,l)==n.width}eq(e){return e instanceof go&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const o=e.node(-1),r=Ke.get(o),s=e.start(-1),a=r.findCell(e.pos-s),l=r.findCell(n.pos-s),c=e.node(0);return a.left<=l.left?(a.left>0&&(e=c.resolve(s+r.map[a.top*r.width])),l.right<r.width&&(n=c.resolve(s+r.map[r.width*(l.top+1)-1]))):(l.left>0&&(n=c.resolve(s+r.map[l.top*r.width])),a.right<r.width&&(e=c.resolve(s+r.map[r.width*(a.top+1)-1]))),new go(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new go(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,o=n){return new go(e.resolve(n),e.resolve(o))}getBookmark(){return new $W(this.$anchorCell.pos,this.$headCell.pos)}};Ne.prototype.visible=!1,ee.jsonID("cell",Ne);var $W=class e3{constructor(e,n){this.anchor=e,this.head=n}map(e){return new e3(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),o=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&o.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&o.index()<o.parent.childCount&&sg(n,o)?new Ne(n,o):ee.near(o,1)}};function VW(t){if(!(t.selection instanceof Ne))return null;const e=[];return t.selection.forEachCell((n,o)=>{e.push(je.node(o,o+n.nodeSize,{class:"selectedCell"}))}),we.create(t.doc,e)}function zW({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,o=e.pos,r=t.depth;for(;r>=0&&!(t.after(r+1)<t.end(r));r--,n++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,o--);return n==o&&/row|table/.test(t.node(r).type.spec.tableRole)}function FW({$from:t,$to:e}){let n,o;for(let r=t.depth;r>0;r--){const s=t.node(r);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let r=e.depth;r>0;r--){const s=e.node(r);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){o=s;break}}return n!==o&&e.parentOffset===0}function HW(t,e,n){const o=(e||t).selection,r=(e||t).doc;let s,a;if(o instanceof X&&(a=o.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")s=Ne.create(r,o.from);else if(a=="row"){const l=r.resolve(o.from+1);s=Ne.rowSelection(l,l)}else if(!n){const l=Ke.get(o.node),c=o.from+1,d=c+l.map[l.width*l.height-1];s=Ne.create(r,c+1,d)}}else o instanceof Y&&zW(o)?s=Y.create(r,o.from):o instanceof Y&&FW(o)&&(s=Y.create(r,o.$from.start(),o.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}var jW=new ye("fix-tables");function M4(t,e,n,o){const r=t.childCount,s=e.childCount;e:for(let a=0,l=0;a<s;a++){const c=e.child(a);for(let d=l,u=Math.min(r,a+3);d<u;d++)if(t.child(d)==c){l=d+1,n+=c.nodeSize;continue e}o(c,n),l<r&&t.child(l).sameMarkup(c)?M4(t.child(l),c,n+1,o):c.nodesBetween(0,c.content.size,o,n+1),n+=c.nodeSize}}function _4(t,e){let n;const o=(r,s)=>{r.type.spec.tableRole=="table"&&(n=UW(t,r,s,n))};return e?e.doc!=t.doc&&M4(e.doc,t.doc,0,o):t.doc.descendants(o),n}function UW(t,e,n,o){const r=Ke.get(e);if(!r.problems)return o;o||(o=t.tr);const s=[];for(let c=0;c<r.height;c++)s.push(0);for(let c=0;c<r.problems.length;c++){const d=r.problems[c];if(d.type=="collision"){const u=e.nodeAt(d.pos);if(!u)continue;const f=u.attrs;for(let p=0;p<f.rowspan;p++)s[d.row+p]+=d.n;o.setNodeMarkup(o.mapping.map(n+1+d.pos),null,Gr(f,f.colspan-d.n,d.n))}else if(d.type=="missing")s[d.row]+=d.n;else if(d.type=="overlong_rowspan"){const u=e.nodeAt(d.pos);if(!u)continue;o.setNodeMarkup(o.mapping.map(n+1+d.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-d.n})}else if(d.type=="colwidth mismatch"){const u=e.nodeAt(d.pos);if(!u)continue;o.setNodeMarkup(o.mapping.map(n+1+d.pos),null,{...u.attrs,colwidth:d.colwidth})}else if(d.type=="zero_sized"){const u=o.mapping.map(n);o.delete(u,u+e.nodeSize)}}let a,l;for(let c=0;c<s.length;c++)s[c]&&(a==null&&(a=c),l=c);for(let c=0,d=n+1;c<r.height;c++){const u=e.child(c),f=d+u.nodeSize,p=s[c];if(p>0){let h="cell";u.firstChild&&(h=u.firstChild.type.spec.tableRole);const m=[];for(let y=0;y<p;y++){const b=pt(t.schema)[h].createAndFill();b&&m.push(b)}const g=(c==0||a==c-1)&&l==c?d+1:f-1;o.insert(o.mapping.map(g),m)}d=f}return o.setMeta(jW,{fixTables:!0})}function Rn(t){const e=t.selection,n=iu(t),o=n.node(-1),r=n.start(-1),s=Ke.get(o);return{...e instanceof Ne?s.rectBetween(e.$anchorCell.pos-r,e.$headCell.pos-r):s.findCell(n.pos-r),tableStart:r,map:s,table:o}}function T4(t,{map:e,tableStart:n,table:o},r){let s=r>0?-1:0;LW(e,o,r+s)&&(s=r==0||r==e.width?null:0);for(let a=0;a<e.height;a++){const l=a*e.width+r;if(r>0&&r<e.width&&e.map[l-1]==e.map[l]){const c=e.map[l],d=o.nodeAt(c);t.setNodeMarkup(t.mapping.map(n+c),null,A4(d.attrs,r-e.colCount(c))),a+=d.attrs.rowspan-1}else{const c=s==null?pt(o.type.schema).cell:o.nodeAt(e.map[l+s]).type,d=e.positionAt(a,r,o);t.insert(t.mapping.map(n+d),c.createAndFill())}}return t}function WW(t,e){if(!cn(t))return!1;if(e){const n=Rn(t);e(T4(t.tr,n,n.left))}return!0}function KW(t,e){if(!cn(t))return!1;if(e){const n=Rn(t);e(T4(t.tr,n,n.right))}return!0}function qW(t,{map:e,table:n,tableStart:o},r){const s=t.mapping.maps.length;for(let a=0;a<e.height;){const l=a*e.width+r,c=e.map[l],d=n.nodeAt(c),u=d.attrs;if(r>0&&e.map[l-1]==c||r<e.width-1&&e.map[l+1]==c)t.setNodeMarkup(t.mapping.slice(s).map(o+c),null,Gr(u,r-e.colCount(c)));else{const f=t.mapping.slice(s).map(o+c);t.delete(f,f+d.nodeSize)}a+=u.rowspan}}function GW(t,e){if(!cn(t))return!1;if(e){const n=Rn(t),o=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let r=n.right-1;qW(o,n,r),r!=n.left;r--){const s=n.tableStart?o.doc.nodeAt(n.tableStart-1):o.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=Ke.get(s)}e(o)}return!0}function JW(t,e,n){var o;const r=pt(e.type.schema).header_cell;for(let s=0;s<t.width;s++)if(((o=e.nodeAt(t.map[s+n*t.width]))==null?void 0:o.type)!=r)return!1;return!0}function B4(t,{map:e,tableStart:n,table:o},r){var s;let a=n;for(let d=0;d<r;d++)a+=o.child(d).nodeSize;const l=[];let c=r>0?-1:0;JW(e,o,r+c)&&(c=r==0||r==e.height?null:0);for(let d=0,u=e.width*r;d<e.width;d++,u++)if(r>0&&r<e.height&&e.map[u]==e.map[u-e.width]){const f=e.map[u],p=o.nodeAt(f).attrs;t.setNodeMarkup(n+f,null,{...p,rowspan:p.rowspan+1}),d+=p.colspan-1}else{const f=c==null?pt(o.type.schema).cell:(s=o.nodeAt(e.map[u+c*e.width]))==null?void 0:s.type,p=f==null?void 0:f.createAndFill();p&&l.push(p)}return t.insert(a,pt(o.type.schema).row.create(null,l)),t}function YW(t,e){if(!cn(t))return!1;if(e){const n=Rn(t);e(B4(t.tr,n,n.top))}return!0}function XW(t,e){if(!cn(t))return!1;if(e){const n=Rn(t);e(B4(t.tr,n,n.bottom))}return!0}function ZW(t,{map:e,table:n,tableStart:o},r){let s=0;for(let d=0;d<r;d++)s+=n.child(d).nodeSize;const a=s+n.child(r).nodeSize,l=t.mapping.maps.length;t.delete(s+o,a+o);const c=new Set;for(let d=0,u=r*e.width;d<e.width;d++,u++){const f=e.map[u];if(!c.has(f)){if(c.add(f),r>0&&f==e.map[u-e.width]){const p=n.nodeAt(f).attrs;t.setNodeMarkup(t.mapping.slice(l).map(f+o),null,{...p,rowspan:p.rowspan-1}),d+=p.colspan-1}else if(r<e.height&&f==e.map[u+e.width]){const p=n.nodeAt(f),h=p.attrs,m=p.type.create({...h,rowspan:p.attrs.rowspan-1},p.content),g=e.positionAt(r+1,d,n);t.insert(t.mapping.slice(l).map(o+g),m),d+=h.colspan-1}}}}function QW(t,e){if(!cn(t))return!1;if(e){const n=Rn(t),o=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let r=n.bottom-1;ZW(o,n,r),r!=n.top;r--){const s=n.tableStart?o.doc.nodeAt(n.tableStart-1):o.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=Ke.get(n.table)}e(o)}return!0}function O4(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function eK({width:t,height:e,map:n},o){let r=o.top*t+o.left,s=r,a=(o.bottom-1)*t+o.left,l=r+(o.right-o.left-1);for(let c=o.top;c<o.bottom;c++){if(o.left>0&&n[s]==n[s-1]||o.right<t&&n[l]==n[l+1])return!0;s+=t,l+=t}for(let c=o.left;c<o.right;c++){if(o.top>0&&n[r]==n[r-t]||o.bottom<e&&n[a]==n[a+t])return!0;r++,a++}return!1}function N4(t,e){const n=t.selection;if(!(n instanceof Ne)||n.$anchorCell.pos==n.$headCell.pos)return!1;const o=Rn(t),{map:r}=o;if(eK(r,o))return!1;if(e){const s=t.tr,a={};let l=I.empty,c,d;for(let u=o.top;u<o.bottom;u++)for(let f=o.left;f<o.right;f++){const p=r.map[u*r.width+f],h=o.table.nodeAt(p);if(!(a[p]||!h))if(a[p]=!0,c==null)c=p,d=h;else{O4(h)||(l=l.append(h.content));const m=s.mapping.map(p+o.tableStart);s.delete(m,m+h.nodeSize)}}if(c==null||d==null)return!0;if(s.setNodeMarkup(c+o.tableStart,null,{...A4(d.attrs,d.attrs.colspan,o.right-o.left-d.attrs.colspan),rowspan:o.bottom-o.top}),l.size){const u=c+1+d.content.size,f=O4(d)?c+1:u;s.replaceWith(f+o.tableStart,u+o.tableStart,l)}s.setSelection(new Ne(s.doc.resolve(c+o.tableStart))),e(s)}return!0}function P4(t,e){const n=pt(t.schema);return tK(({node:o})=>n[o.type.spec.tableRole])(t,e)}function tK(t){return(e,n)=>{var o;const r=e.selection;let s,a;if(r instanceof Ne){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;s=r.$anchorCell.nodeAfter,a=r.$anchorCell.pos}else{if(s=IW(r.$from),!s)return!1;a=(o=rs(r.$from))==null?void 0:o.pos}if(s==null||a==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let l=s.attrs;const c=[],d=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const u=Rn(e),f=e.tr;for(let h=0;h<u.right-u.left;h++)c.push(d?{...l,colwidth:d&&d[h]?[d[h]]:null}:l);let p;for(let h=u.top;h<u.bottom;h++){let m=u.map.positionAt(h,u.left,u.table);h==u.top&&(m+=s.nodeSize);for(let g=u.left,y=0;g<u.right;g++,y++)g==u.left&&h==u.top||f.insert(p=f.mapping.map(m+u.tableStart,1),t({node:s,row:h,col:g}).createAndFill(c[y]))}f.setNodeMarkup(a,t({node:s,row:u.top,col:u.left}),c[0]),r instanceof Ne&&f.setSelection(new Ne(f.doc.resolve(r.$anchorCell.pos),p?f.doc.resolve(p):void 0)),n(f)}return!0}}function nK(t,e){return function(n,o){if(!cn(n))return!1;const r=iu(n);if(r.nodeAfter.attrs[t]===e)return!1;if(o){const s=n.tr;n.selection instanceof Ne?n.selection.forEachCell((a,l)=>{a.attrs[t]!==e&&s.setNodeMarkup(l,null,{...a.attrs,[t]:e})}):s.setNodeMarkup(r.pos,null,{...r.nodeAfter.attrs,[t]:e}),o(s)}return!0}}function oK(t){return function(e,n){if(!cn(e))return!1;if(n){const o=pt(e.schema),r=Rn(e),s=e.tr,a=r.map.cellsInRect(t=="column"?{left:r.left,top:0,right:r.right,bottom:r.map.height}:t=="row"?{left:0,top:r.top,right:r.map.width,bottom:r.bottom}:r),l=a.map(c=>r.table.nodeAt(c));for(let c=0;c<a.length;c++)l[c].type==o.header_cell&&s.setNodeMarkup(r.tableStart+a[c],o.cell,l[c].attrs);if(s.steps.length==0)for(let c=0;c<a.length;c++)s.setNodeMarkup(r.tableStart+a[c],o.header_cell,l[c].attrs);n(s)}return!0}}function I4(t,e,n){const o=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let r=0;r<o.length;r++){const s=e.table.nodeAt(o[r]);if(s&&s.type!==n.header_cell)return!1}return!0}function Ga(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?oK(t):function(n,o){if(!cn(n))return!1;if(o){const r=pt(n.schema),s=Rn(n),a=n.tr,l=I4("row",s,r),c=I4("column",s,r),u=(t==="column"?l:t==="row"?c:!1)?1:0,f=t=="column"?{left:0,top:u,right:1,bottom:s.map.height}:t=="row"?{left:u,top:0,right:s.map.width,bottom:1}:s,p=t=="column"?c?r.cell:r.header_cell:t=="row"?l?r.cell:r.header_cell:r.cell;s.map.cellsInRect(f).forEach(h=>{const m=h+s.tableStart,g=a.doc.nodeAt(m);g&&a.setNodeMarkup(m,p,g.attrs)}),o(a)}return!0}}Ga("row",{useDeprecatedLogic:!0}),Ga("column",{useDeprecatedLogic:!0});var rK=Ga("cell",{useDeprecatedLogic:!0});function iK(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let o=t.index(-1)-1,r=t.before();o>=0;o--){const s=t.node(-1).child(o),a=s.lastChild;if(a)return r-1-a.nodeSize;r-=s.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let o=t.indexAfter(-1),r=t.after();o<n.childCount;o++){const s=n.child(o);if(s.childCount)return r+1;r+=s.nodeSize}}return null}function D4(t){return function(e,n){if(!cn(e))return!1;const o=iK(iu(e),t);if(o==null)return!1;if(n){const r=e.doc.resolve(o);n(e.tr.setSelection(Y.between(r,RW(r))).scrollIntoView())}return!0}}function sK(t,e){const n=t.selection.$anchor;for(let o=n.depth;o>0;o--)if(n.node(o).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(o),n.after(o)).scrollIntoView()),!0;return!1}function su(t,e){const n=t.selection;if(!(n instanceof Ne))return!1;if(e){const o=t.tr,r=pt(t.schema).cell.createAndFill().content;n.forEachCell((s,a)=>{s.content.eq(r)||o.replace(o.mapping.map(a+1),o.mapping.map(a+s.nodeSize-1),new H(r,0,0))}),o.docChanged&&e(o)}return!0}function aK(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:o}=t;for(;e.childCount==1&&(n>0&&o>0||e.child(0).type.spec.tableRole=="table");)n--,o--,e=e.child(0).content;const r=e.child(0),s=r.type.spec.tableRole,a=r.type.schema,l=[];if(s=="row")for(let c=0;c<e.childCount;c++){let d=e.child(c).content;const u=c?0:Math.max(0,n-1),f=c<e.childCount-1?0:Math.max(0,o-1);(u||f)&&(d=ag(pt(a).row,new H(d,u,f)).content),l.push(d)}else if(s=="cell"||s=="header_cell")l.push(n||o?ag(pt(a).row,new H(e,n,o)).content:e);else return null;return lK(a,l)}function lK(t,e){const n=[];for(let r=0;r<e.length;r++){const s=e[r];for(let a=s.childCount-1;a>=0;a--){const{rowspan:l,colspan:c}=s.child(a).attrs;for(let d=r;d<r+l;d++)n[d]=(n[d]||0)+c}}let o=0;for(let r=0;r<n.length;r++)o=Math.max(o,n[r]);for(let r=0;r<n.length;r++)if(r>=e.length&&e.push(I.empty),n[r]<o){const s=pt(t).cell.createAndFill(),a=[];for(let l=n[r];l<o;l++)a.push(s);e[r]=e[r].append(I.from(a))}return{height:e.length,width:o,rows:e}}function ag(t,e){const n=t.createAndFill();return new Mu(n).replace(0,n.content.size,e).doc}function cK({width:t,height:e,rows:n},o,r){if(t!=o){const s=[],a=[];for(let l=0;l<n.length;l++){const c=n[l],d=[];for(let u=s[l]||0,f=0;u<o;f++){let p=c.child(f%c.childCount);u+p.attrs.colspan>o&&(p=p.type.createChecked(Gr(p.attrs,p.attrs.colspan,u+p.attrs.colspan-o),p.content)),d.push(p),u+=p.attrs.colspan;for(let h=1;h<p.attrs.rowspan;h++)s[l+h]=(s[l+h]||0)+p.attrs.colspan}a.push(I.from(d))}n=a,t=o}if(e!=r){const s=[];for(let a=0,l=0;a<r;a++,l++){const c=[],d=n[l%e];for(let u=0;u<d.childCount;u++){let f=d.child(u);a+f.attrs.rowspan>r&&(f=f.type.create({...f.attrs,rowspan:Math.max(1,r-f.attrs.rowspan)},f.content)),c.push(f)}s.push(I.from(c))}n=s,e=r}return{width:t,height:e,rows:n}}function dK(t,e,n,o,r,s,a){const l=t.doc.type.schema,c=pt(l);let d,u;if(r>e.width)for(let f=0,p=0;f<e.height;f++){const h=n.child(f);p+=h.nodeSize;const m=[];let g;h.lastChild==null||h.lastChild.type==c.cell?g=d||(d=c.cell.createAndFill()):g=u||(u=c.header_cell.createAndFill());for(let y=e.width;y<r;y++)m.push(g);t.insert(t.mapping.slice(a).map(p-1+o),m)}if(s>e.height){const f=[];for(let m=0,g=(e.height-1)*e.width;m<Math.max(e.width,r);m++){const y=m>=e.width?!1:n.nodeAt(e.map[g+m]).type==c.header_cell;f.push(y?u||(u=c.header_cell.createAndFill()):d||(d=c.cell.createAndFill()))}const p=c.row.create(null,I.from(f)),h=[];for(let m=e.height;m<s;m++)h.push(p);t.insert(t.mapping.slice(a).map(o+n.nodeSize-2),h)}return!!(d||u)}function R4(t,e,n,o,r,s,a,l){if(a==0||a==e.height)return!1;let c=!1;for(let d=r;d<s;d++){const u=a*e.width+d,f=e.map[u];if(e.map[u-e.width]==f){c=!0;const p=n.nodeAt(f),{top:h,left:m}=e.findCell(f);t.setNodeMarkup(t.mapping.slice(l).map(f+o),null,{...p.attrs,rowspan:a-h}),t.insert(t.mapping.slice(l).map(e.positionAt(a,m,n)),p.type.createAndFill({...p.attrs,rowspan:h+p.attrs.rowspan-a})),d+=p.attrs.colspan-1}}return c}function L4(t,e,n,o,r,s,a,l){if(a==0||a==e.width)return!1;let c=!1;for(let d=r;d<s;d++){const u=d*e.width+a,f=e.map[u];if(e.map[u-1]==f){c=!0;const p=n.nodeAt(f),h=e.colCount(f),m=t.mapping.slice(l).map(f+o);t.setNodeMarkup(m,null,Gr(p.attrs,a-h,p.attrs.colspan-(a-h))),t.insert(m+p.nodeSize,p.type.createAndFill(Gr(p.attrs,0,a-h))),d+=p.attrs.rowspan-1}}return c}function $4(t,e,n,o,r){let s=n?t.doc.nodeAt(n-1):t.doc;if(!s)throw new Error("No table found");let a=Ke.get(s);const{top:l,left:c}=o,d=c+r.width,u=l+r.height,f=t.tr;let p=0;function h(){if(s=n?f.doc.nodeAt(n-1):f.doc,!s)throw new Error("No table found");a=Ke.get(s),p=f.mapping.maps.length}dK(f,a,s,n,d,u,p)&&h(),R4(f,a,s,n,c,d,l,p)&&h(),R4(f,a,s,n,c,d,u,p)&&h(),L4(f,a,s,n,l,u,c,p)&&h(),L4(f,a,s,n,l,u,d,p)&&h();for(let m=l;m<u;m++){const g=a.positionAt(m,c,s),y=a.positionAt(m,d,s);f.replace(f.mapping.slice(p).map(g+n),f.mapping.slice(p).map(y+n),new H(r.rows[m-l],0,0))}h(),f.setSelection(new Ne(f.doc.resolve(n+a.positionAt(l,c,s)),f.doc.resolve(n+a.positionAt(u-1,d-1,s)))),e(f)}var uK=sf({ArrowLeft:lu("horiz",-1),ArrowRight:lu("horiz",1),ArrowUp:lu("vert",-1),ArrowDown:lu("vert",1),"Shift-ArrowLeft":cu("horiz",-1),"Shift-ArrowRight":cu("horiz",1),"Shift-ArrowUp":cu("vert",-1),"Shift-ArrowDown":cu("vert",1),Backspace:su,"Mod-Backspace":su,Delete:su,"Mod-Delete":su});function au(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function lu(t,e){return(n,o,r)=>{if(!r)return!1;const s=n.selection;if(s instanceof Ne)return au(n,o,ee.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const a=V4(r,t,e);if(a==null)return!1;if(t=="horiz")return au(n,o,ee.near(n.doc.resolve(s.head+e),e));{const l=n.doc.resolve(a),c=v4(l,t,e);let d;return c?d=ee.near(c,1):e<0?d=ee.near(n.doc.resolve(l.before(-1)),-1):d=ee.near(n.doc.resolve(l.after(-1)),1),au(n,o,d)}}}function cu(t,e){return(n,o,r)=>{if(!r)return!1;const s=n.selection;let a;if(s instanceof Ne)a=s;else{const c=V4(r,t,e);if(c==null)return!1;a=new Ne(n.doc.resolve(c))}const l=v4(a.$headCell,t,e);return l?au(n,o,new Ne(a.$anchorCell,l)):!1}}function fK(t,e){const n=t.state.doc,o=rs(n.resolve(e));return o?(t.dispatch(t.state.tr.setSelection(new Ne(o))),!0):!1}function pK(t,e,n){if(!cn(t.state))return!1;let o=aK(n);const r=t.state.selection;if(r instanceof Ne){o||(o={width:1,height:1,rows:[I.from(ag(pt(t.state.schema).cell,n))]});const s=r.$anchorCell.node(-1),a=r.$anchorCell.start(-1),l=Ke.get(s).rectBetween(r.$anchorCell.pos-a,r.$headCell.pos-a);return o=cK(o,l.right-l.left,l.bottom-l.top),$4(t.state,t.dispatch,a,l,o),!0}else if(o){const s=iu(t.state),a=s.start(-1);return $4(t.state,t.dispatch,a,Ke.get(s.node(-1)).findCell(s.pos-a),o),!0}else return!1}function hK(t,e){var n;if(e.ctrlKey||e.metaKey)return;const o=z4(t,e.target);let r;if(e.shiftKey&&t.state.selection instanceof Ne)s(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&o&&(r=rs(t.state.selection.$anchor))!=null&&((n=lg(t,e))==null?void 0:n.pos)!=r.pos)s(r,e),e.preventDefault();else if(!o)return;function s(c,d){let u=lg(t,d);const f=sr.getState(t.state)==null;if(!u||!sg(c,u))if(f)u=c;else return;const p=new Ne(c,u);if(f||!t.state.selection.eq(p)){const h=t.state.tr.setSelection(p);f&&h.setMeta(sr,c.pos),t.dispatch(h)}}function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",l),sr.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(sr,-1))}function l(c){const d=c,u=sr.getState(t.state);let f;if(u!=null)f=t.state.doc.resolve(u);else if(z4(t,d.target)!=o&&(f=lg(t,e),!f))return a();f&&s(f,d)}t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",l)}function V4(t,e,n){if(!(t.state.selection instanceof Y))return null;const{$head:o}=t.state.selection;for(let r=o.depth-1;r>=0;r--){const s=o.node(r);if((n<0?o.index(r):o.indexAfter(r))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const l=o.before(r),c=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(c)?l:null}}return null}function z4(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function lg(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?rs(t.state.doc.resolve(n.pos)):null}var mK=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),cg(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,cg(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function cg(t,e,n,o,r,s){var a;let l=0,c=!0,d=e.firstChild;const u=t.firstChild;if(u){for(let f=0,p=0;f<u.childCount;f++){const{colspan:h,colwidth:m}=u.child(f).attrs;for(let g=0;g<h;g++,p++){const y=r==p?s:m&&m[g],b=y?y+"px":"";if(l+=y||o,y||(c=!1),d)d.style.width!=b&&(d.style.width=b),d=d.nextSibling;else{const x=document.createElement("col");x.style.width=b,e.appendChild(x)}}}for(;d;){const f=d.nextSibling;(a=d.parentNode)==null||a.removeChild(d),d=f}c?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var Vt=new ye("tableColumnResizing");function gK({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:o=mK,lastColumnResizable:r=!0}={}){const s=new ge({key:Vt,state:{init(a,l){var c,d;const u=(d=(c=s.spec)==null?void 0:c.props)==null?void 0:d.nodeViews,f=pt(l.schema).table.name;return o&&u&&(u[f]=(p,h)=>new o(p,n,h)),new yK(-1,!1)},apply(a,l){return l.apply(a)}},props:{attributes:a=>{const l=Vt.getState(a);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,l)=>{bK(a,l,t,r)},mouseleave:a=>{wK(a)},mousedown:(a,l)=>{xK(a,l,e,n)}},decorations:a=>{const l=Vt.getState(a);if(l&&l.activeHandle>-1)return vK(a,l.activeHandle)},nodeViews:{}}});return s}var yK=class hu{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,o=e.getMeta(Vt);if(o&&o.setHandle!=null)return new hu(o.setHandle,!1);if(o&&o.setDragging!==void 0)return new hu(n.activeHandle,o.setDragging);if(n.activeHandle>-1&&e.docChanged){let r=e.mapping.map(n.activeHandle,-1);return ig(e.doc.resolve(r))||(r=-1),new hu(r,n.dragging)}return n}};function bK(t,e,n,o){if(!t.editable)return;const r=Vt.getState(t.state);if(r&&!r.dragging){const s=CK(e.target);let a=-1;if(s){const{left:l,right:c}=s.getBoundingClientRect();e.clientX-l<=n?a=F4(t,e,"left",n):c-e.clientX<=n&&(a=F4(t,e,"right",n))}if(a!=r.activeHandle){if(!o&&a!==-1){const l=t.state.doc.resolve(a),c=l.node(-1),d=Ke.get(c),u=l.start(-1);if(d.colCount(l.pos-u)+l.nodeAfter.attrs.colspan-1==d.width-1)return}j4(t,a)}}}function wK(t){if(!t.editable)return;const e=Vt.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&j4(t,-1)}function xK(t,e,n,o){var r;if(!t.editable)return!1;const s=(r=t.dom.ownerDocument.defaultView)!=null?r:window,a=Vt.getState(t.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const l=t.state.doc.nodeAt(a.activeHandle),c=kK(t,a.activeHandle,l.attrs);t.dispatch(t.state.tr.setMeta(Vt,{setDragging:{startX:e.clientX,startWidth:c}}));function d(f){s.removeEventListener("mouseup",d),s.removeEventListener("mousemove",u);const p=Vt.getState(t.state);p!=null&&p.dragging&&(SK(t,p.activeHandle,H4(p.dragging,f,n)),t.dispatch(t.state.tr.setMeta(Vt,{setDragging:null})))}function u(f){if(!f.which)return d(f);const p=Vt.getState(t.state);if(p&&p.dragging){const h=H4(p.dragging,f,n);U4(t,p.activeHandle,h,o)}}return U4(t,a.activeHandle,c,o),s.addEventListener("mouseup",d),s.addEventListener("mousemove",u),e.preventDefault(),!0}function kK(t,e,{colspan:n,colwidth:o}){const r=o&&o[o.length-1];if(r)return r;const s=t.domAtPos(e);let l=s.node.childNodes[s.offset].offsetWidth,c=n;if(o)for(let d=0;d<n;d++)o[d]&&(l-=o[d],c--);return l/c}function CK(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function F4(t,e,n,o){const r=n=="right"?-o:o,s=t.posAtCoords({left:e.clientX+r,top:e.clientY});if(!s)return-1;const{pos:a}=s,l=rs(t.state.doc.resolve(a));if(!l)return-1;if(n=="right")return l.pos;const c=Ke.get(l.node(-1)),d=l.start(-1),u=c.map.indexOf(l.pos-d);return u%c.width==0?-1:d+c.map[u-1]}function H4(t,e,n){const o=e.clientX-t.startX;return Math.max(n,t.startWidth+o)}function j4(t,e){t.dispatch(t.state.tr.setMeta(Vt,{setHandle:e}))}function SK(t,e,n){const o=t.state.doc.resolve(e),r=o.node(-1),s=Ke.get(r),a=o.start(-1),l=s.colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1,c=t.state.tr;for(let d=0;d<s.height;d++){const u=d*s.width+l;if(d&&s.map[u]==s.map[u-s.width])continue;const f=s.map[u],p=r.nodeAt(f).attrs,h=p.colspan==1?0:l-s.colCount(f);if(p.colwidth&&p.colwidth[h]==n)continue;const m=p.colwidth?p.colwidth.slice():EK(p.colspan);m[h]=n,c.setNodeMarkup(a+f,null,{...p,colwidth:m})}c.docChanged&&t.dispatch(c)}function U4(t,e,n,o){const r=t.state.doc.resolve(e),s=r.node(-1),a=r.start(-1),l=Ke.get(s).colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1;let c=t.domAtPos(r.start(-1)).node;for(;c&&c.nodeName!="TABLE";)c=c.parentNode;c&&cg(s,c.firstChild,c,o,l,n)}function EK(t){return Array(t).fill(0)}function vK(t,e){var n;const o=[],r=t.doc.resolve(e),s=r.node(-1);if(!s)return we.empty;const a=Ke.get(s),l=r.start(-1),c=a.colCount(r.pos-l)+r.nodeAfter.attrs.colspan-1;for(let d=0;d<a.height;d++){const u=c+d*a.width;if((c==a.width-1||a.map[u]!=a.map[u+1])&&(d==0||a.map[u]!=a.map[u-a.width])){const f=a.map[u],p=l+f+s.nodeAt(f).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",(n=Vt.getState(t))!=null&&n.dragging&&o.push(je.node(l+f,l+f+s.nodeAt(f).nodeSize,{class:"column-resize-dragging"})),o.push(je.widget(p,h))}}return we.create(t.doc,o)}function AK({allowTableNodeSelection:t=!1}={}){return new ge({key:sr,state:{init(){return null},apply(e,n){const o=e.getMeta(sr);if(o!=null)return o==-1?null:o;if(n==null||!e.docChanged)return n;const{deleted:r,pos:s}=e.mapping.mapResult(n);return r?null:s}},props:{decorations:VW,handleDOMEvents:{mousedown:hK},createSelectionBetween(e){return sr.getState(e.state)!=null?e.state.selection:null},handleTripleClick:fK,handleKeyDown:uK,handlePaste:pK},appendTransaction(e,n,o){return HW(o,_4(o,n),t)}})}const MK=(t,e,n)=>{if(!t.doc)return t;const o=t.doc.nodeAt(e);if(!o||n===o.attrs.backgroundColor)return t;const r={...o.attrs,backgroundColor:n};return t.setNodeMarkup(e,o.type,r,o.marks)},_K=(t,e,n)=>{const{doc:o,selection:r}=t;return!o||!r||!(r instanceof Ne)||r.forEachCell((s,a)=>{t=MK(t,a,n)}),t},W4=(t,e)=>({tr:n,state:o,dispatch:r})=>{const{selection:s}=o;return n=n.setSelection(s),n=_K(n,e,t),n.docChanged?(r==null||r(n),!0):!1},TK=fe.create({name:"tableCellBackground",addOptions(){return{types:["tableCell"],HTMLAttributes:{}}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{parseHTML:t=>t.style.backgroundColor||"",renderHTML:t=>!t.backgroundColor||t.backgroundColor===""?{}:{style:`background-color: ${t.backgroundColor}`}}}}]},addCommands(){return{setTableCellBackground:t=>W4(t,this.options),unsetTableCellBackground:()=>W4("",this.options)}}}),BK=Pe.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(o=>parseInt(o,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",xe(this.options.HTMLAttributes,t),0]}}),OK=Pe.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",xe(this.options.HTMLAttributes,t),0]}}),NK=Pe.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(o=>parseInt(o,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",xe(this.options.HTMLAttributes,t),0]}});function dg(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function K4(t,e,n,o,r,s){var a;let l=0,c=!0,d=e.firstChild;const u=t.firstChild;if(u!==null)for(let f=0,p=0;f<u.childCount;f+=1){const{colspan:h,colwidth:m}=u.child(f).attrs;for(let g=0;g<h;g+=1,p+=1){const y=r===p?s:m&&m[g],b=y?`${y}px`:"";if(l+=y||o,y||(c=!1),d){if(d.style.width!==b){const[x,k]=dg(o,y);d.style.setProperty(x,k)}d=d.nextSibling}else{const x=document.createElement("col"),[k,w]=dg(o,y);x.style.setProperty(k,w),e.appendChild(x)}}}for(;d;){const f=d.nextSibling;(a=d.parentNode)===null||a===void 0||a.removeChild(d),d=f}c?(n.style.width=`${l}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${l}px`)}class PK{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),K4(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,K4(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function IK(t,e,n,o){let r=0,s=!0;const a=[],l=t.firstChild;if(!l)return{};for(let f=0,p=0;f<l.childCount;f+=1){const{colspan:h,colwidth:m}=l.child(f).attrs;for(let g=0;g<h;g+=1,p+=1){const y=n===p?o:m&&m[g];r+=y||e,y||(s=!1);const[b,x]=dg(e,y);a.push(["col",{style:`${b}: ${x}`}])}}const c=s?`${r}px`:"",d=s?"":`${r}px`;return{colgroup:["colgroup",{},...a],tableWidth:c,tableMinWidth:d}}function q4(t,e){return t.createAndFill()}function DK(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const o=t.nodes[n];o.spec.tableRole&&(e[o.spec.tableRole]=o)}),t.cached.tableNodeTypes=e,e}function RK(t,e,n,o,r){const s=DK(t),a=[],l=[];for(let d=0;d<n;d+=1){const u=q4(s.cell);if(u&&l.push(u),o){const f=q4(s.header_cell);f&&a.push(f)}}const c=[];for(let d=0;d<e;d+=1)c.push(s.row.createChecked(null,o&&d===0?a:l));return s.table.createChecked(null,c)}function LK(t){return t instanceof Ne}const du=({editor:t})=>{const{selection:e}=t.state;if(!LK(e))return!1;let n=0;const o=J1(e.ranges[0].$from,s=>s.type.name==="table");return o==null||o.node.descendants(s=>{if(s.type.name==="table")return!1;["tableCell","tableHeader"].includes(s.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},$K=Pe.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:PK,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:o,tableMinWidth:r}=IK(t,this.options.cellMinWidth);return["table",xe(this.options.HTMLAttributes,e,{style:o?`width: ${o}`:`min-width: ${r}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:o,dispatch:r,editor:s})=>{const a=RK(s.schema,t,e,n);if(r){const l=o.selection.from+1;o.replaceSelectionWith(a).scrollIntoView().setSelection(Y.near(o.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>WW(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>KW(t,e),deleteColumn:()=>({state:t,dispatch:e})=>GW(t,e),addRowBefore:()=>({state:t,dispatch:e})=>YW(t,e),addRowAfter:()=>({state:t,dispatch:e})=>XW(t,e),deleteRow:()=>({state:t,dispatch:e})=>QW(t,e),deleteTable:()=>({state:t,dispatch:e})=>sK(t,e),mergeCells:()=>({state:t,dispatch:e})=>N4(t,e),splitCell:()=>({state:t,dispatch:e})=>P4(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>Ga("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>Ga("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>rK(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>N4(t,e)?!0:P4(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:o})=>nK(t,e)(n,o),goToNextCell:()=>({state:t,dispatch:e})=>D4(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>D4(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&_4(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const o=Ne.create(e.doc,t.anchorCell,t.headCell);e.setSelection(o)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:du,"Mod-Backspace":du,Delete:du,"Mod-Delete":du}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[gK({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],AK({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:ce(K(t,"tableRole",e))}}}),VK=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,zK=/CrOS/,FK=/android|ipad|playbook|silk/i;function G4(t={}){let e=t.ua||typeof navigator<"u"&&navigator.userAgent;return e&&typeof e=="object"&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),typeof e!="string"?!1:!!(VK.test(e)&&!zK.test(e)||t.tablet&&FK.test(e)||t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&e.includes("Macintosh")&&e.includes("Safari"))}const HK=["disabled"],jK={"content-class":"table-grid-size-editor","content-style":"padding:0"},UK={class:"flex flex-col flex-wrap gap-1 justify-between"},WK=["onMouseover","onMousedown"],KK=[i.createElementVNode("div",{class:"w-4 h-4 p-1 border box-border"},null,-1)],qK={class:"text-center text-sm text-zinc-600 mt-2"},GK=i.defineComponent({__name:"CreateTablePopover",props:{disabled:{default:!1}},emits:["create-table"],setup(t,{emit:e}){const n=e,o=i.ref(!1),r=i.ref(!0),s=i.reactive({rows:G4()?Hl:Fl,cols:G4()?Hl:Fl}),a=i.reactive({rows:jl,cols:jl});function l(u,f){u===s.rows&&(s.rows=Math.min(u+1,Hl)),f===s.cols&&(s.cols=Math.min(f+1,Hl)),a.rows=u,a.cols=f}function c(u,f){n("create-table",{rows:u,cols:f,withHeaderRow:i.unref(r)}),d()}function d(){o.value=!1,r.value=!1,s.rows=Fl,s.cols=Fl,a.rows=jl,a.cols=jl}return(u,f)=>(i.openBlock(),i.createBlock(i.unref(Li),null,{default:i.withCtx(()=>[i.createVNode(i.unref($i),{"as-child":""},{default:i.withCtx(()=>[i.createElementVNode("button",{disabled:t.disabled,class:"m-0 p-0"},[i.renderSlot(u.$slots,"trigger")],8,HK)]),_:3}),i.createVNode(i.unref(Vi),{class:"w-full",align:"start",side:"bottom"},{default:i.withCtx(()=>[i.createElementVNode("div",jK,[i.createElementVNode("div",UK,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(s.rows,p=>(i.openBlock(),i.createElementBlock("div",{key:"r"+p,class:"flex gap-1"},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(s.cols,h=>(i.openBlock(),i.createElementBlock("div",{key:"c"+h,class:i.normalizeClass([[h<=a.cols&&p<=a.rows&&"bg-foreground border-border","cursor-pointer"],"pa-1"]),onMouseover:m=>l(p,h),onMousedown:m=>c(p,h)},KK,42,WK))),128))]))),128))]),i.createElementVNode("div",qK,i.toDisplayString(a.rows)+" x "+i.toDisplayString(a.cols),1)])]),_:1})]),_:3}))}}),JK={style:{display:"flex"}},YK=i.defineComponent({__name:"TableActionButton",props:{editor:{},icon:{default:void 0},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},color:{default:void 0},action:{type:Function,default:void 0},isActive:{type:Function,default:void 0}},setup(t){const e=t;function n(o){e.disabled||e.editor.chain().focus().insertTable({...o,withHeaderRow:!1}).run()}return(o,r)=>(i.openBlock(),i.createBlock(GK,{onCreateTable:n,disabled:o.disabled},{trigger:i.withCtx(()=>[i.createElementVNode("div",JK,[i.createVNode(ne,{icon:o.icon,tooltip:o.tooltip,disabled:o.disabled,color:o.color,action:o.action,"is-active":o.isActive},null,8,["icon","tooltip","disabled","color","action","is-active"])])]),_:1},8,["disabled"]))}}),XK=$K.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),resizable:!0,lastColumnResizable:!0,allowTableNodeSelection:!1,button:({editor:e,t:n})=>({component:YK,componentProps:{disabled:e.isActive("table")||!1,icon:"Table",tooltip:n("editor.table.tooltip")}})}},addExtensions(){return[OK.configure(this.options.tableRow),BK.configure(this.options.tableHeader),NK.configure(this.options.tableCell),TK.configure(this.options.tableCellBackground)]}}),ZK=i.defineComponent({__name:"AIButton",props:{editor:{},icon:{default:void 0},title:{default:void 0},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},shortcutKeys:{default:void 0},customClass:{default:""},loading:{type:Boolean,default:!1},tooltipOptions:{default:void 0},color:{default:void 0},action:{type:Function,default:void 0},isActive:{type:Function,default:void 0}},setup(t){const e=t,n=Ot(),{toast:o}=Zi();function r(){var a,l,c;const s=(l=(a=e.editor.extensionManager.extensions.find(d=>d.name==="AI"))==null?void 0:a.options)==null?void 0:l.completions;if(typeof s!="function"){o({title:"AI completions method is not set or is not a valid function",variant:"destructive"});return}if(s.constructor.name!=="AsyncFunction"){o({title:"AI completions method must be an asynchronous function",variant:"destructive"});return}n.state.AIMenu=!0,(c=e.editor)==null||c.commands.focus()}return(s,a)=>(i.openBlock(),i.createBlock(ne,{action:r,title:"AI",disabled:s.disabled,icon:s.icon,tooltip:s.tooltip},null,8,["disabled","icon","tooltip"]))}}),QK=Pe.create({name:"AI",group:"block",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),toolbar:!1,button:({editor:e,t:n})=>({component:ZK,componentProps:{icon:"Sparkles",tooltip:n("editor.AI.ask")}})}}}),eq=fe.create({name:"painter",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,extension:n,t:o})=>({component:ne,componentProps:{action:()=>{e.commands.setPainter(e==null?void 0:e.state.selection.$head.marks())},icon:"PaintRoller",tooltip:o("editor.format")}})}},addCommands(){return{setPainter:t=>({view:{dispatch:e,state:{tr:n},dom:o}})=>{const a=`url("data:image/svg+xml;utf8,${encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#000" d="M9 22v-6H4V7q0-1.65 1.175-2.825T8 3h12v13h-5v6zM6 10h12V5h-1v4h-2V5h-1v2h-2V5H8q-.825 0-1.412.588T6 7zm0 4h12v-2H6zm0 0v-2z"/></svg>')}"), auto`;return o.style.cursor=a,e(n.setMeta("painterAction",{type:"start",marks:t})),!0}}},addProseMirrorPlugins(){return[new ge({key:new ye("format-painter"),state:{init:()=>[],apply:(t,e)=>{const n=t.getMeta("painterAction");return n&&n.type==="start"?e=n.marks:n&&n.type==="end"&&(e=[]),e}},props:{handleDOMEvents:{mousedown(t,e){const n=this.getState(t.state);if(!n||n.length==0)return t.dom.style.cursor="",!1;const o=()=>{document.removeEventListener("mouseup",o);let{dispatch:r,state:{tr:s,selection:a},dom:l}=t;l.style.cursor="",s=s.removeMark(a.from,a.to);for(let c of n)c.type.name!="link"&&(s=s.addMark(a.from,a.to,c));r(s.setMeta("painterAction",{type:"end"}))};return document.addEventListener("mouseup",o),!0}}}})]}});function tq(t,e){const n=atob(t.split(",")[1]),o=new Array(n.length);for(let s=0;s<n.length;s++)o[s]=n.charCodeAt(s);const r=new Uint8Array(o);return new Blob([r],{type:e})}function nq(t,e){return new File([t],e,{type:t.type})}const oq=fe.create({name:"importWord",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),upload:void 0,convert:void 0,limit:1024*1024*10,button:({editor:e,extension:n,t:o})=>({component:ne,componentProps:{action:()=>{var r;return(r=e.commands)==null?void 0:r.toggleImportWord()},disabled:!e.can().setHorizontalRule(),icon:"Word",tooltip:o("editor.importWord.tooltip")}})}},addCommands(){return{toggleImportWord:()=>({chain:t,editor:e})=>{const{toast:n}=Zi(),{t:o}=Be();async function r(c){var h;const u=new DOMParser().parseFromString(c,"text/html"),f=u.querySelectorAll("img");if(!f.length)return u.body.innerHTML;if(tc(e,"image")){const m=(h=e.extensionManager.extensions.find(g=>g.name==="importWord"))==null?void 0:h.options;if(m&&typeof m.upload=="function"){const g=[];for(let b of f){const x=b.getAttribute("src"),k=tq(x,"image/jpeg"),w=nq(k,"image.jpeg");g.push(w)}const y=await m.upload(g);for(let b=0;b<f.length;b++){const x=f[b];x.setAttribute("src",y[b].src);const k=x.parentElement;(k==null?void 0:k.tagName)==="P"&&(k.insertAdjacentElement("beforebegin",x),!k.hasChildNodes()&&k.textContent===""&&k.remove())}return u.body.innerHTML}else return console.warn("Image Upload method found, skip image conversion"),u.body.innerHTML}else return console.error("Image extension not found, unable to convert image"),u.body.innerHTML}async function s(c){const d=await r(c);e.chain().setContent(d.toString(),!0).run(),n({title:o.value("editor.importWord.success")})}const{open:a,onChange:l}=XT({accept:".docx",reset:!0,multiple:!1});return a(),l(async c=>{const[d]=Array.from(c??[]);if(d){if(d.size>this.options.limit){n({title:o.value("editor.importWord.fileTooLarge"),variant:"destructive"});return}if(this.options.convert){const u=await this.options.convert(d);s(u)}else{const u=new FormData,f=JSON.stringify({collaboration_features:{comments:!0,user_id:"e3",track_changes:!0},formatting:{resets:"none",defaults:"inline",styles:"inline",comments:"basic"}});u.append("config",f),u.append("file",d),fetch("https://docx-converter.cke-cs.com/v2/convert/docx-html",{method:"POST",body:u}).then(p=>p.json()).then(async p=>{s(p.html)}).catch(p=>{n({title:o.value("editor.importWord.error"),variant:"destructive"}),console.error("Error:",p)})}}}),!1}}}}),uu=i.defineComponent({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(GP),i.mergeProps({class:i.unref(Z)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e.class)},n.value),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["class"]))}}),is=new ye("upload-image"),rq=()=>new ge({key:is,state:{init(){return we.empty},apply(t,e){e=e.map(t.mapping,t.doc);const n=t.getMeta(is);return n!=null&&n.add?n.add.forEach(({id:o,pos:r,src:s})=>{const a=iq(s),l=je.widget(r,a,{id:o});e=e.add(t.doc,[l])}):n!=null&&n.remove&&n.remove.forEach(o=>{e=e.remove(e.find(void 0,void 0,r=>r.id===o))}),e}},props:{decorations(t){return this.getState(t)}}});function iq(t){const e=document.createElement("div"),n=document.createElement("img");return n.setAttribute("class","opacity-50"),n.src=t,n.onload=()=>{e.setAttribute("class","img-placeholder")},e.appendChild(n),e}function sq(t,e){var r;const o=is.getState(t).find(void 0,void 0,s=>s.id===e);return o.length?(r=o[0])==null?void 0:r.from:null}const J4=({validateFn:t,onUpload:e})=>(n,o,r)=>{n.forEach(s=>{if(t&&!t(s))return;const a=Date.now().toString(),l=o.state.tr;l.selection.empty||l.deleteSelection();const c=URL.createObjectURL(s);l.setMeta(is,{add:[{id:a,pos:r,src:c}]}),o.dispatch(l),e(s).then(d=>{var g;const{schema:u}=o.state,f=sq(o.state,a);if(f===null)return;const p=typeof d=="object"?c:d,h=(g=u.nodes.image)==null?void 0:g.create({src:p});if(!h)return;const m=o.state.tr.replaceWith(f,f,h).setMeta(is,{remove:[a]});o.dispatch(m)},()=>{const d=o.state.tr.delete(r,r).setMeta(is,{remove:[a]});o.dispatch(d)})})},aq=(t,e,n)=>{var r;const o=Array.from(((r=e.clipboardData)==null?void 0:r.files)||[]);if(o.length){e.preventDefault();const s=t.state.selection.from;return n(o,t,s+1),!0}return!1},lq=(t,e,n,o)=>{var s;const r=Array.from(((s=e.dataTransfer)==null?void 0:s.files)||[]);if(!n&&r.length){e.preventDefault();const a=t.posAtCoords({left:e.clientX,top:e.clientY});if(a)return o(r,t,a.pos+1),!0}return!1},cq={class:"flex items-center w-full p-3 my-3 hover:bg-accent border border-border text-muted-foreground cursor-pointer rounded-sm transition-all"},dq={class:"flex justify-between items-center w-full"},uq={class:"flex justify-center items-center gap-3"},fq={class:"text-sm"},pq={class:"flex items-center gap-2"},hq=i.defineComponent({__name:"ImageUploader",props:{...zs},setup(t){const e=t,n=i.ref(""),o=i.ref(),{t:r}=Be();function s(d){var m,g;const u=(m=d==null?void 0:d.target)==null?void 0:m.files;if(!e.editor||e.editor.isDestroyed||u.length===0)return;const f=u[0],p=(g=e.editor.extensionManager.extensions.find(y=>y.name==="imageUpload"))==null?void 0:g.options;J4({validateFn:y=>!0,onUpload:p.upload})([f],e.editor.view,e.getPos())}function a(){e.editor.chain().setImage({src:n.value}).deleteRange({from:e.getPos(),to:e.getPos()}).focus().run()}function l(){e.deleteNode()}function c(){var d;(d=o.value)==null||d.click()}return(d,u)=>(i.openBlock(),i.createBlock(i.unref(Vs),{class:"p-0 m-0","data-drag-handle":""},{default:i.withCtx(()=>[i.createVNode(i.unref(Li),{defaultOpen:"",modal:""},{default:i.withCtx(()=>[i.createVNode(i.unref($i),{"as-child":""},{default:i.withCtx(()=>[i.createElementVNode("div",cq,[i.createElementVNode("div",dq,[i.createElementVNode("div",uq,[i.createVNode(i.unref(re),{name:"ImageUp",class:"w-6 h-6"}),i.createElementVNode("span",fq,i.toDisplayString(i.unref(r)("editor.image.dialog.title")),1)]),i.createVNode(i.unref(re),{name:"Trash2",class:"hover:text-foreground",onClick:i.withModifiers(l,["stop"])})])])]),_:1}),i.createVNode(i.unref(Vi),{trapFocus:"",class:"w-full",onOpenAutoFocus:f=>f.preventDefault()},{default:i.withCtx(()=>[i.createVNode(i.unref(ym),{"default-value":"upload",class:"w-[400px]",activationMode:"manual"},{default:i.withCtx(()=>[i.createVNode(i.unref(bm),{class:"grid w-full grid-cols-2"},{default:i.withCtx(()=>[i.createVNode(i.unref(Ia),{value:"upload"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(r)("editor.image.dialog.tab.upload")),1)]),_:1}),i.createVNode(i.unref(Ia),{value:"link"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(r)("editor.image.dialog.tab.url")),1)]),_:1})]),_:1}),i.createVNode(i.unref(uu),{value:"upload"},{default:i.withCtx(()=>[i.createVNode(i.unref(lt),{class:"w-full mt-1",size:"sm",onClick:c},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(r)("editor.image.dialog.tab.upload")),1)]),_:1}),i.createElementVNode("input",{type:"file",accept:"image/*",ref_key:"fileInput",ref:o,multiple:"",style:{display:"none"},onChange:s},null,544)]),_:1}),i.createVNode(i.unref(uu),{value:"link"},{default:i.withCtx(()=>[i.createElementVNode("form",{onSubmit:i.withModifiers(a,["prevent"])},[i.createElementVNode("div",pq,[i.createVNode(i.unref(Jo),{type:"url",autofocus:"",required:"",modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=f=>n.value=f),placeholder:i.unref(r)("editor.image.dialog.placeholder")},null,8,["modelValue","placeholder"]),i.createVNode(i.unref(lt),{type:"submit"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(r)("editor.image.dialog.button.apply")),1)]),_:1})])],32)]),_:1})]),_:1})]),_:1},8,["onOpenAutoFocus"])]),_:1})]),_:1}))}}),mq={acceptMimes:["image/jpeg","image/gif","image/png","image/jpg"],maxSize:1024*1024*5},gq=t=>`${(t/1024/1024).toFixed(2)}MB`,yq=Pe.create({name:"imageUpload",isolating:!0,defining:!0,group:"block",draggable:!1,selectable:!0,inline:!1,onCreate(){if(typeof this.options.upload!="function")throw new Error("Image upload function should be a function")},parseHTML(){return[{tag:`div[data-type="${this.name}"]`}]},renderHTML(){return["div",{"data-type":this.name}]},addCommands(){return{setImageUpload:()=>({commands:t})=>t.insertContent(`<div data-type="${this.name}"></div>`)}},addNodeView(){return Fs(hq)},addOptions(){var t;return{...mq,...(t=this.parent)==null?void 0:t.call(this),upload:()=>Promise.reject("Image Upload Function"),button:({editor:e,extension:n,t:o})=>({component:ne,componentProps:{action:()=>e.commands.setImageUpload(),disabled:!e.can().setImage({}),icon:"ImageUp",tooltip:o("editor.image.tooltip")}})}},addProseMirrorPlugins(){const{toast:t}=Zi(),{t:e}=Be(),o=J4({validateFn:r=>this.options.acceptMimes.includes(r.type)?r.size>this.options.maxSize?(t({description:`${e.value("editor.imageUpload.fileSizeTooBig")} ${gq(this.options.maxSize)}.`,duration:2e3}),!1):!0:(t({description:e.value("editor.imageUpload.fileTypeNotSupported"),duration:2e3}),!1),onUpload:this.options.upload});return[new ge({props:{handlePaste:(r,s)=>!s.clipboardData||Array.from(s.clipboardData.items||[]).some(l=>l.type==="text/html")?!1:aq(r,s,o),handleDrop:(r,s,a,l)=>(!(s instanceof DragEvent)||!s.dataTransfer||lq(r,s,l,o),!1)}}),rq()]}}),bq={class:"flex items-center w-full p-3 my-3 hover:bg-accent border border-border text-muted-foreground cursor-pointer rounded-sm transition-all"},wq={key:0,class:"flex justify-center items-center gap-3 text-s"},xq={key:1,class:"flex justify-between items-center w-full"},kq={class:"flex justify-center items-center gap-3"},Cq={class:"text-sm"},Sq={class:"flex items-center gap-2"},Eq=i.defineComponent({__name:"VideoUploader",props:{...zs},setup(t){const e=t,n=i.ref(""),o=i.ref(!1),r=i.ref(),{t:s}=Be();function a(u){var m,g;o.value=!0;const f=(m=u==null?void 0:u.target)==null?void 0:m.files;if(!e.editor||e.editor.isDestroyed||f.length===0)return;const p=f[0],h=(g=e.editor.extensionManager.extensions.find(y=>y.name==="videoUpload"))==null?void 0:g.options;h==null||h.upload([p]).then(y=>{e.editor.chain().setVideo({src:y[0].src,width:"100%"}).deleteRange({from:e.getPos(),to:e.getPos()}).focus().run(),o.value=!1})}function l(){e.editor.chain().setVideo({src:n.value,width:"100%"}).deleteRange({from:e.getPos(),to:e.getPos()}).focus().run()}function c(){e.deleteNode()}function d(){var u;(u=r.value)==null||u.click()}return(u,f)=>(i.openBlock(),i.createBlock(i.unref(Vs),{as:"div","data-drag-handle":""},{default:i.withCtx(()=>[i.createVNode(i.unref(Li),{defaultOpen:"",modal:""},{default:i.withCtx(()=>[i.createVNode(i.unref($i),{"as-child":""},{default:i.withCtx(()=>[i.createElementVNode("div",bq,[o.value?(i.openBlock(),i.createElementBlock("div",wq,[i.createVNode(i.unref(re),{class:"animate-spin w-6 h-6",name:"LoaderCircle"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(s)("editor.video.dialog.uploading"))+"...",1)])):(i.openBlock(),i.createElementBlock("div",xq,[i.createElementVNode("div",kq,[i.createVNode(i.unref(re),{name:"Video",class:"w-6 h-6"}),i.createElementVNode("span",Cq,i.toDisplayString(i.unref(s)("editor.video.dialog.title")),1)]),i.createVNode(i.unref(re),{name:"Trash2",class:"hover:text-foreground",onClick:i.withModifiers(c,["stop"])})]))])]),_:1}),i.createVNode(i.unref(Vi),{trapFocus:"",class:"w-full",onOpenAutoFocus:p=>p.preventDefault()},{default:i.withCtx(()=>[i.createVNode(i.unref(ym),{"default-value":"upload",class:"w-[400px]",activationMode:"manual"},{default:i.withCtx(()=>[i.createVNode(i.unref(bm),{class:"grid w-full grid-cols-2"},{default:i.withCtx(()=>[i.createVNode(i.unref(Ia),{value:"upload"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(s)("editor.video.dialog.tab.upload")),1)]),_:1}),i.createVNode(i.unref(Ia),{value:"link"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(s)("editor.video.dialog.link")),1)]),_:1})]),_:1}),i.createVNode(i.unref(uu),{value:"upload"},{default:i.withCtx(()=>[i.createVNode(i.unref(lt),{class:"w-full mt-1",size:"sm",onClick:d},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(s)("editor.video.dialog.tab.upload")),1)]),_:1}),i.createElementVNode("input",{type:"file",accept:"video/*",ref_key:"fileInput",ref:r,multiple:"",style:{display:"none"},onChange:a},null,544)]),_:1}),i.createVNode(i.unref(uu),{value:"link"},{default:i.withCtx(()=>[i.createElementVNode("form",{onSubmit:i.withModifiers(l,["prevent"])},[i.createElementVNode("div",Sq,[i.createVNode(i.unref(Jo),{type:"url",autofocus:"",required:"",modelValue:n.value,"onUpdate:modelValue":f[0]||(f[0]=p=>n.value=p),placeholder:i.unref(s)("editor.video.dialog.placeholder")},null,8,["modelValue","placeholder"]),i.createVNode(i.unref(lt),{type:"submit"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(s)("editor.video.dialog.button.apply")),1)]),_:1})])],32)]),_:1})]),_:1})]),_:1},8,["onOpenAutoFocus"])]),_:1})]),_:1}))}}),vq=Pe.create({name:"videoUpload",isolating:!0,defining:!0,group:"block",draggable:!0,selectable:!0,inline:!1,parseHTML(){return[{tag:`div[data-type="${this.name}"]`}]},renderHTML(){return["div",{"data-type":this.name}]},addCommands(){return{setVideoUpload:()=>({commands:t})=>t.insertContent(`<div data-type="${this.name}"></div>`)}},addNodeView(){return Fs(Eq)},addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),upload:void 0,button:({editor:e,t:n})=>({component:ne,componentProps:{action:()=>e.commands.setVideoUpload(),isActive:()=>e.isActive("video")||!1,disabled:!e.can().setVideo({}),icon:"Video",tooltip:n("editor.video.tooltip")}})}}}),Aq=fe.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),Mq=["data-font"],_q=i.defineComponent({__name:"FontFamilyMenuButton",props:{editor:{},disabled:{type:Boolean,default:!1},color:{default:void 0},shortcutKeys:{default:void 0},maxHeight:{default:void 0},tooltip:{default:""},items:{default:()=>[]}},setup(t){const e=t,{t:n}=Be(),o=i.computed(()=>{const a=e.editor.extensionManager.extensions.find(c=>c.name==="fontFamily").options;return{[n.value("editor.fontFamily.default")]:n.value("editor.fontFamily.default"),...a.fontFamilyMap}}),r=i.computed(()=>yf(e.editor.state,"textStyle").fontFamily||n.value("editor.fontFamily.default"));function s(a){a===r.value?e.editor.commands.unsetFontFamily():e.editor.commands.setFontFamily(a)}return(a,l)=>(i.openBlock(),i.createBlock(Hr,{disabled:a.disabled,tooltip:a.tooltip,title:r.value,btn_class:"min-w-24 max-w-32"},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.value,(c,d)=>(i.openBlock(),i.createElementBlock(i.Fragment,{key:d},[i.createVNode(i.unref(Xi),{checked:r.value===c,onClick:u=>s(c)},{default:i.withCtx(()=>[i.createElementVNode("span",{class:"ml-1 h-full","data-font":c,style:i.normalizeStyle({fontFamily:c??void 0})},i.toDisplayString(c),13,Mq)]),_:2},1032,["checked","onClick"]),c===i.unref(n)("editor.fontFamily.default")?(i.openBlock(),i.createBlock(i.unref(wd),{key:0})):i.createCommentVNode("",!0)],64))),128))]),_:1},8,["disabled","tooltip","title"]))}}),Tq=Aq.extend({name:"fontFamily",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),types:["textStyle"],fontFamilyMap:Tv,button({editor:e,extension:n,t:o}){return{component:_q,componentProps:{editor:e,disabled:!e.can().setFontFamily(""),tooltip:o("editor.fontFamily.tooltip")}}}}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily.replace(/['"]/g,""),renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),ug=Ot(),Bq=fe.create({name:"preview",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({t:e})=>({component:ne,componentProps:{icon:"Eye",action:()=>{ug.togglePreview()},tooltip:e("editor.preview.tooltip"),isActive:()=>ug.state.showPreview}})}},addCommands(){return{togglePreview:()=>({editor:t})=>(ug.togglePreview(),!0)}}}),Y4=Ot(),Oq=(t,e,n)=>RegExp(e?t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):t,n?"gu":"gui");function Nq(t,e,n,o){const r=[],s=[];let a=[],l=0;if(!e)return{decorationsToReturn:we.empty,results:[]};t==null||t.descendants((c,d)=>{c.isText?a[l]?a[l]={text:a[l].text+c.text,pos:a[l].pos}:a[l]={text:`${c.text}`,pos:d}:l+=1}),a=a.filter(Boolean);for(const c of a){const{text:d,pos:u}=c,f=Array.from(d.matchAll(e)).filter(([p])=>p.trim());for(const p of f){if(p[0]==="")break;p.index!==void 0&&s.push({from:u+p.index,to:u+p.index+p[0].length})}}for(let c=0;c<s.length;c+=1){const d=s[c],u=c===o?`${n} ${n}-current`:n,f=je.inline(d.from,d.to,{class:u});r.push(f)}return{decorationsToReturn:we.create(t,r),results:s}}const Pq=(t,e,{state:n,dispatch:o})=>{if(!e[0])return;const{from:s,to:a}=e[0];o&&o(n.tr.insertText(t,s,a))},Iq=(t,e,n,o)=>{const r=e+1;if(!o[r])return null;const{from:s,to:a}=o[e],l=a-s-t.length+n,{from:c,to:d}=o[r];return o[r]={to:d-l,from:c-l},[l,o]},Dq=(t,e,{tr:n,dispatch:o})=>{let r=0,s=e.slice();if(s.length){for(let a=0;a<s.length;a+=1){const{from:l,to:c}=s[a];n.insertText(t,l,c);const d=Iq(t,a,r,s);d&&(r=d[0],s=d[1])}o&&o(n)}},Rq=new ye("findAndReplacePlugin"),Lq=fe.create({name:"findAndReplace",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),searchResultClass:"echo-editor-search-result",disableRegex:!0,button:({editor:e,extension:n,t:o})=>({component:ne,componentProps:{icon:"DocSearch",tooltip:o("editor.findAndReplace.tooltip"),shortcutKeys:["mod","F"],action:()=>{Y4.toggleFindAndReplace()},isActive:()=>Y4.state.findAndReplace}})}},addStorage(){return{searchTerm:"",replaceTerm:"",results:[],lastSearchTerm:"",caseSensitive:!1,lastCaseSensitive:!1,resultIndex:0,lastResultIndex:0}},addCommands(){return{setSearchTerm:t=>({editor:e})=>(e.storage.findAndReplace.searchTerm=t,!1),setReplaceTerm:t=>({editor:e})=>(e.storage.findAndReplace.replaceTerm=t,!1),setCaseSensitive:t=>({editor:e})=>(e.storage.findAndReplace.caseSensitive=t,!1),resetIndex:()=>({editor:t})=>(t.storage.findAndReplace.resultIndex=0,!1),nextSearchResult:()=>({editor:t})=>{const{results:e,resultIndex:n}=t.storage.findAndReplace,o=n+1;return e[o]?t.storage.findAndReplace.resultIndex=o:t.storage.findAndReplace.resultIndex=0,!1},previousSearchResult:()=>({editor:t})=>{const{results:e,resultIndex:n}=t.storage.findAndReplace,o=n-1;return e[o]?t.storage.findAndReplace.resultIndex=o:t.storage.findAndReplace.resultIndex=e.length-1,!1},replace:()=>({editor:t,state:e,dispatch:n})=>{const{replaceTerm:o,results:r}=t.storage.findAndReplace;return Pq(o,r,{state:e,dispatch:n}),!1},replaceAll:()=>({editor:t,tr:e,dispatch:n})=>{const{replaceTerm:o,results:r}=t.storage.findAndReplace;return Dq(o,r,{tr:e,dispatch:n}),!1}}},addProseMirrorPlugins(){const t=this.editor,{searchResultClass:e,disableRegex:n}=this.options,o=a=>t.storage.findAndReplace.lastSearchTerm=a,r=a=>t.storage.findAndReplace.lastCaseSensitive=a,s=a=>t.storage.findAndReplace.lastResultIndex=a;return[new ge({key:Rq,state:{init:()=>we.empty,apply({doc:a,docChanged:l},c){const{searchTerm:d,lastSearchTerm:u,caseSensitive:f,lastCaseSensitive:p,resultIndex:h,lastResultIndex:m}=t.storage.findAndReplace;if(!l&&u===d&&p===f&&m===h)return c;if(o(d),r(f),s(h),!d)return t.storage.findAndReplace.results=[],we.empty;const{decorationsToReturn:g,results:y}=Nq(a,Oq(d,n,f),e,h);return t.storage.findAndReplace.results=y,g}},props:{decorations(a){return this.getState(a)}}})]}}),{togglePrinter:$q,state:Vq}=Ot(),zq=fe.create({name:"printer",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,extension:n,t:o})=>({component:ne,componentProps:{tooltip:o("editor.printer.tooltip"),action:()=>$q(),icon:"Printer",shortcutKeys:["mod","P"],isActive:()=>Vq.printer}})}}});jz();const X4={install(t){t.component("echo-editor",EC)}};W.AI=QK,W.ActionButton=ne,W.BaseKit=XU,W.Blockquote=uj,W.Bold=Gz,W.BulletList=ej,W.Clear=tj,W.Code=sF,W.CodeBlock=bH,W.Color=KH,W.Columns=fV,W.EchoEditor=EC,W.EchoEditorPlugin=X4,W.FindAndReplace=Lq,W.FontFamily=Tq,W.FontSize=NH,W.FormatPainter=eq,W.Fullscreen=Gj,W.Heading=AH,W.Highlight=JH,W.History=qj,W.HorizontalRule=Lj,W.Image=MW,W.ImageUpload=yq,W.ImportWord=oq,W.Indent=nW,W.Italic=Qz,W.LineHeight=aW,W.Link=Rj,W.MoreMark=tW,W.OrderedList=sj,W.Preview=Bq,W.Printer=zq,W.SlashCommand=wW,W.Strike=oF,W.SubAndSuperScript=ZU,W.Table=XK,W.TaskList=cj,W.TextAlign=TH,W.Underline=eF,W.Video=TW,W.VideoUpload=vq,W.default=X4,W.en=sw,W.locale=gT,W.useEditor=Cv,W.zhHans=iw,Object.defineProperties(W,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
